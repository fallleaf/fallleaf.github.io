<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>技术与实践 on Reading, Thinking and Writing</title><link>https://blog.fallleaf.net/categories/tech/</link><description>Recent content in 技术与实践 on Reading, Thinking and Writing</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>红旗下的蛋</copyright><lastBuildDate>Tue, 13 Jan 2026 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.fallleaf.net/categories/tech/index.xml" rel="self" type="application/rss+xml"/><item><title>业务电路承载：光纤直驱 vs. 传输系统？一个可靠性排序的分析</title><link>https://blog.fallleaf.net/p/tech-fiber-direct-vs-transport-reliability/</link><pubDate>Fri, 12 Dec 2025 09:35:00 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-fiber-direct-vs-transport-reliability/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-fiber-direct-vs-transport-reliability/cover.webp" alt="Featured image of post 业务电路承载：光纤直驱 vs. 传输系统？一个可靠性排序的分析" /&gt;&lt;p&gt;承载关键业务电路时，选择何种方式是一个涉及技术、成本与风险的重大决策。是采用 &lt;strong&gt;简单直接的光纤直驱&lt;/strong&gt; ，还是选择 &lt;strong&gt;具备冗余保护的传输系统承载&lt;/strong&gt; 呢？大概大部分人都会选择最“ &lt;strong&gt;安全&lt;/strong&gt; ”的方式，就是上传输系统。&lt;/p&gt;
&lt;p&gt;但是，是否真是这样呢？&lt;/p&gt;
&lt;h2 id="核心问题如何实现高可靠性"&gt;核心问题：如何实现高可靠性？
&lt;/h2&gt;&lt;p&gt;我们对两种主要的承载方式进行可靠性分析，其中，可靠性（Reliability）用$R$来表示，它代表系统在给定时间内无故障运行的概率。&lt;/p&gt;
&lt;p&gt;我们假设：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;光缆的可靠性&lt;/strong&gt;为$p$&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;传输设备的可靠性&lt;/strong&gt;为$q$&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="方式-1光纤直驱"&gt;方式 1：光纤直驱
&lt;/h3&gt;&lt;pre class="mermaid"&gt;graph TD;
A[业务输入] --&amp;gt; B(光缆 $$p$$);
B --&amp;gt; C[业务输出];
style B fill:#f9f,stroke:#333,stroke-width:2px;&lt;/pre&gt;
&lt;p&gt;这是最简洁的方式，电路直接通过一根光缆承载。&lt;/p&gt;
&lt;h3 id="方式-2传输系统承载"&gt;方式 2：传输系统承载
&lt;/h3&gt;&lt;p&gt;我们简化模型为： &lt;strong&gt;一个传输设备&lt;/strong&gt; 与 &lt;strong&gt;两条并联的光缆&lt;/strong&gt; 串联组成。&lt;/p&gt;
&lt;pre class="mermaid"&gt;graph TD
D[业务输入] --&amp;gt; E{传输设备 $$q$$};
E --&amp;gt; F;
F --&amp;gt; G([光缆 $$p$$]);
F --&amp;gt; H([光缆 $$p$$]);
G --&amp;gt; I;
H --&amp;gt; I;
I --&amp;gt; J[业务输出];
subgraph 并联光缆组
F(分路)
G
H
I(合路)
end
style E fill:#ccf,stroke:#333,stroke-width:2px
style G fill:#f9f,stroke:#333,stroke-width:2px
style H fill:#f9f,stroke:#333,stroke-width:2px&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;并联光缆的可靠性：&lt;/strong&gt; 两条光缆并联，只有当两条光缆同时失效时，光缆承载才失效。&lt;/p&gt;
$$ R_{光缆并联} = 1 - (1-p)(1-p) = 2p - p^2$$&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;系统总可靠性：&lt;/strong&gt; 将光缆并联体与传输设备 $q$ 串联起来。&lt;/p&gt;
$$ R_{方式2} = R_{光缆并联} \times q = (2p - p^2) \times q$$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="可靠性的决胜局谁更优"&gt;可靠性的“决胜局”：谁更优？
&lt;/h2&gt;&lt;p&gt;通过数学比较 $R_{方式2}$ 和 $R_{方式1}$ 的大小，我们得出了一个&lt;strong&gt;关键的临界值&lt;/strong&gt;，它决定了你的选择：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;临界条件&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;可靠性比较&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;决策建议&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;当 $q &amp;gt; \frac{1}{2-p}$ 时&lt;/td&gt;
&lt;td&gt;$R_{方式2} &amp;gt; R_{方式1}$&lt;/td&gt;
&lt;td&gt;传输系统承载更优&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;当 $q &amp;lt; \frac{1}{2-p}$ 时&lt;/td&gt;
&lt;td&gt;$R_{方式1} &amp;gt; R_{方式2}$&lt;/td&gt;
&lt;td&gt;光纤直驱更优&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;当 $q = \frac{1}{2-p}$ 时&lt;/td&gt;
&lt;td&gt;$R_{方式1} \approx R_{方式2}$&lt;/td&gt;
&lt;td&gt;两者可靠性相当&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="临界值-q_临界--frac12-p-的分析"&gt;临界值 $Q_{临界} = \frac{1}{2-p}$ 的分析
&lt;/h3&gt;&lt;h4 id="1-当光缆-p-极高时接近完美"&gt;1. 当光缆 $p$ 极高时（接近完美）
&lt;/h4&gt;&lt;p&gt;假设你的光缆质量非常好， $p = 0.99$。&lt;/p&gt;
$$Q_{临界} = \frac{1}{2 - 0.99} = \frac{1}{1.01} \approx 0.9901$$&lt;p&gt;这意味着，除非你的传输设备 $q$ 的可靠性&lt;strong&gt;高于 99.01%&lt;/strong&gt;，否则方式1（直驱）的可靠性反而更高！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解读：&lt;/strong&gt; 当基础的光缆本身已经足够可靠时，再引入高昂的传输设备，其带来的&lt;strong&gt;故障风险 ($1-q$)&lt;/strong&gt; 甚至可能超过两条并联光缆带来的冗余收益。额外的投资换来的可能是可靠性的&lt;strong&gt;下降&lt;/strong&gt;。&lt;/p&gt;
&lt;h4 id="2-当光缆-p-较低时"&gt;2. 当光缆 $p$ 较低时
&lt;/h4&gt;&lt;p&gt;假设你的光缆环境较差， $p = 0.8$。&lt;/p&gt;
$$Q_{临界} = \frac{1}{2 - 0.8} = \frac{1}{1.2} \approx 0.833$$&lt;p&gt;在这种情况下，只要你的传输设备 $q$ 的可靠性&lt;strong&gt;高于 83.3%&lt;/strong&gt;，方式2就会优于方式1。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解读：&lt;/strong&gt; 当基础链路可靠性不足时，冗余的光缆并联结构（方式2的核心优势）可以显著提升整体可靠性，即便引入的设备风险较大，也是值得的。&lt;/p&gt;
&lt;h3 id="工程抉择投资与安全的平衡"&gt;工程抉择：投资与安全的平衡
&lt;/h3&gt;&lt;p&gt;分析结果清晰地告诉我们： &lt;strong&gt;业务电路承载的可靠性选择，绝不能一概而论。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;方式2（传输系统承载）固然提供了强大的光缆冗余保护，但也带来了 &lt;strong&gt;巨大的投资增加&lt;/strong&gt; 和 &lt;strong&gt;新的故障点（传输设备 ）&lt;/strong&gt; 。&lt;/p&gt;
&lt;h2 id="结论最贵的不一定就是最好的"&gt;结论：最贵的，不一定就是最好的
&lt;/h2&gt;&lt;p&gt;构建高可靠性的通信网络，需要从 “可靠性” 和 “投资有效性” 两个维度进行评估。&lt;/p&gt;
&lt;p&gt;我们应该避免用巨大的、不经济的投资，去换取微量的安全提升。只有通过精确的数学模型分析和对具体工程环境（$p$ 和 $q$ 的实际值）的深入理解，才能找到真正符合业务需求、且最具成本效益的承载方案。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;最可靠的方案，是平衡了成本与风险的方案。&lt;/p&gt;
&lt;/blockquote&gt;</description></item><item><title>距离越长，光缆就越容易出故障吗？</title><link>https://blog.fallleaf.net/p/tech-fiber-more-longer-more-fail/</link><pubDate>Sat, 11 Oct 2025 07:45:00 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-fiber-more-longer-more-fail/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-fiber-more-longer-more-fail/cover.webp" alt="Featured image of post 距离越长，光缆就越容易出故障吗？" /&gt;&lt;p&gt;在通信网络优化中，BBU由DRAN方式改为CRAN方式，或将分散的OLT集中起来，会导致BBU到RRU或OLT到分光器的接入光缆距离变长，这就会引来一个运维比较关心的问题： &lt;strong&gt;光缆线路越长，故障次数是否越多？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;乍听之下，这似乎不用讨论——当然越长越容易坏了，线路越长，风险点越多，还有一个指标可以通过反算来说明这个问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;平均百皮长公里故障次数 = 障碍总次数 ÷ 光缆线路总长度 × 100&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这个指标被广泛用于年报、统计表以及考核体系中。它适合进行总体评价，虽然看似科学、简洁，但对于分类的评价，很容易导致错误的推论。因为它混淆了“总量”和“密度”，把不同长度、不同环境的光缆混在一起平均，从而掩盖了真正的规律。&lt;/p&gt;
&lt;h2 id="被平均掩盖的真相"&gt;被“平均”掩盖的真相
&lt;/h2&gt;&lt;p&gt;举个简单的例子。假设网络里有两类光缆：城区的短光缆和长途的干线光缆，故障统计如下：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;类型&lt;/th&gt;
&lt;th&gt;长度（皮长公里）&lt;/th&gt;
&lt;th&gt;故障次数&lt;/th&gt;
&lt;th&gt;平均百皮长公里故障次数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;城区短光缆&lt;/td&gt;
&lt;td&gt;50&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;长途干线&lt;/td&gt;
&lt;td&gt;400&lt;/td&gt;
&lt;td&gt;20&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;合计&lt;/td&gt;
&lt;td&gt;450&lt;/td&gt;
&lt;td&gt;30&lt;/td&gt;
&lt;td&gt;6.67&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;城区短光缆虽然线路短，但故障次数却不少；长途干线线路长，故障次数更多，但换算成单位长度的故障率却低得多。把两种光缆加起来平均，看似网络整体很稳定，但却掩盖了城区短光缆的高风险。这个“混合偏差”告诉我们，直接用简单的算术平均数（以下简称平均数）来评价，往往会给出误导性的结论。&lt;/p&gt;
&lt;p&gt;这就是典型的“ &lt;strong&gt;混合偏差&lt;/strong&gt; ”（mixing bias）：当你把不同性质的对象混在一起算平均，结果往往没有任何现实意义。就像把婴儿和老人一起统计平均寿命，再用它预测“中年人的死亡风险”，完全南辕北辙。&lt;/p&gt;
&lt;h2 id="为什么分档统计更科学"&gt;为什么“分档统计”更科学
&lt;/h2&gt;&lt;p&gt;因此，一个更科学的方法是将光缆按长度分档（光缆的端点如何确定，还是比较复杂的，比如用复用段、光放段、光缆段、光路段？，这是另外的话题了），比如10公里以下、10到50公里、50到100公里、100公里以上，分别计算每档的故障率。通过分档统计，我们才能真正看到不同长度光缆的故障规律：如果长距离光缆的单位故障率高，就说明距离确实加大了风险；如果故障率差别不大，说明故障次数的增加仅仅是线路数量多的自然结果；如果短距离的故障率反而更高，背后可能是施工环境复杂和人为破坏导致的。&lt;/p&gt;
&lt;p&gt;这种做法，统计学上叫分层分析（stratified analysis），工程上叫结构化指标分析。它能避免整体平均的“生态谬误”（Ecological Fallacy）——即不能用总体平均去推断局部特征。&lt;/p&gt;
&lt;h2 id="为什么越长越坏未必成立"&gt;为什么“越长越坏”未必成立
&lt;/h2&gt;&lt;p&gt;从工程实际出发，光缆故障的因素极多——不仅仅是长度。光缆及附件质量、外部环境、敷设方式、巡检力度等等，都在发挥作用。比如城区改造区域光缆密集，施工挖掘频繁，造成故障频发，再如接入光缆的接头盒质量不过关，极易造成衰减不稳定，发生闪断。反而相对平稳、保护措施好的长途光缆，单位长度的故障概率会更低。因此，简单认为“越长越容易坏”其实并不严谨。&lt;/p&gt;
&lt;p&gt;换句话说，总故障数确实随长度增加，但单位长度的故障概率未必增加。把两者混为一谈，就像说“人口多的国家交通事故一定多”，却没问一句——每万人事故率是多少？&lt;/p&gt;
&lt;h2 id="科学分析的进阶方法"&gt;科学分析的进阶方法
&lt;/h2&gt;&lt;p&gt;如果要更深入探究接入距离与故障次数的关系，可以借助统计学中的 &lt;strong&gt;泊松回归&lt;/strong&gt; 或 &lt;strong&gt;负二项回归&lt;/strong&gt; ，将 &lt;strong&gt;故障次数作为因变量&lt;/strong&gt; ， &lt;strong&gt;光缆长度作为基准&lt;/strong&gt; ，同时控制 &lt;strong&gt;环境条件、施工质量等因素&lt;/strong&gt; 。还可以做 &lt;strong&gt;队列对比分析&lt;/strong&gt; ，比较改造前后的长、短线路组的故障表现，计算相对风险，这才能给出“长度是否是独立风险因子”的科学证据。单凭简单的平均数，根本看不到这些细节。&lt;/p&gt;
&lt;h2 id="拒绝平均的幻觉"&gt;拒绝“平均的幻觉”
&lt;/h2&gt;&lt;p&gt;总的来说，平均数往往会让我们陷入“平均的幻觉”，看似简单合理，却掩盖了真实的光缆故障分布。只有通过分层、分档、分情境的细致分析，才能真正触及问题本质。做到这点，数据才有了洞察的力量，而不仅仅是枯燥的数字。&lt;/p&gt;
&lt;h2 id="题外话"&gt;题外话
&lt;/h2&gt;&lt;p&gt;数据的价值不只在于计算，更在于深入挖掘背后的故事。当平均数让视野模糊，我们要学会拆解与细致观察，逐层揭开真相。这种科学严谨的态度，正是面对复杂系统时最可靠的方法。 &lt;strong&gt;只是，收集和准备好这些详细的数据，是实践中最大的挑战&lt;/strong&gt; 。&lt;/p&gt;</description></item><item><title>光电共封装（CPO）：数据中心的下一场“能效革命</title><link>https://blog.fallleaf.net/p/tech-cpo-data-center-energy-efficiency-revolution/</link><pubDate>Fri, 10 Oct 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-cpo-data-center-energy-efficiency-revolution/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-cpo-data-center-energy-efficiency-revolution/cover.webp" alt="Featured image of post 光电共封装（CPO）：数据中心的下一场“能效革命" /&gt;&lt;h2 id="为何cpo光电共封装成为焦点"&gt;为何CPO（光电共封装）成为焦点？
&lt;/h2&gt;&lt;p&gt;近年来，AI大模型、云计算、自动驾驶和高性能计算（HPC）对数据中心带宽和算力需求激增。芯片算力不断强化，传输速率从100G、400G提升至800G乃至1.6T，但随之而来的是能耗和带宽瓶颈的新挑战。&lt;/p&gt;
&lt;p&gt;传统架构中，交换芯片（ASIC）与光模块分离，光模块通过电连接器插在设备前面板上。这种“可插拔光模块”虽然灵活，速率提升后因电连接距离长，导致功耗高、信号衰减严重，且占用宝贵的前面板空间。&lt;/p&gt;
&lt;p&gt;CPO的创新在于把光引擎与交换芯片直接封装，将电信号在极短距离内转换为光信号，极大减少能耗与信号损失，实现了光通信不再是外围，而是芯片核心部分。这一设计被视为突破数据中心能效和带宽瓶颈的关键。&lt;/p&gt;
&lt;h2 id="cpo技术演进从插拔到共生"&gt;CPO技术演进：从插拔到共生
&lt;/h2&gt;&lt;p&gt;CPO的发展是光通信追求更高速率与能效的必然趋势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• 第一阶段：可插拔光模块。优点是灵活易维护，但速率超400G后，长距离电连接导致功耗激增和信号损耗。&lt;/li&gt;
&lt;li&gt;• 第二阶段：近封装光学(Near-Packaged Optics)。光模块移近ASIC，采用短电缆连接，功耗有所下降，但光电器件依旧分离，能效提升有限。&lt;/li&gt;
&lt;li&gt;• 第三阶段：光电共封装（CPO）。光芯片与ASIC共封装，电路径极短，数据即刻转为光信号，显著降低功耗并释放更多端口空间，完成了“电主光辅”向“电光共生”的结构转变。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="cpo核心价值更高带宽更低功耗更绿数据中心"&gt;CPO核心价值：更高带宽、更低功耗、更绿数据中心
&lt;/h2&gt;&lt;p&gt;CPO解决了数据中心的三大痛点：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;优势&lt;/th&gt;
&lt;th&gt;解决的问题&lt;/th&gt;
&lt;th&gt;实际意义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;更低功耗&lt;/td&gt;
&lt;td&gt;电路径缩短，减少损耗&lt;/td&gt;
&lt;td&gt;降低系统整体能耗，减轻散热负担&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;更高带宽&lt;/td&gt;
&lt;td&gt;解放前面板空间&lt;/td&gt;
&lt;td&gt;支撑51.2T、102.4T级大容量交换机&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;更小延迟&lt;/td&gt;
&lt;td&gt;消除长距离电信号传输&lt;/td&gt;
&lt;td&gt;适应AI、HPC等计算密集型应用对时延的严苛需求&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;面对AI集群中CPU、GPU与交换机间频繁高速数据传输需求，CPO不仅保障高速通信，还显著节省能耗，是算力中心实现“每瓦算力”跃升的底层革命。&lt;/p&gt;
&lt;h2 id="2025年cpo产业现状迈向实用化"&gt;2025年CPO产业现状：迈向实用化
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;• 芯片巨头布局积极：Broadcom、Marvell、Intel、NVIDIA均展示CPO样机，Broadcom Tomahawk 5验证了51.2Tbps级CPO系统。国内华为、中科院光电所等在硅光封装领域取得重要进展。&lt;/li&gt;
&lt;li&gt;• 标准化稳步推进：OIF发布《CPO Implementation Agreement 1.0》，IEEE 802.3df/802.3dj推动1.6TbE、3.2TbE相关标准制定，为生态建设奠定基础。&lt;/li&gt;
&lt;li&gt;• 制造生态形成：台积电、日月光、Amkor等封装厂已具备量产CPO封装能力，主流采用硅光与高密度封装技术（InFO、CoWoS、EMIB）。&lt;/li&gt;
&lt;li&gt;• 应用初现端倪：CPO主要面向AI算力互连和超大规模数据中心核心交换，契合高带宽、低能耗、低延迟需求的典型场景。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="三大挑战热管理封装精度与维护"&gt;三大挑战：热管理、封装精度与维护
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;• 散热难题：高功耗ASIC和光芯片共封装导致热密度高，光器件对温漂敏感。主流方案包括液冷微通道、分区散热和异构封装设计。&lt;/li&gt;
&lt;li&gt;• 封装精度：光芯片对准误差需控制在微米级，自动化主动对准和光学测试助力提升良率。&lt;/li&gt;
&lt;li&gt;• 维护复杂：CPO结构非传统可插拔，维护难度大。采用外置激光器（ELS）方案，将激光源独立外置，仅保留调制器在封装内，提高维护便捷度。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="全球生态与标准化协同共建"&gt;全球生态与标准化：协同共建
&lt;/h2&gt;&lt;p&gt;CPO涉及光电芯片、材料、封装、散热及测试等多环节，需产业链高度协同：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• 国际标准组织：OIF、COBO、IEEE、OCP等共同推动接口与封装标准制定。&lt;/li&gt;
&lt;li&gt;• 产业合作网络：涵盖芯片设计、封装制造、光器件及系统厂商。&lt;/li&gt;
&lt;li&gt;• 中国力量崛起：国内厂商从追赶者转向积极参与，推动生态与标准发展，彰显行业话语权提升。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="未来三步走"&gt;未来三步走
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;• 短期（2025-2027）：小规模试用聚焦AI/HPC互连，外置激光方案主导，模块化系统逐步完善。&lt;/li&gt;
&lt;li&gt;• 中期（2027-2030）：随102.4Tbps交换芯片商用，CPO进入主流，与NPO并行发展以满足多样化需求，光电协同设计工具链成熟。&lt;/li&gt;
&lt;li&gt;• 长期（2030以后）：实现“光原生”数据中心架构，光电封装成为芯片设计常态，计算与通信深度融合。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="结语算力时代的能效转折点"&gt;结语：算力时代的能效转折点
&lt;/h2&gt;&lt;p&gt;CPO不仅是光模块的迭代，更是芯片与通信关系的重新定义。它将光通信从外围配件转变为算力系统核心，回应了AI计算时代对能效的极致追求。随着从可插拔到共封装的转变，CPO正引领数据中心迈向以光为底层语言的未来。&lt;/p&gt;</description></item><item><title>光网络数字孪生：让网络在虚拟世界先跑一遍</title><link>https://blog.fallleaf.net/p/tech-optical-network-digital-twin/</link><pubDate>Thu, 09 Oct 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-optical-network-digital-twin/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-optical-network-digital-twin/cover.webp" alt="Featured image of post 光网络数字孪生：让网络在虚拟世界先跑一遍" /&gt;&lt;p&gt;未来的光网络，不再仅仅是由光纤、电路和节点构成的物理系统，而是包含了物理系统的一个 可感知、可预测、可自我演化 的智能体。
支撑这一变革的关键技术之一，正是—— 光网络数字孪生（Digital Twin for Optical Network）。&lt;/p&gt;
&lt;h2 id="为什么光网络需要孪生体"&gt;为什么光网络需要“孪生体”
&lt;/h2&gt;&lt;p&gt;过去的几十年里，光传送网（OTN/WDM）在带宽、稳定性和成本上不断突破，但其管理方式仍停留在传统阶段：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;网络配置依赖人工经验；&lt;/li&gt;
&lt;li&gt;性能分析基于离线报表；&lt;/li&gt;
&lt;li&gt;故障处理多为事后响应。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;随着全光网络、云计算、AI流量和算力调度的兴起，网络变得更加复杂与动态。传统的“静态管理”模式已难以支撑“实时 + 智能”的新需求。&lt;/p&gt;
&lt;p&gt;数字孪生的引入改变了这一切。它让网络的规划、仿真、调优和自愈，都可以 &lt;strong&gt;先在虚拟世界中运行一遍，再在现实网络中执行&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;换言之，运维决策从“ 凭经验 ”变为“ 凭数据 ”。&lt;/p&gt;
&lt;h2 id="什么是光网络数字孪生"&gt;什么是光网络数字孪生
&lt;/h2&gt;&lt;p&gt;光网络数字孪生，是在数字空间中创建一个与真实网络（光缆、设备 ） 高度对应的虚拟副本 。
它融合了光学建模、实时数据同步与AI预测分析，构建出一个“可感知、可演化”的网络镜像。&lt;/p&gt;
&lt;p&gt;核心机制包括三项：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数字映射：采集光纤、设备、链路的物理参数，构建虚拟拓扑。&lt;/li&gt;
&lt;li&gt;实时同步：将功率、误码率、波长漂移等运行数据秒级更新到孪生模型。&lt;/li&gt;
&lt;li&gt;智能预测：结合机器学习与光学模型，预测QoT、路由风险、故障趋势。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由此形成一个闭环系统——
在孪生网络中提前发现问题、验证方案，再下发优化策略。&lt;/p&gt;
&lt;h2 id="系统架构从数据到决策"&gt;系统架构：从数据到决策
&lt;/h2&gt;&lt;p&gt;数字孪生光网络通常由四个层级构成：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;层级&lt;/th&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;关键技术&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;数据采集层&lt;/td&gt;
&lt;td&gt;获取光功率、误码率、损耗等实时数据&lt;/td&gt;
&lt;td&gt;Telemetry、OTDR、智能光模块&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;建模层&lt;/td&gt;
&lt;td&gt;构建拓扑及光学特性模型&lt;/td&gt;
&lt;td&gt;QoT建模、机器学习建模&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;分析预测层&lt;/td&gt;
&lt;td&gt;进行性能评估、故障预测、路径优化&lt;/td&gt;
&lt;td&gt;AI算法、强化学习、时序分析&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;控制与反馈层&lt;/td&gt;
&lt;td&gt;将优化决策下发，实现自适应调度&lt;/td&gt;
&lt;td&gt;SDN控制器、AIOps引擎&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;这一体系实现了从“被动响应”到“主动预测”的跨越，
使光网络向真正的 &lt;strong&gt;自治化（Autonomous）&lt;/strong&gt; 演进。&lt;/p&gt;
&lt;h2 id="应用场景从规划到自愈"&gt;应用场景：从规划到自愈
&lt;/h2&gt;&lt;p&gt;光网络数字孪生的价值已在多个环节体现：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;规划优化&lt;/strong&gt; ：仿真不同部署方案，平衡光功率与QoT，避免过度设计；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;实时运维&lt;/strong&gt; ：虚实同步，快速定位链路劣化、模块老化；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;预测维护&lt;/strong&gt; ：监测功率漂移趋势，提前干预，防止中断；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;智能调度&lt;/strong&gt; ：在虚拟环境中验证波长重分配、路径调整，再安全执行；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;跨域协同&lt;/strong&gt; ：与“数字孪生计算”联动，实现计算、网络与能源一体化优化。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="挑战与发展"&gt;挑战与发展
&lt;/h2&gt;&lt;p&gt;要让数字孪生真正落地，还需解决几个关键问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;建模精度不足&lt;/strong&gt; ：光纤非线性、偏振、温漂等因素复杂；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;数据碎片化&lt;/strong&gt; ：不同厂商设备接口封闭，数据无法共享；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;算力开销大&lt;/strong&gt; ：实时仿真需强大的计算与存储资源；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;安全隐患&lt;/strong&gt; ：孪生系统暴露网络结构与状态信息，需隔离与防护。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;业界正沿以下方向突破：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;引入 &lt;strong&gt;自学习AI模型&lt;/strong&gt; ，提升QoT预测与异常检测精度；&lt;/li&gt;
&lt;li&gt;推动 &lt;strong&gt;标准化接口（Open API）&lt;/strong&gt; ，实现多厂商互通；&lt;/li&gt;
&lt;li&gt;采用 &lt;strong&gt;云原生孪生架构&lt;/strong&gt; ，结合算力网络实现分布式仿真。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;各国运营商也在积极探索，NTT 已在其 IOWN 架构中实现基于孪生的光链路性能预测；中国移动研究院发布了“数字孪生网络基础框架”成果，启动了Open-DTN开源合作计划； &lt;a class="link" href="https://mp.weixin.qq.com/s?__biz=MzIzMDc4MDk4Mw==&amp;amp;mid=2247484380&amp;amp;idx=1&amp;amp;sn=aaed132f3d0a5f9428b13b11719a2446&amp;amp;scene=21#wechat_redirect" target="_blank" rel="noopener"
&gt;中国联通近期也推出全光网络数字孪生平台&lt;/a&gt; 。&lt;/p&gt;
&lt;h2 id="前瞻迈向自治光网络aon"&gt;前瞻：迈向自治光网络（AON）
&lt;/h2&gt;&lt;p&gt;数字孪生不仅是网络的“镜子”，更是迈向自治的“桥梁”。&lt;/p&gt;
&lt;p&gt;未来，数字孪生网络将具备三种核心能力：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;自感知&lt;/strong&gt; ：实时洞察光层健康状态；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自预测&lt;/strong&gt; ：提前发现性能劣化与风险；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自决策&lt;/strong&gt; ：自动生成并执行最优调整策略。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这正是迈向 &lt;strong&gt;Autonomous Optical Network（AON）&lt;/strong&gt; 的关键一步。&lt;/p&gt;
&lt;h2 id="结语从经验到智能"&gt;结语：从经验到智能
&lt;/h2&gt;&lt;p&gt;数字孪生并非“另一个网络”，而是网络智能化的镜像。
它让我们第一次真正“看见”光网络的动态演化， 并以数据为依据做出更稳健、更高效的决策。&lt;/p&gt;
&lt;p&gt;对运营商而言，这意味着：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从经验驱动到模型驱动；&lt;/li&gt;
&lt;li&gt;从被动响应到预测管理；&lt;/li&gt;
&lt;li&gt;从静态运维到智能自治。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在迈向“全光智能时代”的路上， &lt;strong&gt;数字孪生，正成为光网络转型的关键引擎。&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>量子互联网迈出关键一步：Q-chip实现量子信号通过商用光纤传输</title><link>https://blog.fallleaf.net/p/tech-q-chip-quantum-internet-commercial-fiber/</link><pubDate>Tue, 07 Oct 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-q-chip-quantum-internet-commercial-fiber/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-q-chip-quantum-internet-commercial-fiber/cover.webp" alt="Featured image of post 量子互联网迈出关键一步：Q-chip实现量子信号通过商用光纤传输" /&gt;&lt;p&gt;最近，宾夕法尼亚大学的工程师们在量子通信领域取得了突破性成果：他们首次成功地在商用光纤网络中，采用标准互联网IP协议，实现了量子信号可靠传输。这不仅是一次技术飞跃，更是量子互联网从理论走向现实的关键一步。&lt;/p&gt;
&lt;h2 id="核心技术q-chip让量子信号搭车互联网"&gt;核心技术：Q-chip，让量子信号“搭车”互联网
&lt;/h2&gt;&lt;p&gt;这项成果的核心，是一个名为 &lt;strong&gt;Q-chip&lt;/strong&gt; 的集成芯片。它的神奇之处在于——可以让量子信号在现有的光纤网络中“穿行”，而不被破坏。&lt;/p&gt;
&lt;p&gt;Q-chip 的工作原理是“量子-经典混合”：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;经典信号&lt;/strong&gt; 像“火车头”，负责在复杂的网络中导航，寻找最优路径；&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;量子信号&lt;/strong&gt; 则像“密封集装箱”，携带着脆弱的量子态，在传输过程中受到保护，不受环境干扰。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更厉害的是，这种机制还能自动纠错，确保量子数据的高保真传输。研究团队在 Verizon 的真实商用网络上进行了测试，即使在温度波动和振动干扰下，系统的量子信号保真度依然高达 97%。&lt;/p&gt;
&lt;h2 id="它和我们熟悉的量子加密通信有什么不同"&gt;它和我们熟悉的量子加密通信有什么不同？
&lt;/h2&gt;&lt;p&gt;很多人听到“量子通信”，第一反应是量子密钥分发（QKD），一种用于超安全加密的技术。但 Q-chip 所代表的量子互联网，远不止于此。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;特性&lt;/th&gt;
&lt;th&gt;Q-chip 技术&lt;/th&gt;
&lt;th&gt;量子密钥分发（QKD）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;应用目标&lt;/td&gt;
&lt;td&gt;构建量子互联网，实现量子计算机、传感器互联&lt;/td&gt;
&lt;td&gt;提供不可破解的密钥，用于加密通信&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;传输介质&lt;/td&gt;
&lt;td&gt;商用光纤，量子与经典信号并行传输&lt;/td&gt;
&lt;td&gt;专用光纤或独占信道&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;信号类型&lt;/td&gt;
&lt;td&gt;真正的量子态（如量子比特），可用于计算与协同处理&lt;/td&gt;
&lt;td&gt;弱相干光脉冲，仅用于密钥生成&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;技术挑战&lt;/td&gt;
&lt;td&gt;自动路由、纠错、与现有网络兼容&lt;/td&gt;
&lt;td&gt;长距离衰减与中继信任问题&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;简单来说，QKD 是量子技术在信息安全领域的应用，而 Q-chip 则是为未来的量子计算和通信网络打基础。它的目标是让量子设备像今天的手机和电脑一样，在同一个网络中互联协作。&lt;/p&gt;
&lt;h2 id="量子互联网的未来不仅是通信更是计算革命"&gt;量子互联网的未来：不仅是通信，更是计算革命
&lt;/h2&gt;&lt;p&gt;想象一下未来的世界：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;量子计算机之间可以远程协同，解决超级复杂的问题；&lt;/li&gt;
&lt;li&gt;量子传感器可以实时共享数据，提升医疗、气象、能源等领域的效率；&lt;/li&gt;
&lt;li&gt;人类将拥有一个全新的信息基础设施，远超今天的互联网。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这不是科幻，而是正在发生的现实。宾大的这项研究，正是通往量子互联网的“第一块路砖”。&lt;/p&gt;
&lt;h2 id="量子网络节点实拍开发板与光纤的协奏"&gt;量子网络节点实拍：开发板与光纤的协奏
&lt;/h2&gt;&lt;p&gt;下图展示的是构建量子网络节点所使用的部分设备，距离信号源约一公里的 Verizon 商用光纤终端处。这张图中最引人注目的， 是节点设备采用Arduino Mega 2560开发板。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://mp.weixin.qq.com/www.w3.org/2000/svg%27%20xmlns:xlink=%27http://www.w3.org/1999/xlink%27%3E%3Ctitle%3E%3C/title%3E%3Cg%20stroke=%27none%27%20stroke-width=%271%27%20fill=%27none%27%20fill-rule=%27evenodd%27%20fill-opacity=%270%27%3E%3Cg%20transform=%27translate%28-249.000000,%20-126.000000%29%27%20fill=%27%23FFFFFF%27%3E%3Crect%20x=%27249%27%20y=%27126%27%20width=%271%27%20height=%271%27%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
loading="lazy"
alt="图片"
&gt;&lt;/p&gt;
&lt;p&gt;原文链接:
Https://scitechdaily.com/engineers-bring-quantum-internet-to-commercial-fiber-for-the-first-time/&lt;/p&gt;</description></item><item><title>单纤多向：让前传更极简</title><link>https://blog.fallleaf.net/p/tech-single-fiber-multi-directional-fronthaul/</link><pubDate>Fri, 26 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-single-fiber-multi-directional-fronthaul/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-single-fiber-multi-directional-fronthaul/cover.webp" alt="Featured image of post 单纤多向：让前传更极简" /&gt;&lt;p&gt;在移动基站的建设中，无线前传网络却一直面临着一个&amp;quot;老大难&amp;quot;问题——光缆投资过大。随着CRAN（集中式无线接入网）模式成为主流，BBU（基带处理单元）集中部署，BBU与RRU（射频拉远单元）之间需要大量光缆纤芯连接，导致前传光缆投资成为电信运营商难以承受之重。&lt;/p&gt;
&lt;h2 id="前传之痛光缆投资为何居高不下"&gt;前传之痛：光缆投资为何居高不下？
&lt;/h2&gt;&lt;p&gt;传统的无线前传采用双纤双向光模块直连方式，每站需要占用6芯光纤。在CRAN模式下，虽然BBU集中部署带来了设备利用率提升、节省机房空间和降低能耗等优势，但也导致了前传光缆需求激增的问题。面对成千上万的基站建设，光缆投资已成为运营商网络建设中不可忽视的成本。&lt;/p&gt;
&lt;h2 id="现有方案的局限"&gt;现有方案的局限
&lt;/h2&gt;&lt;p&gt;为了解决前传光缆投资问题，业界曾提出几种方案，但各有局限：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BiDi光模块：将纤芯占用减半，但仍需3芯/站，投资依然较高&lt;/li&gt;
&lt;li&gt;RRU级联：可将纤芯降至1芯，但可靠性差，且不适用于高配基站&lt;/li&gt;
&lt;li&gt;前传WDM系统：纤芯占用少，但增加了&amp;quot;波分盒子&amp;quot;设备，故障点多、维护难
这些方案要么投资仍高，要么带来了新的问题，无法从根本上解决前传网络的痛点。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="单纤多向前传网络的极简"&gt;单纤多向：前传网络的&amp;quot;极简&amp;quot;
&lt;/h2&gt;&lt;p&gt;单纤多向光模块直驱技术，正是为解决前传痛点而生的创新方案。它的核心理念是：在不增加额外设备的前提下，将多路光信号合并到1芯光纤中传输。&lt;/p&gt;
&lt;h2 id="什么是单纤多向光模块"&gt;什么是单纤多向光模块？
&lt;/h2&gt;&lt;p&gt;单纤多向光模块相较于传统光模块，主要新增了两个特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设置了&amp;quot;光上联口&amp;quot;和&amp;quot;光下联口&amp;quot;两个光接口&lt;/li&gt;
&lt;li&gt;增加了&amp;quot;单纤多向光组件&amp;quot;，实现多波长信号的处理
这种光模块巧妙地利用不同波长实现多路信号在单根光纤中的 传输，同时通过无源器件处理方式，确保上游光模块故障不会影响下游信号传输。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="单纤多向光模块构成示意"&gt;单纤多向光模块构成示意
&lt;/h4&gt;&lt;h2 id="单纤多向如何工作"&gt;单纤多向如何工作？
&lt;/h2&gt;&lt;p&gt;以3个RRU组成的系统为例：&lt;/p&gt;
&lt;p&gt;每个RRU配对一个尾端光模块，BBU侧配对相应数量的头端光模块，所有光模块通过1根光纤串联，不同光模块使用不同波长，互不干扰。&lt;/p&gt;
&lt;p&gt;（图示：普通宏站场景下，3个RRU通过单纤多向光模块仅需1芯光纤连接）&lt;/p&gt;
&lt;h2 id="为何说它更极简"&gt;为何说它&amp;quot;更极简&amp;quot;？
&lt;/h2&gt;&lt;p&gt;单纤多向光模块方案带来了多重&amp;quot;极简&amp;quot;优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;资源极简：将每站占用光缆纤芯数量降至1芯，大幅减少光缆投资&lt;/li&gt;
&lt;li&gt;设备极简：无需额外的&amp;quot;波分盒子&amp;quot;等设备，中间无独立合分波器&lt;/li&gt;
&lt;li&gt;维护极简：与传统光模块维护方式一致，不改变原有维护界面&lt;/li&gt;
&lt;li&gt;管理极简：可通过无线网管直接管理，无需额外网管系统&lt;/li&gt;
&lt;li&gt;施工极简：连接方式固定，无需多人配合核实光路，施工简单快捷&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="典型场景应用"&gt;典型场景应用
&lt;/h2&gt;&lt;p&gt;单纤多向技术适用于多种场景：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1. 普通宏站/高流量室分：3个RRU组成1个单纤多向系统，仅需1芯光纤&lt;/li&gt;
&lt;li&gt;&lt;img src="https://mmbiz.qpic.cn/sz_mmbiz_png/B95B1kesBUBc2trfKPY3f3UWkJyDKh3gZu6SEQyyibyr4VQUeIg9SO9sxkGCvLHelXtLwoWGAQSdom1XzwdYqRQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;watermark=1&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1#imgIndex=2"
loading="lazy"
alt="图片"
&gt;&lt;/li&gt;
&lt;li&gt;2. 低流量室分：可与RRU级联结合，进一步减少纤芯占用&lt;/li&gt;
&lt;li&gt;&lt;img src="https://mp.weixin.qq.com/www.w3.org/2000/svg%27%20xmlns:xlink=%27http://www.w3.org/1999/xlink%27%3E%3Ctitle%3E%3C/title%3E%3Cg%20stroke=%27none%27%20stroke-width=%271%27%20fill=%27none%27%20fill-rule=%27evenodd%27%20fill-opacity=%270%27%3E%3Cg%20transform=%27translate%28-249.000000,%20-126.000000%29%27%20fill=%27%23FFFFFF%27%3E%3Crect%20x=%27249%27%20y=%27126%27%20width=%271%27%20height=%271%27%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
loading="lazy"
alt="图片"
&gt;&lt;/li&gt;
&lt;li&gt;3. 高铁/地铁覆盖：多站级联组网，减少切换，简化网络结构&lt;/li&gt;
&lt;li&gt;&lt;img src="https://mp.weixin.qq.com/www.w3.org/2000/svg%27%20xmlns:xlink=%27http://www.w3.org/1999/xlink%27%3E%3Ctitle%3E%3C/title%3E%3Cg%20stroke=%27none%27%20stroke-width=%271%27%20fill=%27none%27%20fill-rule=%27evenodd%27%20fill-opacity=%270%27%3E%3Cg%20transform=%27translate%28-249.000000,%20-126.000000%29%27%20fill=%27%23FFFFFF%27%3E%3Crect%20x=%27249%27%20y=%27126%27%20width=%271%27%20height=%271%27%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
loading="lazy"
alt="图片"
&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;该产品已在多个省应用。日前，重庆联通发布了单纤多向的招标公告。&lt;/p&gt;
&lt;h2 id="结语让前传回归简单"&gt;结语：让前传回归简单
&lt;/h2&gt;&lt;p&gt;单纤多向光模块直驱技术，不仅解决了前传光缆投资大的痛点，更实现了前传网络的&amp;quot;极简&amp;quot;。它既保留了光模块直驱方案的可靠性与易维护性，又大幅降低了纤芯资源占用，是当前最符合现网需求的前传技术。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;简单，才是最复杂的技术。单纤多向，让前传更极简，让网络更高效。&lt;/p&gt;
&lt;/blockquote&gt;</description></item><item><title>CMIS：从“看”到“管”，光网络开放解耦的隐性基石</title><link>https://blog.fallleaf.net/p/tech-cmis/</link><pubDate>Sat, 20 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-cmis/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-cmis/cover.webp" alt="Featured image of post CMIS：从“看”到“管”，光网络开放解耦的隐性基石" /&gt;&lt;p&gt;在光通信的世界里，我们总能听到那些令人振奋的数字：400G、800G、1.6T……它们代表着速度的极限和带宽的无限可能。但如果我告诉你，决定未来网络能否真正开放、智能、可编程的关键，并不在于这些数字里，而在于一个听起来有些陌生的名字——CMIS，你信吗？&lt;/p&gt;
&lt;p&gt;今天，我们就来聊聊这个在幕后默默发挥作用的“隐藏英雄”。&lt;/p&gt;
&lt;h2 id="故事的开端一个只看数据无法指挥的时代"&gt;故事的开端：一个“只看数据，无法指挥”的时代
&lt;/h2&gt;&lt;p&gt;想象一下，你是一位光网络运维工程师，你的工作是确保网络稳定运行。在 CMIS 出现之前，你手中的“工具”主要是 SFF-8472。&lt;/p&gt;
&lt;p&gt;SFF-8472 就像是光模块的“诊断报告”。它让你能看到模块的实时运行数据：温度、电压、收发光功率。你很清楚模块是否“健康”，但如果你想对它进行更深层次的控制——比如，动态调整功率模式，或者远程重置模块——SFF-8472 却无能为力。&lt;/p&gt;
&lt;p&gt;在这个时代，光模块就像一个“ &lt;strong&gt;黑盒&lt;/strong&gt; ” 。它能告诉你它在干什么，但你无法对其发号施令。更糟糕的是，每个设备厂商都有自己的私有接口，这导致：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;运维复杂： 你的团队需要掌握无数种“方言”。&lt;/li&gt;
&lt;li&gt;锁定效应： 你被单一供应商牢牢锁住，失去了选择权和议价能力。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="cmis-的革命从诊断报告到可编程大脑"&gt;CMIS 的革命：从“诊断报告”到“可编程大脑”
&lt;/h2&gt;&lt;p&gt;为了打破这种僵局，CMIS 诞生了。CMIS（Common Management Interface Specification，通用管理接口规范）是由 OIF（Optical Internetworking Forum） 制定的行业规范，旨在为高速可插拔光模块（如 400G、800G 以及未来的 1.6T 模块）提供统一的管理与控制接口。它定义了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;寄存器映射：统一的寄存器结构和访问方式；&lt;/li&gt;
&lt;li&gt;状态机模型：模块启动、故障、恢复等状态定义；&lt;/li&gt;
&lt;li&gt;告警与监控：标准化的温度、电压、光功率等监控指标；&lt;/li&gt;
&lt;li&gt;配置与控制：速率切换、工作模式、功能使能等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过这一统一规范，主机设备（交换机、路由器、传输设备）无需依赖厂商自定义的驱动程序，就能以一致的方式管理不同厂商的模块。这种标准化，是后续一切开放创新的基石。&lt;/p&gt;
&lt;p&gt;如果说 SFF-8472 让你能“ &lt;strong&gt;看&lt;/strong&gt; ”到光模块，那么 CMIS 则赋予了你“ &lt;strong&gt;管理&lt;/strong&gt; ”和“ &lt;strong&gt;指挥&lt;/strong&gt; ”的能力。它彻底改变了光模块的地位，使其从一个被动的“诊断设备”变成了可编程、可控的网络资源。&lt;/p&gt;
&lt;h2 id="黄金搭档cmis--netconfyang-的分层解耦战略"&gt;黄金搭档：CMIS + NETCONF/YANG 的分层解耦战略
&lt;/h2&gt;&lt;p&gt;光模块的解耦只是第一步。真正的价值在于，CMIS 与上层网络管理协议的完美结合，共同构建了一个分层解耦的开放网络架构。&lt;/p&gt;
&lt;p&gt;我们可以用一个简单的比喻来理解这种关系：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CMIS 就像是光模块的“操作系统”。它负责和硬件打交道，并以标准化的方式暴露所有可管理的参数。&lt;/li&gt;
&lt;li&gt;NETCONF/YANG 就像是网络的“应用程序编程接口（API）”。它将 CMIS 提供的标准化数据模型，以更高级、更抽象的方式呈现给网络控制器或编排器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种分层协同的模式，为运营商带来了前所未有的战略优势：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. 降本提效&lt;/strong&gt; ： 运维团队不再需要适配不同厂商的私有协议。他们只需对接一套统一的 NETCONF/YANG 模型，就能管理所有符合标准的设备和光模块。这极大地简化了运维流程，降低了人力和时间成本。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. 掌控主动权&lt;/strong&gt; ： 运营商摆脱了单一供应商的锁定。他们可以自由选择最符合需求的光模块，并通过一套统一的管理系统进行管理。这种供应链的灵活性，使得运营商真正掌握了网络建设和运营的主动权。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3. 赋能智能&lt;/strong&gt; ： CMIS 让光模块的每一个细节都变得“可见”和“可控”。这意味着光模块可以无缝融入到端到端的自动化编排体系中。未来，网络控制器可以根据流量负载，自动调整模块的功率模式，实现动态节能和性能优化，为“极简网络”和“算力网络”打下坚实基础。&lt;/p&gt;
&lt;h2 id="一句话总结"&gt;一句话总结
&lt;/h2&gt;&lt;p&gt;CMIS 的出现，将光模块从一个“黑盒”转变为可编程、可管理的网络资源，并与 NETCONF/YANG 共同构筑了光网络分层解耦的黄金架构。它不只是一个技术标准，更是光网络从“封闭”走向“开放”的战略杠杆。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;CMIS规范链接:&lt;/strong&gt;
&lt;a class="link" href="https://www.oiforum.com/wp-content/uploads/OIF-CMIS-05.3.pdf" target="_blank" rel="noopener"
&gt;https://www.oiforum.com/wp-content/uploads/OIF-CMIS-05.3.pdf&lt;/a&gt;&lt;/p&gt;</description></item><item><title>单芯片激光器的突破：从 MHz 到 Hz，MOIL-TISE 改写相干光通信的游戏规则</title><link>https://blog.fallleaf.net/p/tech-moil-tise-single-chip-laser-coherent-optics/</link><pubDate>Fri, 19 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-moil-tise-single-chip-laser-coherent-optics/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-moil-tise-single-chip-laser-coherent-optics/cover.webp" alt="Featured image of post 单芯片激光器的突破：从 MHz 到 Hz，MOIL-TISE 改写相干光通信的游戏规则" /&gt;&lt;blockquote&gt;
&lt;p&gt;写在前面：在光通信、量子通信、精密计量等领域，稳定、窄线宽的激光光源一直是长期瓶颈。格拉斯哥大学的一项新研究，将这一瓶颈大幅推后。本文将带你拆解这项成果的技术原理、性能优势与未来应用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="什么是线宽为什么要越窄越好"&gt;什么是线宽，为什么要越窄越好？
&lt;/h2&gt;&lt;p&gt;激光器的“线宽”指其发光频率分布的宽度，是衡量光谱纯度和频率稳定性的关键指标。线宽越窄，意味着：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光波相干性更高，波形更稳定；&lt;/li&gt;
&lt;li&gt;激光频率漂移和相位噪声更低；&lt;/li&gt;
&lt;li&gt;在光纤通信中，误码率更低、频谱效率更高；&lt;/li&gt;
&lt;li&gt;在量子通信、光学钟、频率梳等应用中，频率控制更精确。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你可以把它类比为收听电台：频率不准或漂移，就会听到杂音。激光器也是如此，频率越稳定，信号越清晰。&lt;/p&gt;
&lt;p&gt;传统外腔激光器（ECL）虽然能做到 kHz 甚至更窄，但体积大、成本高，不适合集成和量产。&lt;/p&gt;
&lt;h2 id="moil-tise格拉斯哥大学的最新突破"&gt;MOIL-TISE：格拉斯哥大学的最新突破
&lt;/h2&gt;&lt;p&gt;在《Science Advances》发表的研究中，格拉斯哥大学团队提出了一种新型单芯片激光器架构：MOIL-TISE（光注入锁定拓扑界面态扩展激光器），实现了以下关键性能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;线宽仅 983 Hz：刷新单芯片半导体激光器纪录；&lt;/li&gt;
&lt;li&gt;完全集成于 InP 芯片：无需外部腔体或复杂光学器件；&lt;/li&gt;
&lt;li&gt;芯片尺寸极小：包含拓扑界面腔体与微环谐振器，整体约 1000 µm × 0.4 µm。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;技术亮点&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;拓扑界面态
利用拓扑光子结构，使激光模式局限在界面区域，具备抗缺陷、抗散射的鲁棒性。&lt;/li&gt;
&lt;li&gt;扩展腔体 + 微环谐振器
延伸激光腔体并结合微环谐振器，使光在芯片内循环，增加有效腔长，压缩线宽。&lt;/li&gt;
&lt;li&gt;光注入锁定
在芯片内实现频率锁定，首次在如此紧凑结构中实现 Hz 级线宽。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="moil-tise-单芯片激光器结构示意图"&gt;MOIL-TISE 单芯片激光器结构示意图
&lt;/h2&gt;&lt;p&gt;&lt;img src="https://mp.weixin.qq.com/www.w3.org/2000/svg%27%20xmlns:xlink=%27http://www.w3.org/1999/xlink%27%3E%3Ctitle%3E%3C/title%3E%3Cg%20stroke=%27none%27%20stroke-width=%271%27%20fill=%27none%27%20fill-rule=%27evenodd%27%20fill-opacity=%270%27%3E%3Cg%20transform=%27translate%28-249.000000,%20-126.000000%29%27%20fill=%27%23FFFFFF%27%3E%3Crect%20x=%27249%27%20y=%27126%27%20width=%271%27%20height=%271%27%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E"
loading="lazy"
alt="图片"
&gt;&lt;/p&gt;
&lt;p&gt;这是格拉斯哥大学团队在《Science Advances》发表的核心结构图——MOIL-TISE 激光器首次在单芯片上集成三大关键技术：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;拓扑界面腔体（TISE）
位于芯片中央，利用“拓扑保护”原理，让光波像在“高速公路隔离带”中稳定传播，不怕缺陷、不惧散射——这是实现超稳激光的基础。&lt;/li&gt;
&lt;li&gt;微环谐振器（MRR，半径150 μm）
悬于主腔上方，像一个“光子回收站”，把跑出去的光抓回来，延长有效腔长，同时通过“光注入锁定”把频率牢牢钉在参考源上——Hz级线宽由此诞生。&lt;/li&gt;
&lt;li&gt;左右光栅 + 多量子阱增益区
提供激光反馈与发光能力，整个结构基于成熟 InP 平台，兼容现有半导体工艺，为量产铺平道路。&lt;/li&gt;
&lt;li&gt;尺寸惊人：整颗芯片长约 1 mm，厚度仅 2 μm——比头发丝还薄，却承载着改写光通信规则的潜力。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="与现有技术对比"&gt;与现有技术对比
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;技术方案&lt;/th&gt;
&lt;th&gt;线宽范围&lt;/th&gt;
&lt;th&gt;优点&lt;/th&gt;
&lt;th&gt;局限&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;DFB / EML 激光器&lt;/td&gt;
&lt;td&gt;MHz 级&lt;/td&gt;
&lt;td&gt;成熟、成本低、易集成&lt;/td&gt;
&lt;td&gt;线宽较宽，相干性能不足&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;外腔激光器（ECL）&lt;/td&gt;
&lt;td&gt;kHz 级&lt;/td&gt;
&lt;td&gt;极窄线宽&lt;/td&gt;
&lt;td&gt;体积大、价格高、不易集成&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MOIL-TISE 单芯片&lt;/td&gt;
&lt;td&gt;≈ 983 Hz&lt;/td&gt;
&lt;td&gt;小体积、高集成度、线宽接近 ECL&lt;/td&gt;
&lt;td&gt;功率、稳定性和量产工艺待验证&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;MOIL-TISE 在性能与集成度之间取得了罕见的平衡，具备替代部分 ECL 的潜力。&lt;/p&gt;
&lt;h2 id="现实挑战"&gt;现实挑战
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;输出功率与效率：如何在保持窄线宽的同时提升输出功率？&lt;/li&gt;
&lt;li&gt;温度与环境稳定性：能否在复杂环境下维持稳定性能？&lt;/li&gt;
&lt;li&gt;制造一致性：微环谐振器和拓扑结构对工艺精度要求极高。&lt;/li&gt;
&lt;li&gt;参考源稳定性：注入锁定依赖参考光，其稳定性仍是瓶颈。&lt;/li&gt;
&lt;li&gt;系统集成：如何与调制器、放大器、光纤接口等模块协同封装？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;值得注意的是，MOIL-TISE 基于 InP 平台，与现有半导体制造工艺兼容，有望降低量产门槛。&lt;/p&gt;
&lt;h2 id="潜在应用与前景"&gt;潜在应用与前景
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;光通信：在高速相干通信中显著降低误码率、提升传输性能；&lt;/li&gt;
&lt;li&gt;数据中心：减少 DSP 负担，提升能效，适用于 CPO（共封装光学）架构；&lt;/li&gt;
&lt;li&gt;量子通信 / QKD：窄线宽与相位稳定性有助于提升量子信道安全性；&lt;/li&gt;
&lt;li&gt;精密测量与频率梳：提供紧凑、稳定的窄线宽光源，适用于光学钟等高精度仪器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果能在功率、稳定性、制造成本等方面进一步突破，MOIL-TISE 有望成为新一代光通信与量子应用的核心光源。&lt;/p&gt;
&lt;h2 id="结语"&gt;结语
&lt;/h2&gt;&lt;p&gt;MOIL-TISE 展示了单芯片激光器从 MHz 向 Hz 线宽跨越的可能。它不仅是科研创新的成果，更预示着产业架构的演进方向。未来的光通信系统，或许不再依赖模块堆叠，而是走向真正的芯片级集成。&lt;/p&gt;
&lt;p&gt;原文参考：&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="https://www.science.org/doi/10.1126/sciadv.ady8963" target="_blank" rel="noopener"
&gt;https://www.science.org/doi/10.1126/sciadv.ady8963&lt;/a&gt;&lt;/p&gt;</description></item><item><title>GPU之后的算力革命?微软新架构让AI推理与金融优化"一机双飞"</title><link>https://blog.fallleaf.net/p/tech-microsoft-architecture-ai-financial-revolution/</link><pubDate>Sat, 13 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-microsoft-architecture-ai-financial-revolution/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-microsoft-architecture-ai-financial-revolution/cover.webp" alt="Featured image of post GPU之后的算力革命?微软新架构让AI推理与金融优化"一机双飞"" /&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;你有没有想过——&lt;/strong&gt;
&lt;strong&gt;未来训练一个大模型，可能不再需要耗电如“小电站”的GPU集群？&lt;/strong&gt;
&lt;strong&gt;处理一笔复杂的跨国金融结算，可能不需要数小时的服务器运算？&lt;/strong&gt;
&lt;strong&gt;甚至做一次MRI扫描，时间能从30分钟缩短到几分钟？&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这一切，正被一项刚刚登上《自然》杂志的研究悄然实现。&lt;/p&gt;
&lt;p&gt;由微软研究院、剑桥大学与巴克莱银行联合团队开发的模拟光学计算机（Analog Optical Computer, AOC），首次实现同一硬件平台高效运行AI推理与组合优化两大任务，在理论能效上比当前最强GPU高出100倍以上。&lt;/p&gt;
&lt;p&gt;这不是PPT概念，而是实打实的物理原型机，已通过MNIST图像分类、医学影像重建、金融交易结算等真实场景验证。&lt;/p&gt;
&lt;h2 id="为什么我们需要一台非数字的计算机"&gt;为什么我们需要一台“非数字”的计算机？
&lt;/h2&gt;&lt;p&gt;今天的人工智能，几乎全靠“数字芯片”驱动。但问题来了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;内存墙：数据在CPU/GPU和显存间来回搬运，消耗了超过80%的能耗。&lt;/li&gt;
&lt;li&gt;功耗爆炸：训练GPT-4级别的模型，一次电费可达数万美元。&lt;/li&gt;
&lt;li&gt;算力瓶颈：摩尔定律逼近极限，传统芯片再难靠“堆晶体管”提升效率。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;于是，科学家们开始“回归模拟”——模拟计算不把数据变成0和1，而是用连续的电压/光强直接表达信息，天然适合矩阵乘法、迭代求解这类AI和优化核心操作。&lt;/p&gt;
&lt;p&gt;但过去的问题是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光学擅长并行乘法，但不会做tanh激活函数；&lt;/li&gt;
&lt;li&gt;模拟电路擅长非线性，但没法高速传输海量数据；&lt;/li&gt;
&lt;li&gt;两者结合时，必须经过昂贵的“数模转换”，吃掉大部分节能优势。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AOC的颠覆性突破，就在于彻底消除了这个“转换环节”。&lt;/p&gt;
&lt;h2 id="aoc是如何工作的光与电的永动舞"&gt;AOC是如何工作的？光与电的“永动舞”
&lt;/h2&gt;&lt;p&gt;想象一个闭环系统，每20纳秒完成一次“思考”：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;组件&lt;/th&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;微LED阵列&lt;/td&gt;
&lt;td&gt;将输入变量编码为光强（比如：图像像素、交易金额）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;空间光调制器（SLM）&lt;/td&gt;
&lt;td&gt;存储权重矩阵，像“光的乘法表”一样，让光信号自动完成并行矩阵乘法&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;光电探测器&lt;/td&gt;
&lt;td&gt;将光信号转为电压，送入模拟电路&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;模拟电子电路&lt;/td&gt;
&lt;td&gt;执行tanh非线性、减法、退火、动量更新 —— 完全在连续域中进行&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;整个过程没有ADC/DAC，没有中间缓存，所有计算都在“模拟态”中循环迭代，直到系统稳定在一个“固定点”——这正是深度平衡模型（DEQ）和优化问题的数学本质！&lt;/p&gt;
&lt;p&gt;关键优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;抗噪：固定点像引力中心，噪声越扰，越被拉回正确解&lt;/li&gt;
&lt;li&gt;无内存墙：无需存储中间层激活值&lt;/li&gt;
&lt;li&gt;动态深度：推理时间由收敛速度决定，不是预设层数&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="真实场景验证它到底能干什么"&gt;真实场景验证：它到底能干什么？
&lt;/h2&gt;&lt;p&gt;论文用四大案例证明AOC不是“玩具”：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AI推理：图像分类 &amp;amp; 非线性回归&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;在MNIST和Fashion-MNIST上，准确率达95%–98%&lt;/li&gt;
&lt;li&gt;成功拟合高斯、正弦曲线，误差低至0.00375（MSE）&lt;/li&gt;
&lt;li&gt;全部训练在数字孪生模型（AOC-DT）中完成，部署到硬件无需重新校准&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关键：它跑的是深度平衡模型（DEQ），一种“无限深”的递归网络，传统数字芯片跑得慢、耗电高，而AOC天生匹配。&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;医疗：MRI加速重建&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;传统MRI需采集大量数据才能成像，耗时长。&lt;/p&gt;
&lt;p&gt;AOC采用L0范数压缩感知（理论上最优但极难计算），仅用62.5%的数据，就重建出接近原图的清晰脑部切片，误差降低近10倍！&lt;/p&gt;
&lt;ol start="3"&gt;
&lt;li&gt;金融：解决NP难的交易结算&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;全球每日有数万亿美元交易待清算，如何最大化“一次性结清”的交易数？这是典型的NP难问题。&lt;/p&gt;
&lt;p&gt;AOC将问题建模为混合二次无约束优化（QUMO），支持二进制 + 连续变量（如：是否结算、结算金额），在7步内找到全局最优解，全程模拟运算，无任何数字后处理。&lt;/p&gt;
&lt;p&gt;对比：量子计算机在类似问题上成功率仅40–60%，而AOC达到100%。&lt;/p&gt;
&lt;h2 id="性能有多强别被百倍吓到我们说清楚"&gt;性能有多强？别被“百倍”吓到，我们说清楚
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;指标&lt;/th&gt;
&lt;th&gt;当前原型&lt;/th&gt;
&lt;th&gt;理论预测(扩展后)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;权重数量&lt;/td&gt;
&lt;td&gt;4,096（通过时间复用实现）&lt;/td&gt;
&lt;td&gt;0.1亿 – 20亿&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;单次迭代&lt;/td&gt;
&lt;td&gt;180纳秒&lt;/td&gt;
&lt;td&gt;同样&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;能效&lt;/td&gt;
&lt;td&gt;原型功耗高（驱动电路为主）&lt;/td&gt;
&lt;td&gt;500 TOPS/W（8位精度）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;对比GPU&lt;/td&gt;
&lt;td&gt;H100约4.5 TOPS/W&lt;/td&gt;
&lt;td&gt;理论能效超百倍&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;重要澄清：
“百倍能效”是理论推演值，基于未来模块化扩展架构；
当前原型是桌面级设备（16×16变量），用于验证原理；
真正价值不在“快”，而在“省” —— 一旦规模化，每瓦特算力将远超硅基芯片。&lt;/p&gt;
&lt;h2 id="未来之路十亿权重不是梦"&gt;未来之路：十亿权重，不是梦
&lt;/h2&gt;&lt;p&gt;AOC的可扩展性设计非常聪明：&lt;/p&gt;
&lt;p&gt;每个模块：微LED + SLM + 光电探测器 + 模拟电路 → 尺寸仅约4 cm³
利用三维光学结构，实现光路高效复用（非平面光计算）
使用成熟消费级技术（手机里也有微LED、SLM）
多模块并联，即可扩展至百亿级权重&lt;/p&gt;
&lt;p&gt;专家判断：若成功量产，将成为继GPU之后，下一代AI算力的核心候选架构之一。&lt;/p&gt;
&lt;h2 id="为什么这是一场范式革命"&gt;为什么这是一场“范式革命”？
&lt;/h2&gt;&lt;p&gt;我们过去追求的是：“更快的数字芯片”。&lt;/p&gt;
&lt;p&gt;而AOC告诉我们：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“更聪明的物理系统”才是未来。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;它不是在“模仿人脑”，而是在用光和电的物理规律，直接求解数学问题。
它不依赖冯·诺依曼架构，不被内存墙束缚，不因数模转换浪费能源。&lt;/p&gt;
&lt;p&gt;这就像从“手写算盘”进化到“机械计算器”——不是更快地拨珠子，而是换了一套计算逻辑。&lt;/p&gt;
&lt;h2 id="结语实验室的光终将照亮现实"&gt;结语：实验室的光，终将照亮现实
&lt;/h2&gt;&lt;p&gt;AOC目前仍是原型，距离商用还有工程挑战：热管理、三维集成、大规模制造……
但它首次证明了：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;一类硬件，可同时服务AI与优化；
模拟+光学，能超越数字芯片的能效天花板；
算法与硬件协同设计，能带来数量级突破。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;当我们在为大模型的电费发愁，为自动驾驶的算力焦虑时，微软与剑桥的这支团队，已经点亮了一条通往“绿色AI”的新路径。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这不是“下一个十年”，
而是正在发生的，下一场计算革命的序章。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;论文原文：(&lt;a class="link" href="https://doi.org/10.1038/s41586-025-09430-z" target="_blank" rel="noopener"
&gt;https://doi.org/10.1038/s41586-025-09430-z&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;本文初稿使用AI协助编写，虽经人工校对，水平有限，请谅解。&lt;/p&gt;</description></item><item><title>极简运维：中国联通自研光纤智慧运营管理系统上线，故障定位精度达±5米！</title><link>https://blog.fallleaf.net/p/tech-china-unicom-fiber-smart-operation-system/</link><pubDate>Sat, 13 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-china-unicom-fiber-smart-operation-system/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-china-unicom-fiber-smart-operation-system/cover.webp" alt="Featured image of post 极简运维：中国联通自研光纤智慧运营管理系统上线，故障定位精度达±5米！" /&gt;&lt;p&gt;在数字化转型加速的今天，网络稳定性与运维效率成为运营商的核心竞争力。中国联通子公司中讯设计，推出全新自研产品—— &lt;strong&gt;光纤智慧运营管理系统&lt;/strong&gt; ，正式在 &lt;strong&gt;智慧供应链科创转化专区&lt;/strong&gt; 上线，助力光缆网络运维迈入智能化新时代！&lt;/p&gt;
&lt;h2 id="产品概览一眼看懂光缆健康"&gt;产品概览：一眼看懂光缆健康
&lt;/h2&gt;&lt;p&gt;系统首页集成了 &lt;strong&gt;故障告警分析、光缆健康度评价、故障工单指标、光缆运行全景视图&lt;/strong&gt; 等功能，基于GIS地图与OTDR探测能力，实现 &lt;strong&gt;光缆故障精准定位&lt;/strong&gt; ，让运维人员一目了然，快速响应。&lt;/p&gt;
&lt;h2 id="软硬一体自主产权性能卓越"&gt;软硬一体：自主产权，性能卓越
&lt;/h2&gt;&lt;h2 id="硬件设备智能监测稳定可靠"&gt;硬件设备：智能监测，稳定可靠
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;光纤智能监测设备&lt;/strong&gt; ：1U高度，支持8/16通道，动态范围32dB，监测距离高达 &lt;strong&gt;100公里&lt;/strong&gt; ，定位精度 ±5米 ！&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;模块化设计&lt;/strong&gt; ：灵活配置，支持内外挂光开关，适配多场景部署&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;低成本高性价比&lt;/strong&gt; ：完全自主知识产权，设备售价仅为 &lt;strong&gt;5万元/台&lt;/strong&gt; ，远低于市场同类产品&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="软件平台智能分析全域覆盖"&gt;软件平台：智能分析，全域覆盖
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;故障快速定位&lt;/strong&gt; ：结合GIS与光缆资源数据，实现从段落到标志点的精准定位&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;性能巡检与指标监控&lt;/strong&gt; ：支持定期/实时巡检，自动阈值告警，提升巡检效率&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;时延路径仿真&lt;/strong&gt; ：智能推荐最短时延路径，支撑业务快速开通&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;光缆健康度评价&lt;/strong&gt; ：多维度评估光缆状态，输出月/季/年报，支持PDF导出&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="四大核心优势"&gt;四大核心优势
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;优势&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;** 智能分析**&lt;/td&gt;
&lt;td&gt;性能在线纳管、指标综合分析&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;** 快速感知**&lt;/td&gt;
&lt;td&gt;故障定位精确、告警派单实时&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;** 经济高效**&lt;/td&gt;
&lt;td&gt;一键巡检、分级维护，降本增效&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;** 全域覆盖**&lt;/td&gt;
&lt;td&gt;支持在用与备用纤芯，多场景适用&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="应用场景广泛实战效果显著"&gt;应用场景广泛，实战效果显著
&lt;/h2&gt;&lt;p&gt;系统已成功应用于：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;集团智能排障平台&lt;/strong&gt; ：覆盖265套波分系统，纳管光缆529条，提升排障效率与数据质量&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;客户业务监测&lt;/strong&gt; ：先于客户发现故障，实现主动运维，提升客户满意度&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;骨干网与备用光纤一体化监控&lt;/strong&gt; ：实现跨厂家统一纳管，打破系统孤岛&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="竞品对比技术领先合作灵活"&gt;竞品对比：技术领先，合作灵活
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;对比项&lt;/th&gt;
&lt;th&gt;中讯&lt;/th&gt;
&lt;th&gt;市场竞品&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;设备价格&lt;/td&gt;
&lt;td&gt;5万元/台&lt;/td&gt;
&lt;td&gt;12–14万元/台&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;在用光纤管理&lt;/td&gt;
&lt;td&gt;支持统一纳管&lt;/td&gt;
&lt;td&gt;不支持&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;厂家依赖&lt;/td&gt;
&lt;td&gt;低，独立部署&lt;/td&gt;
&lt;td&gt;高，依赖厂家网管&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;扩展能力&lt;/td&gt;
&lt;td&gt;强，支持定制开发&lt;/td&gt;
&lt;td&gt;有限&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="合作与联系"&gt;合作与联系
&lt;/h2&gt;&lt;p&gt;如果您对&amp;quot; &lt;strong&gt;光纤智慧运营管理系统&lt;/strong&gt; &amp;ldquo;感兴趣，欢迎联系产品负责人：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;联系人：张先生&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;微信扫码咨询👇&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://mmbiz.qpic.cn/sz_mmbiz_png/B95B1kesBUA2xJbW2Sgm22Tic3hcS34AhvHKHaGRZsNVO7x15eDJpCoRAjPN0B3WepKXtoCRzae9aZ3iaRIqwhdQ/640?wx_fmt=png&amp;amp;from=appmsg&amp;amp;watermark=1&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1#imgIndex=0"
loading="lazy"
alt="图片"
&gt;&lt;/p&gt;
&lt;p&gt;中国联通光纤智慧运营管理系统，以 &lt;strong&gt;自主产权、智能运维、高效管理&lt;/strong&gt; 为核心，助力构建更安全、更稳定、更智能的光网络基础设施。 &lt;strong&gt;智慧光网，联通未来！&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>ODF智能运维：机器人自动维护的未来不是梦</title><link>https://blog.fallleaf.net/p/tech-odf-automatic-maintance/</link><pubDate>Mon, 08 Sep 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-odf-automatic-maintance/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/cover.webp" alt="Featured image of post ODF智能运维：机器人自动维护的未来不是梦" /&gt;&lt;p&gt;你是否曾想过，未来光纤配线架的维护会是什么样子？不再需要工程师们亲临现场，手动完成繁琐的接线操作，而是由智能机器人精准、高效地处理一切。这并非科幻场景，而是国际电联（ITU）发布的 ITU-T M.3368 建议书所描绘的未来。&lt;/p&gt;
&lt;h2 id="核心挑战传统odf维护的困境"&gt;核心挑战：传统ODF维护的困境
&lt;/h2&gt;&lt;p&gt;ODF是光通信网络中用于端接、连接和分配光缆的关键物理基础设施 。传统上，所有光纤跳接、改接或网络重构都需要维护人员亲临现场手动操作。这种模式不仅耗费大量的人力和时间成本 ，而且在日益密集和复杂的连接环境中，极易发生人为错误，另外，操作后的信息变更，经常缺失，导致光纤的连接信息不准确。因此，建立一套能够远程化、自动化、智能化的维护体系，成为业界迫切的需求。&lt;/p&gt;
&lt;h2 id="什么是-odf-智能维护"&gt;什么是 ODF 智能维护？
&lt;/h2&gt;&lt;p&gt;传统的 ODF 维护模式依赖人工操作，耗时耗力，而且容易出错。ITU-T M.3368 提出的智能维护系统，希望采用自动化技术手段，彻底改变这一现状。&lt;/p&gt;
&lt;p&gt;该建议书的核心在于引入了两个关键组件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;智能切换单元 (SHU)&lt;/strong&gt; ：一种能够替代人工完成 ODF 现场维护操作的设备。它通常由移动机械臂 (MMD)、控制软件 (CS) 和本地操作终端 (LOT) 组成。SHU 可以根据指令，自动执行端口定位、光纤连接与断开等操作。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ODF 智能维护系统 (OSMS)&lt;/strong&gt; ：一个远程软件系统，负责向 SHU 发出维护指令并进行交互，从而实现 ODF 的现场智能维护和 SHU 管理。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这套系统能够显著减少 ODF 现场维护中的手动操作工作量，节省大量的维护成本和时间。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/osms.webp"
width="1952"
height="913"
srcset="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/osms_hu_bed99e1a31a822e2.webp 480w, https://blog.fallleaf.net/p/tech-odf-automatic-maintance/osms_hu_e44d82be4a540973.webp 1024w"
loading="lazy"
alt="OSMS"
class="gallery-image"
data-flex-grow="213"
data-flex-basis="513px"
&gt;&lt;/p&gt;
&lt;p&gt;OSMS:ODF Smart Maintenance System&lt;/p&gt;
&lt;p&gt;SHU:Smart Handover Unit&lt;/p&gt;
&lt;p&gt;LOT:Local Operation Terminal&lt;/p&gt;
&lt;p&gt;CS:Control Software&lt;/p&gt;
&lt;p&gt;MMD:Mobile Mechanical Device&lt;/p&gt;
&lt;h2 id="odf-智能维护如何工作"&gt;ODF 智能维护如何工作？
&lt;/h2&gt;&lt;p&gt;ODF 智能维护架构主要由两部分组成：位于现场通信机房的 &lt;strong&gt;ODF-SHU&lt;/strong&gt; 组合，以及远程的 &lt;strong&gt;OSMS&lt;/strong&gt; 。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;任务下达&lt;/strong&gt; ：OSMS 可以远程向多个 SHU 同时下达维护指令，并控制它们完成相应的 ODF 操作。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;指令执行&lt;/strong&gt; ：SHU 的控制软件接收并解析来自 OSMS 的指令，然后控制移动机械臂执行光纤连接和切换等操作。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;信息同步&lt;/strong&gt; ：SHU 的控制软件会自动记录 ODF 的光纤连接关系及其变化，并将这些信息同步到 OSMS，确保物理连接和数字记录的一致性。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;资源管理&lt;/strong&gt; ：OSMS 负责管理和维护由 SHU 报告的 ODF 光纤连接关系表，从而实现对整个网络光纤资源连接拓扑的管理。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种协同工作模式实现了光纤连接的快速、精准切换，从而可以根据业务需求灵活地调整网络连接和数据关系。&lt;/p&gt;
&lt;h2 id="智能维护的四大功能要求"&gt;智能维护的四大功能要求
&lt;/h2&gt;&lt;p&gt;ITU-T M.3368 建议书详细规定了 SHU 和 OSMS 的功能要求：&lt;/p&gt;
&lt;p&gt;SHU 功能要求&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;维护指令解析&lt;/strong&gt; ：SHU 必须能够解析 OSMS 或本地操作终端下达的指令，并发送给移动机械臂执行 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;光纤连接关系管理&lt;/strong&gt; ：SHU 必须建立和维护一个 ODF 光纤连接关系表，并自动记录其变化 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;光纤连接自动切换&lt;/strong&gt; ：SHU 必须支持根据维护指令自动建立光纤连接，并能精准完成光纤转移等操作。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;光纤信息同步&lt;/strong&gt; ：SHU 必须能将自身的配置信息、告警信息和光纤连接信息同步给 OSMS。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OSMS 功能要求&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SHU 配置管理&lt;/strong&gt; ：OSMS 必须能够收集和管理 SHU 的状态信息和静态配置信息。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;光纤资源管理&lt;/strong&gt; ：OSMS 必须维护每个 ODF 的光纤连接关系表，并能及时更新整个网络的光纤资源连接拓扑 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;维护任务管理&lt;/strong&gt; ：OSMS 必须支持维护任务的生成、管理、分发、反馈、审查和归档等功能。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SHU 告警管理&lt;/strong&gt; ：OSMS 必须能收集、存储、查询、分析和处理 SHU 的告警信息。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过这套智能系统，光通信网络和数据中心的智能维护能力得到了显著提升。它彻底改变了传统的现场人工维护模式，为实现光纤网络的远程自动控制、在线监控和资源综合管理提供了强大的技术支持。&lt;/p&gt;
&lt;h2 id="智能odf的实践"&gt;智能ODF的实践
&lt;/h2&gt;&lt;p&gt;建议书的发布并非空中楼阁，而是产业界多年探索、研发的结晶。如何有效的布放跳纤，避免形成“意大利面现象”（形容细线交织缠绕在一起的状态），是整套系统的难点和关键点。目前收集到的相关研究、产品简介如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;2019年由北京邮电大学的杨正、魏世民等学者撰写的论文《Design and implementation of a small AODF》，发表于《The Journal of Engineering》。其核心目标是解决通信网络中光纤配线架（ODF）交叉连接这一尚未自动化的“痛点”，通过设计和实现一个 &lt;strong&gt;小型自动光纤配线架（AODF）原型&lt;/strong&gt; ，来降低运营商的运维成本并提升服务等级。论文的核心创新在于提出了一种新颖的结构模型和交叉连接方法，并成功制造了物理原型进行验证。
&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-1.webp"
width="562"
height="463"
srcset="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-1_hu_9cab273fce528e7a.webp 480w, https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-1_hu_d5c2b260a0c4048e.webp 1024w"
loading="lazy"
alt="图片"
class="gallery-image"
data-flex-grow="121"
data-flex-basis="291px"
&gt;&lt;/li&gt;
&lt;li&gt;TeliSwitch的自动光纤配线架 (AODF)。该解决方案集成了硬件和软件，降低跳纤错误的风险，并减少运营商的运维时间与成本，已有商用。 该种方式也是建议书列出的参考用例。&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;核心硬件：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;圆形平台 (Circular Platforms):&lt;/strong&gt; 用于有序管理进入机柜的光缆，是系统的基础结构。
- &lt;strong&gt;微型滑轮 (Mini-Pulleys):&lt;/strong&gt; 精确控制跳线（patch cords）的移动。
- &lt;strong&gt;机械臂 (Robotic Arm):&lt;/strong&gt; 引导跳线，确保从输入到输出的连接过程完全可复制且高度可靠。
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;专利技术：&lt;/strong&gt; AODF 采用了 TeliSwitch 的专利技术，能够在 &lt;strong&gt;5分钟内&lt;/strong&gt; 远程自动完成一次连接变更，极大地提升了效率。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;集成化功能：&lt;/strong&gt; 圆形平台可配备专用模块，直接进行 &lt;strong&gt;OTDR（光时域反射仪）测量&lt;/strong&gt; 。这使得运营商可以在连接前或维护时段，远程检测线路的连通性和质量，确保线路正常。
&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-2.webp"
width="1024"
height="1320"
srcset="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-2_hu_4e29c4ac734f8d10.webp 480w, https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-2_hu_ee636948dd71fe73.webp 1024w"
loading="lazy"
alt="图片"
class="gallery-image"
data-flex-grow="77"
data-flex-basis="186px"
&gt;
&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-3.webp"
width="354"
height="556"
srcset="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-3_hu_f0c16bc38aec209f.webp 480w, https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-3_hu_7b7c7a6829d1fe4d.webp 1024w"
loading="lazy"
alt="图片"
class="gallery-image"
data-flex-grow="63"
data-flex-basis="152px"
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="3"&gt;
&lt;li&gt;武汉赫尔墨斯的光纤机器人HAI ROBOT，是一款智能机器人光纤物理层交换机，使物理光纤连接变得自动、远程、 快速且无需人工现场干预。提供卓越的光学性能，低插入损耗，对传输协议、波长或者带宽速率透明。 全光网络架构，支持单纤双向，采用可视化的物理连接方式，支持级联构建大规模的智能网络。
&lt;img src="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-4.webp"
width="599"
height="442"
srcset="https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-4_hu_e8a7f025eb20544f.webp 480w, https://blog.fallleaf.net/p/tech-odf-automatic-maintance/640-4_hu_f35d9443844582a.webp 1024w"
loading="lazy"
alt="图片"
class="gallery-image"
data-flex-grow="135"
data-flex-basis="325px"
&gt;&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>【人工智能+】系列（二）：从概念到落地，30分钟搭建你的“战略型第二大脑”</title><link>https://blog.fallleaf.net/p/tech-second-brain-with-n8n/</link><pubDate>Thu, 04 Sep 2025 10:45:00 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-second-brain-with-n8n/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-second-brain-with-n8n/cover.webp" alt="Featured image of post 【人工智能+】系列（二）：从概念到落地，30分钟搭建你的“战略型第二大脑”" /&gt;&lt;p&gt;这篇文章，主要是介绍如何在 n8n 上建立一个&amp;quot; 第二大脑&amp;quot; 的工作流，内容比较枯燥，如果想立即尝试，见文章最后的📎&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;这篇文章，主要是介绍如何在 n8n 上建立一个&amp;quot; 第二大脑&amp;quot; 的工作流，内容比较枯燥，如果想立即尝试，见文章最后的📎 配套资源 ，获取一键导入的 n8n 配置文件。在导入之前，确保 n8n、ollama 和 Qwen 都正常运行，相关安装方法，见网上教程。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="引言我们为什么需要第二大脑"&gt;引言：我们为什么需要“第二大脑”？
&lt;/h2&gt;&lt;p&gt;在通信行业，每一份战略规划都承载着对未来的判断。它不仅要基于历史经验、试点反馈，更要精准对齐高层意图，并洞察竞争格局。&lt;/p&gt;
&lt;p&gt;然而，信息散落在 OA、本地磁盘、会议纪要中，专家常常陷入“找资料比写方案还累”的困境。&lt;/p&gt;
&lt;p&gt;而我们在上篇提出的解决方案是：打造一个能“ &lt;strong&gt;感知任务、融合知识、生成框架&lt;/strong&gt; ”的“战略型第二大脑”。&lt;/p&gt;
&lt;p&gt;现在，是时候兑现承诺了。&lt;/p&gt;
&lt;p&gt;本文将带您 &lt;strong&gt;从零开始，用开源工具本地搭建一个可用的“第二大脑”&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;一个基于 n8n + Ollama + Qwen 的智能系统，流程如下图：&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;战略生成流程知识库模块读取目录文件切分文本Ollama 向量化存入 Simple Vector Store任务输入感知模块融合模块查询 Vector Store Tool生成模块输出初稿专家介入
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;知识库模块&lt;/strong&gt; ：构建企业“战略记忆中枢”，将散落的文档转化为可检索、可追溯、可进化的智能资产。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;感知模块&lt;/strong&gt; ：听懂任务背后的“弦外之音”，解析出关键词与战略意图。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;融合模块&lt;/strong&gt; ：激活企业“沉睡的知识资产”，实现跨文档、跨时间的语义关联。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;生成模块&lt;/strong&gt; ：基于上下文，自动生成逻辑清晰、结构完整的方案初稿。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;专家介入&lt;/strong&gt; ：最终决策与洞见注入，人机协同产出真正有价值的方案。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这套系统能否成功，80% 取决于知识库的质量，20% 取决于技术实现的合理性。接下来，我们就来一步步构建它。&lt;/p&gt;
&lt;h2 id="步骤-1打造可进化的战略知识库"&gt;步骤 1：打造可进化的“战略知识库”
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;🎯 目标：将分散的 &lt;code&gt;.txt&lt;/code&gt; 文件自动转化为结构化、可语义检索的知识资产。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="1-节点-1读取指定目录下的所有文本文件readwrite-file"&gt;1. 节点 1：读取指定目录下的所有文本文件（Read/Write File）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;资料输入&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;节点类型&lt;/strong&gt; ： &lt;code&gt;n8n-nodes-base.readWriteFile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;配置&lt;/strong&gt; ：
&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;fileSelector&amp;#34;: &amp;#34;d:\\\\second_brain_demo\\\\*&amp;#34;,
&amp;#34;options&amp;#34;: {
&amp;#34;fileExtension&amp;#34;: &amp;#34;.txt&amp;#34;
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;功能&lt;/strong&gt; ：扫描 &lt;code&gt;d:\second_brain_demo\&lt;/code&gt; 目录下所有 &lt;code&gt;.txt&lt;/code&gt; 文件，支持通配符。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;输出&lt;/strong&gt; ：以二进制形式返回每个文件内容。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 可扩展支持 &lt;code&gt;.pdf&lt;/code&gt; 、&lt;code&gt;.docx&lt;/code&gt; ，但需确保 Ollama 支持解析。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="2-节点-2文本切分recursive-character-text-splitter"&gt;2. 节点 2：文本切分（Recursive Character Text Splitter）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;Recursive Character Text Splitter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;配置&lt;/strong&gt; ：
&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;chunkSize&amp;#34;: 100,
&amp;#34;chunkOverlap&amp;#34;: 20
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;作用&lt;/strong&gt; ：将长文本按字符递归切分为小片段，避免超出模型上下文。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;切分逻辑&lt;/strong&gt; ：优先按 &lt;code&gt;\n\n&lt;/code&gt; 、 &lt;code&gt;\n&lt;/code&gt; 、 、&lt;code&gt;.&lt;/code&gt; 分割。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;⚠️ 注意：当前版本中，切分由该节点控制，而非 &lt;code&gt;Simple Vector Store&lt;/code&gt; 内置。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="3-节点-3调用-ollama-进行向量化embeddings-ollama"&gt;3. 节点 3：调用 Ollama 进行向量化（Embeddings Ollama）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;Embeddings Ollama&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;配置&lt;/strong&gt; ：
&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;model&amp;#34;: &amp;#34;dengcao/bge-large-zh-v1.5:latest&amp;#34;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;功能&lt;/strong&gt; ：调用本地 Ollama 服务，使用中文优化的 &lt;code&gt;bge-large-zh&lt;/code&gt; 模型生成向量。&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;优势&lt;/strong&gt; ：专为中文语义设计，在“领导讲话”“试点报告”等场景表现优异。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;✅ 需提前运行：&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ollama pull dengcao/bge-large-zh-v1.5
&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="4-节点-4存入向量数据库simple-vector-store"&gt;4. 节点 4：存入向量数据库（Simple Vector Store）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;Simple Vector Store&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;配置&lt;/strong&gt; ：&lt;/li&gt;
&lt;li&gt;• Mode: &lt;code&gt;insert&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;• Memory Key: &lt;code&gt;vector_store_key&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;连接&lt;/strong&gt; ：&lt;/li&gt;
&lt;li&gt;• 输入文档 → &lt;code&gt;Default Data Loader&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;• 切分器 → &lt;code&gt;Recursive Character Text Splitter&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• 嵌入模型 → &lt;code&gt;Embeddings Ollama&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;✅ 数据将持久化在内存中，供后续查询使用。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-知识库构建流程总结"&gt;✅ 知识库构建流程总结
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;节点&lt;/th&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;资料输入&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;扫描目录，读取 &lt;code&gt;.txt&lt;/code&gt; 文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Recursive Character Text Splitter&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;按设定规则切分文本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Embeddings Ollama&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;使用 &lt;code&gt;bge-large-zh&lt;/code&gt; 生成中文向量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Simple Vector Store&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;存储为可检索的知识片段&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;🔄 此流程可绑定 &lt;code&gt;Cron Trigger&lt;/code&gt; ，实现 &lt;strong&gt;每日自动更新知识库&lt;/strong&gt; 。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="步骤-2构建懂战略的-ai-生成引擎"&gt;步骤 2：构建“懂战略”的 AI 生成引擎
&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;🎯 目标：用户输入任务，AI 自动调用知识库，生成专业方案初稿。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id="1-节点-1任务输入chat-trigger"&gt;1. 节点 1：任务输入（Chat Trigger）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;任务输入&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;类型&lt;/strong&gt; ： &lt;code&gt;@n8n/n8n-nodes-langchain.chatTrigger&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;作用&lt;/strong&gt; ：接收用户输入的任务指令，如：
“请基于历史方案和试点反馈，制定县乡传输网低成本演进路径”&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="2-节点-2感知模块ai-agent--知识检索"&gt;2. 节点 2：感知模块（AI Agent + 知识检索）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;感知模块&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;类型&lt;/strong&gt; ： &lt;code&gt;@n8n/n8n-nodes-langchain.agent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;核心配置&lt;/strong&gt; ：&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-使用的模型"&gt;📌 使用的模型
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;语言模型&lt;/strong&gt; ： &lt;code&gt;Qwen Turbo&lt;/code&gt; （通过 API 调用）&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;嵌入模型&lt;/strong&gt; ： &lt;code&gt;Ollama&lt;/code&gt; （用于检索）&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;记忆机制&lt;/strong&gt; ： &lt;code&gt;Window Buffer Memory&lt;/code&gt; （保留上下文）&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="-系统提示词system-message"&gt;📌 系统提示词（System Message）
&lt;/h4&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;你是一名通信网络战略规划专家以及专业的任务分析助手。你的职责是分析用户的要求：{{$json.chatInput}}，根据查询知识库 company_documents_tool 中的相关内容, 输出框架大纲。
请严格遵守以下规则：
1. 内容从知识库 company_documents_tool 获取
2. 输出内容只包含“需要做什么”，不得加入额外解释
3. 输出格式为 JSON，必须包含：
- &amp;#34;task&amp;#34;: &amp;#34;一句话说明要完成的具体任务&amp;#34;
- &amp;#34;requirements&amp;#34;: [&amp;#34;要求1&amp;#34;, &amp;#34;要求2&amp;#34;, ...]
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id="-工具绑定"&gt;📌 工具绑定
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;Vector Store Tool&lt;/strong&gt; ： &lt;code&gt;company_documents_tool&lt;/code&gt; ，用于检索知识库&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;✅ 该模块将：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• 解析用户意图&lt;/li&gt;
&lt;li&gt;• 自动调用知识库检索相关资料&lt;/li&gt;
&lt;li&gt;• 输出结构化任务框架&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="3-节点-3生成模块ai-agent--文档生成"&gt;3. 节点 3：生成模块（AI Agent + 文档生成）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;节点名称&lt;/strong&gt; ： &lt;code&gt;生成模块&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;类型&lt;/strong&gt; ： &lt;code&gt;@n8n/n8n-nodes-langchain.agent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;系统提示词&lt;/strong&gt; ：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;你是一名通信网络战略规划专家。
你是一个专业的文档编写助手。你的任务是根据任务要求，仅使用知识库 company_documents_tool 提供的内容，生成最终文档。
请严格遵守以下规则：
1. 所有内容必须来自知识库，不得引入外部信息
2. 可以在知识库范围内进行归纳、整合，但不得编造
3. 如果某项信息未找到，请写“相关信息未在知识库中找到”
4. 文风：简洁、正式、专业
&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;
&lt;p&gt;✅ 输入来自“感知模块”的结构化任务框架，输出完整方案初稿。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h3 id="-战略生成流程总结"&gt;✅ 战略生成流程总结
&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;节点&lt;/th&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;任务输入&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;接收用户指令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;感知模块&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;解析意图，调用知识库，输出任务框架&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;生成模块&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;基于框架与知识，生成专业文档&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;🔁 整个流程无需人工干预，AI 自主完成“理解 → 检索 → 生成”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="三关键连接模块如何协同工作"&gt;三、关键连接：模块如何协同工作？
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;连接&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;资料输入&lt;/code&gt; → &lt;code&gt;Simple Vector Store&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;触发知识入库&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Embeddings Ollama&lt;/code&gt; → &lt;code&gt;Simple Vector Store&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;提供中文向量能力&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Vector Store Tool&lt;/code&gt; ←→ &lt;code&gt;感知模块&lt;/code&gt; &amp;amp; &lt;code&gt;生成模块&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;提供语义检索能力&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Qwen&lt;/code&gt; ←→ 所有 AI Agent 节点&lt;/td&gt;
&lt;td&gt;提供大模型推理能力&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;Window Buffer Memory&lt;/code&gt; ←→ 两个 Agent&lt;/td&gt;
&lt;td&gt;支持多轮对话上下文&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;✅ 所有 AI 能力通过标准接口连接，模块化、可替换、可扩展。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="-知识库演示内容"&gt;📁 知识库演示内容
&lt;/h2&gt;&lt;p&gt;为确保 AI 能生成高质量方案，建议知识库包含以下五个测试文件, 均由 LLM 生成：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;文件名&lt;/th&gt;
&lt;th&gt;内容重点&lt;/th&gt;
&lt;th&gt;示例片段&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;白皮书摘要.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;战略目标、技术路径&lt;/td&gt;
&lt;td&gt;“2027 年实现县乡 100% 光缆覆盖”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;试点报告.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;成功/ 失败经验&lt;/td&gt;
&lt;td&gt;“FgOTN 设备成本高达 45 万元”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;领导讲话.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;战略偏好&lt;/td&gt;
&lt;td&gt;“要注重投资效益，避免重复建设”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;友商应用情况.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;竞争情报&lt;/td&gt;
&lt;td&gt;“B 运营商采用 DCI-BOX，部署效率提升”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;设备对比资料.txt&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;技术依据&lt;/td&gt;
&lt;td&gt;“DCI-BOX 成本比 OTN 低 30%-50%”&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id="-重要说明与边界"&gt;⚠️ 重要说明与边界
&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;项目&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Ollama 必须运行&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ollama serve&lt;/code&gt; 需常驻后台&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;嵌入模型必须加载&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;ollama pull dengcao/bge-large-zh-v1.5&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Qwen Turbo 需 API 密钥&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;通过阿里云百炼平台获取&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;向量库存储在内存中&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;如需持久化，建议升级为 ChromaDB 或 FAISS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;必须人工审核&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;⚠️ AI 输出仅作参考，不可直接用于决策&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h2 id="实战演示以县乡传输网演进为例"&gt;实战演示：以“县乡传输网演进”为例
&lt;/h2&gt;&lt;p&gt;让我们用一个真实场景验证系统效果。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;任务输入&lt;/strong&gt; ：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;请结合《XX 网络 2025-2027 年演进白皮书》和DCI-BOX以及FgOTN试点情况，研究县乡本地传输网的演进方向。重点考虑低成本、可持续性和与国家‘新基建’政策的契合度。参考近期领导在务虚会上关于‘网络精简’和‘区域均衡’的讲话精神。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;感知模块调用融合模块输出&lt;/strong&gt; ：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-css" data-lang="css"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;AI&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="err"&gt;&amp;#34;task&amp;#34;:&lt;/span&gt; &lt;span class="err"&gt;&amp;#34;编制县乡本地传输网发展建设指导意见&amp;#34;,&amp;#34;requirements&amp;#34;:&lt;/span&gt; &lt;span class="err"&gt;[&amp;#34;结合《XX&lt;/span&gt; &lt;span class="err"&gt;网络&lt;/span&gt; &lt;span class="err"&gt;2025-2027&lt;/span&gt; &lt;span class="err"&gt;年演进白皮书》的内容&amp;#34;,&amp;#34;分析DCI-BOX和FgOTN试点情况&amp;#34;,&amp;#34;制定县乡本地传输网发展建设指导意见&amp;#34;,&amp;#34;重点考虑低成本、可持续性&amp;#34;,&amp;#34;确保与国家‘新基建’政策的契合度&amp;#34;,&amp;#34;参考近期领导在务虚会上关于‘网络精简’和‘区域均衡’的讲话精神&amp;#34;],&amp;#34;rule&amp;#34;:&lt;/span&gt; &lt;span class="err"&gt;&amp;#34;必须采用company_documents_tool内的信息&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;生成模块调用融合模块输出初稿（语言模型不同，输出也不同）&lt;/strong&gt; ：&lt;/p&gt;
&lt;p&gt;县乡本地传输网发展建设指导意见&lt;/p&gt;
&lt;p&gt;一、总体目标&lt;/p&gt;
&lt;p&gt;根据《XX 网络 2025-2027 年演进白皮书》的指导思想，结合DCI-BOX和FgOTN试点情况，推动县乡本地传输网的高质量发展。以低成本、可持续性为核心，确保与国家“新基建”政策的契合度，同时落实领导在务虚会上关于“网络精简”和“区域均衡”的讲话精神。&lt;/p&gt;
&lt;p&gt;二、基本原则&lt;/p&gt;
&lt;p&gt;低成本：优先采用成熟、经济的技术方案，降低建设和运维成本。&lt;/p&gt;
&lt;p&gt;可持续性：注重资源的合理利用，确保网络长期稳定运行。&lt;/p&gt;
&lt;p&gt;政策契合度：紧密结合国家“新基建”政策，推动技术与政策的深度融合。&lt;/p&gt;
&lt;p&gt;网络精简：优化网络结构，提升效率，减少冗余。&lt;/p&gt;
&lt;p&gt;区域均衡：实现城乡网络协调发展，缩小数字鸿沟。&lt;/p&gt;
&lt;p&gt;三、重点任务&lt;/p&gt;
&lt;p&gt;技术选型&lt;/p&gt;
&lt;p&gt;推广DCI-BOX和FgOTN等先进技术，提升传输效率和灵活性。&lt;/p&gt;
&lt;p&gt;结合试点经验，逐步推广适用于县乡地区的解决方案。&lt;/p&gt;
&lt;p&gt;网络规划&lt;/p&gt;
&lt;p&gt;根据区域发展需求，制定合理的网络布局，确保覆盖全面。&lt;/p&gt;
&lt;p&gt;强化骨干网与接入网的协同，提升整体性能。&lt;/p&gt;
&lt;p&gt;政策支持&lt;/p&gt;
&lt;p&gt;积极争取国家“新基建”政策的支持，争取专项资金。&lt;/p&gt;
&lt;p&gt;推动地方政策与国家政策的对接，形成合力。&lt;/p&gt;
&lt;p&gt;管理机制&lt;/p&gt;
&lt;p&gt;建立健全网络维护和管理机制，确保网络运行的稳定性。&lt;/p&gt;
&lt;p&gt;加强人才培训，提升运维水平。&lt;/p&gt;
&lt;p&gt;四、实施步骤&lt;/p&gt;
&lt;p&gt;调研分析：深入调研县乡地区网络现状及需求，形成详细报告。&lt;/p&gt;
&lt;p&gt;方案设计：基于调研结果，制定具体实施方案。&lt;/p&gt;
&lt;p&gt;试点推进：选择典型区域进行试点，积累经验。&lt;/p&gt;
&lt;p&gt;全面推广：总结试点经验，逐步推广至全县乡范围。&lt;/p&gt;
&lt;p&gt;五、保障措施&lt;/p&gt;
&lt;p&gt;组织保障：成立专项工作组，明确责任分工。&lt;/p&gt;
&lt;p&gt;资金保障：多渠道筹措资金，确保项目顺利实施。&lt;/p&gt;
&lt;p&gt;监督评估：建立监督评估机制，定期检查项目进展。&lt;/p&gt;
&lt;p&gt;六、结语&lt;/p&gt;
&lt;p&gt;县乡本地传输网的发展是推动乡村振兴和数字化转型的重要基础。通过科学规划、技术创新和政策支持，努力构建一个高效、经济、可持续的县乡传输网络，为实现“网络强国”目标贡献力量。&lt;/p&gt;
&lt;p&gt;相关信息未在知识库中找到&lt;/p&gt;
&lt;h2 id="结语从建力到用智通信人的-ai-新使命"&gt;结语：从“建力”到“用智”，通信人的 AI 新使命
&lt;/h2&gt;&lt;p&gt;在上一篇文章的结尾，我们提到：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“在下一篇中，我将分享如何利用开源工具，在本地环境中一步步搭建起这套能解码战略的智能系统。”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;今天，我们兑现了这个承诺。&lt;/p&gt;
&lt;p&gt;这套系统原型，还不能真正的实用,仅仅是一个最小的简单RAG系统 ， 但让我们认识到：人工智能，不再遥远，而是每一位战略规划专家都 &lt;strong&gt;用得上、用得起、用得安心&lt;/strong&gt; 的生产力工具。&lt;/p&gt;
&lt;p&gt;它让我们：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• 从 “信息搬运工” 转变为 “战略架构师” ；&lt;/li&gt;
&lt;li&gt;• 从 “被动响应” 升级为 “主动洞察” ；&lt;/li&gt;
&lt;li&gt;• 从 “经验驱动” 迈向 “数据+ 智能驱动” 。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;更重要的是，它提醒我们：
作为通信人，我们不仅是 &lt;strong&gt;算力的建设者&lt;/strong&gt; ，更应成为 &lt;strong&gt;智能的应用者&lt;/strong&gt; 。
国家推动“人工智能+”，不仅是让我们建更多的数据中心，更是鼓励我们 &lt;strong&gt;率先在自身业务中实践 AI 的价值&lt;/strong&gt; 。&lt;/p&gt;
&lt;h2 id="-配套资源"&gt;📎 配套资源
&lt;/h2&gt;&lt;p&gt;关注公众号，回复“ &lt;strong&gt;第二大脑&lt;/strong&gt; ”（不是文章留言!），获取：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;• &lt;strong&gt;本文对应的工作流 JSON 文件（可直接导入）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;5 份示例资料（.txt）&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;示例资料默认存储在&amp;quot;D:\second_brain_demo&amp;quot; 目录下&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;• &lt;strong&gt;由于笔记本算力不足, 语言模型用阿里的免费 Qwen 模型，可以去申请免费 API_KEY&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>【人工智能+】系列（一）：告别方案焦虑，为网络规划专家打造“懂战略”的第二大脑</title><link>https://blog.fallleaf.net/p/tech-second-brain-introduce/</link><pubDate>Sat, 30 Aug 2025 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-second-brain-introduce/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-second-brain-introduce/cover.webp" alt="Featured image of post 【人工智能+】系列（一）：告别方案焦虑，为网络规划专家打造“懂战略”的第二大脑" /&gt;&lt;h2 id="引子一次典型的战略突袭"&gt;引子：一次典型的“战略突袭”
&lt;/h2&gt;&lt;p&gt;我们通信人，尤其是做网络规划和顶层设计的同事，对下面这个场景一定不陌生：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;周五下午四点半，领导的即时消息弹出，转发了更高层领导聊天记录，内容是“根据三年前集团发布的《XX网络2025-2027年演进白皮书》，结合近一年各省分公司的试点结果和当前行业技术趋势，重新评估并制定下一阶段网络演进的战略路径和部署方案。下周三提交汇报版PPT。”&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这一刻，压在我们心头的，不是“时间紧”，而是“任务重”。这个“重”，体现在它的 &lt;strong&gt;深度、广度和战略对齐的高要求&lt;/strong&gt; 上：&lt;/p&gt;
&lt;p&gt;• &lt;strong&gt;历史的厚度&lt;/strong&gt; ：三年前的《白皮书》，最终版在哪？过程稿的取舍逻辑是什么？相关重点内容的解读及其背后的目的是什么？ • &lt;strong&gt;实践的广度&lt;/strong&gt; ：近一年的试点数据，哪些省是成功样板，哪些是“踩坑”案例？这些宝贵的经验沉淀，是结构化的报告还是零散的汇报？ • &lt;strong&gt;未来的精度&lt;/strong&gt; ：最新的技术趋势，是参考Gartner的曲线，还是听取厂家的宣传，亦或是友商发展动向？如何快速甄别、整合并形成我们的判断？ • &lt;strong&gt;最关键的——战略的高度&lt;/strong&gt; ：集团近期的战略重心是什么？高层领导在不同场合的讲话中，对这个方向的定调有何变化？如何确保我们的方案，是与集团战略 &lt;strong&gt;同频共振&lt;/strong&gt; 的顶层设计，而非一份单纯的技术堆砌？&lt;/p&gt;
&lt;p&gt;这不仅是一次信息检索，更是一场对个人知识体系、信息敏感度和战略解码能力的极限拉练。我们的周末，注定要在海量的文档、PPT和聊天记录中进行“大海捞针”，试图拼凑出那张宏伟而精准的战略蓝图。&lt;/p&gt;
&lt;h2 id="痛点剖析网络规划专家的知识管理困境"&gt;痛点剖析：网络规划专家的“知识管理困境”
&lt;/h2&gt;&lt;p&gt;我们擅长思考宏大的战略，却常常被构成战略的微小碎片所困。这种困境，本质上是三个核心挑战：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;知识资产的“沉睡”与“离散”&lt;/strong&gt; ：大量的历史方案、试点数据、行业报告，如同沉睡的资产，分散在不同的系统、部门甚至个人电脑中。需要时，无法快速建立“过去”（历史方案）、“现在”（试点反馈）和“未来”（技术趋势）之间的逻辑关联。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;战略意图的“隐性”与“多变”&lt;/strong&gt; ：领导的战略意图，往往蕴含在多次会议、不同场合的讲话和批示中。这些“软知识”是方案的灵魂，但捕捉和理解它们，极度依赖个人记忆和悟性，难以体系化传承和对齐。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;方案制定的“高压”与“重复”&lt;/strong&gt; ：每个战略方案都是高度定制的，既要深度复用历史经验，又要进行创新性重构，无法通过简单的模板套用完成。在时间紧、任务重的压力下，大量精力耗费在重复性的资料搜集、整理和对齐工作上，挤占了真正用于战略思考和创新的时间。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="破局之策构建能理解战略意图的第二大脑"&gt;破局之策：构建能理解“战略意图”的第二大脑
&lt;/h2&gt;&lt;p&gt;我们需要一个智能伙伴，它不仅能存储知识，更能理解知识背后的 &lt;strong&gt;上下文（Context）&lt;/strong&gt; 和 战略意图（Strategic Intent） 。这，就是我们基于大语言模型（LLM）构建的“战略型第二大脑”。&lt;/p&gt;
&lt;p&gt;面对开篇的任务，它的工作流程是这样的：&lt;/p&gt;
&lt;p&gt;首先， &lt;strong&gt;感知模块&lt;/strong&gt; 会对任务进行深度解析。它不仅识别出“XX网络演进白皮书”这个实体，更能理解“战略推进路径”、“下一阶段”等词汇背后，对 &lt;strong&gt;方向性、前瞻性和投资效益&lt;/strong&gt; 的综合考量。&lt;/p&gt;
&lt;p&gt;随后， &lt;strong&gt;融合模块&lt;/strong&gt; 将启动深度的语义关联与溯源：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;精准定位&lt;/strong&gt; ：《XX网络演进白皮书》的所有版本、相关解读及宣贯材料。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;自动关联&lt;/strong&gt; ：过去一年所有省公司的“试点”、“试验”项目报告与总结汇报，并基于关键指标（如TCO、性能、运维效率）进行对比分析。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;智能检索&lt;/strong&gt; ：知识库中所有标记为“技术趋势”、“行业洞察”的内外部文档（如Gartner报告、MWC演讲、标准组织文稿、厂商的建议、互联网上相关的内容）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;核心能力——战略解码&lt;/strong&gt; ：启动“ &lt;strong&gt;领导意图分析&lt;/strong&gt; ”功能，自动检索并提炼高层领导近半年所有公开讲话、内部会议纪要中，与“XX网络”、“演进”、“战略”、“投资”等相关的核心观点，分析其关注点的演变脉络，为方案精准定调。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;接下来， &lt;strong&gt;生成模块&lt;/strong&gt; 将扮演你的“首席规划师”，基于融合后的知识，构建方案的核心逻辑：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;现状评估与洞察（As-Is &amp;amp; Insight）&lt;/strong&gt; ：对比《白皮书》的初始目标与试点现实，自动生成SWOT分析，清晰指出当前策略的差距与机遇。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;战略路径建议（To-Be Options）&lt;/strong&gt; ：提出2-3条演进路径选项，并结合“领导意图分析”的结果，加权推荐最符合集团顶层战略的选项，并阐明理由。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;部署路线图（Roadmap）&lt;/strong&gt; ：将推荐的战略路径，分解为具体的举措、阶段和里程碑，形成可执行、可衡量的行动计划草案。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最后， &lt;strong&gt;输出模块&lt;/strong&gt; 将上述思考，转化为一份逻辑严谨、表述专业、深度对齐战略方向的方案初稿。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/B95B1kesBUDh0N9HyBBLDQC9NwYmAKjniaR21uibLcmibzxichmF2GvapP79jLZEgiaDUmFBDicrbib852BALmHfNENKg/640?wx_fmt=jpeg&amp;amp;watermark=1&amp;amp;tp=webp&amp;amp;wxfrom=5&amp;amp;wx_lazy=1#imgIndex=0"
loading="lazy"
alt="图片"
&gt;&lt;/p&gt;
&lt;h2 id="价值回归从方案撰写者到战略决策者"&gt;价值回归：从“方案撰写者”到“战略决策者”
&lt;/h2&gt;&lt;p&gt;在“第二大脑”的辅助下，你不再需要耗费数日进行原始资料的搜集、整理和初步分析。你的工作模式将彻底升级：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;你提出战略问题 -&amp;gt; 它完成80%的资料融合、分析洞察和框架构建 -&amp;gt; 你基于它的深度分析和高价值初稿，聚焦于最终的策略决断、观点拔高和逻辑精炼。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;你的宝贵时间，将真正回归到 &lt;strong&gt;定方向、做决断、提洞见&lt;/strong&gt; 上，这才是战略型专家不可替代的核心价值。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="实战业务场景设想本地传输网演进中的战略编制"&gt;实战业务场景设想：本地传输网演进中的“战略编制”
&lt;/h2&gt;&lt;p&gt;以一个典型的实际业务场景为例： &lt;strong&gt;集团要求思考本地传输网，尤其是县乡层面的网络如何演进发展&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;这一场景面临以下几个关键问题：&lt;/p&gt;
&lt;p&gt;• &lt;strong&gt;低成本建设&lt;/strong&gt; ：县域及乡镇地区资源有限，需平衡投资与效益； • &lt;strong&gt;满足一定时期的业务需求&lt;/strong&gt; ：既要支撑当前5G、千兆宽带、工业互联网等应用，也要具备一定的扩展能力； • &lt;strong&gt;政策导向&lt;/strong&gt; ：国家“新基建”政策、“城乡一体化”战略等对网络发展的具体要求； • &lt;strong&gt;技术演进&lt;/strong&gt; ：从光传送网（OTN）、IPRAN、FlexE、FgOTN、DCI-BOX等新技术/新设备形态发展的趋势。&lt;/p&gt;
&lt;p&gt;在这个过程中，“第二大脑”可以帮助我们：&lt;/p&gt;
&lt;p&gt;• &lt;strong&gt;快速提取历史方案&lt;/strong&gt; ：回顾过去几年在县乡网络部署中的成功与失败案例； • &lt;strong&gt;整合试点数据&lt;/strong&gt; ：分析不同区域的试点成果，提炼有效模式； • &lt;strong&gt;分析领导意图&lt;/strong&gt; ：梳理上级对“区域一体化”、“底层网络”、“网络精简”等议题的关注点； • &lt;strong&gt;生成可行路径&lt;/strong&gt; ：基于成本、性能、可持续性等维度，提出多个演进路线供选择。&lt;/p&gt;
&lt;h2 id="结语掌控知识方能引领战略"&gt;结语：掌控知识，方能引领战略
&lt;/h2&gt;&lt;p&gt;“第二大脑”的核心，是将分散、沉睡的知识，激活为系统、智能的战略资产。它让我们能够从容应对高层级的战略需求，输出不仅技术正确、更体现战略洞察的卓越方案，真正成为领导身边“靠得住、用得上”的核心智囊。&lt;/p&gt;
&lt;p&gt;在下一篇中，我将分享如何利用开源工具，在本地环境中一步步搭建起这套能解码战略的智能系统原型。敬请期待。&lt;/p&gt;
&lt;h2 id="后记从建力到用智通信人的ai新使命"&gt;后记：从“建力”到“用智”——通信人的AI新使命
&lt;/h2&gt;&lt;p&gt;当我们谈论国家大力发展人工智能时，作为通信网络从业者，我们往往首先想到的是5G、F5G、算力网络、数据中心等基础设施建设——我们是“算力的建设者”，为AI时代铺就信息高速公路。&lt;/p&gt;
&lt;p&gt;然而，在这场波澜壮阔的智能化浪潮中，我们的角色不应止步于此。&lt;/p&gt;
&lt;p&gt;国家推动“人工智能+”行动，不仅要求我们提供更强大的算力支撑，更要求我们成为“算力的使用者”，将AI技术深度融入网络规划、建设、运维、优化的全生命周期，实现行业的自我革新与赋能。&lt;/p&gt;
&lt;p&gt;本文所探讨的“第二大脑”，正是这样一个尝试。它并非遥不可及的概念，而是每个通信工程师都能上手实践的具体工具。通过将LLM与我们的专业知识和海量数据相结合，我们正在：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将经验转化为可复用的智能资产&lt;/li&gt;
&lt;li&gt;将碎片信息整合为战略洞察&lt;/li&gt;
&lt;li&gt;将被动响应变为主动规划&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这不仅是工作效率的提升，更是工作模式的变革——让我们从重复性的信息整理中解放出来，专注于更需要人类智慧和创造力的战略决策和技术创新。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;作为数字基础设施的构建者，我们比任何人都更懂数据的力量；作为网络技术的创新者，我们理应成为AI技术的最前沿应用者。让我们既做算力的“铺路人”，也做智能的“领航员”，在建设强大算力基础设施的同时，更率先探索其最具价值的应用场景，共同推动通信行业向智能化、高端化迈进。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这条路，才刚刚开始。但每一个小小的实践，都是通往未来的一步。&lt;/p&gt;</description></item><item><title>5G回传承载网IPv6地址分配方案学习</title><link>https://blog.fallleaf.net/p/tech-5g-backhaul-ipv6-addressing/</link><pubDate>Tue, 08 Aug 2023 21:00:42 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-5g-backhaul-ipv6-addressing/</guid><description>&lt;h3 id="ipv6地址简介"&gt;IPv6地址简介
&lt;/h3&gt;&lt;p&gt;IPv6地址采用共128二进制地址长度，分成8段，每16位1段，每段用4位16进制表示，分段间用“：”隔开。可采用压缩格式表示，即每段前导0可以删除，连续的“0”分段可以用“::”表示（只能出现一次）。&lt;/p&gt;
&lt;p&gt;下面是二进制形式的IPv6地址：&lt;/p&gt;
&lt;p&gt;0010000000000001 0000110110111000 0000000000000000 0010111100111011 0000001010101010 0000000011111111 1111111000101000 1001110001011010&lt;/p&gt;
&lt;p&gt;转换成十六进制表示：&lt;/p&gt;
&lt;p&gt;2001: 0DB8: 0000: 2F3B: 02AA: 00FF: FE28: 9C5A&lt;/p&gt;
&lt;p&gt;压缩格式为：&lt;/p&gt;
&lt;p&gt;2001:DB8:0:2F3B:2AA:FF:FE28:9C5A&lt;/p&gt;
&lt;p&gt;128位的IPv6地址由64位的子网前缀和64位的接口标识符组成。IPv6 前缀用“ 地址/ 前缀长度” 这一表示方法。所有子网都有64位子网络，例如2001:DB8:0:2F3B::/64表示一个子网前缀。任何少于 64 位的前缀要么表示一条 汇 总的路由，要么是一段 IPv6 地址空间的地址范围汇总，例如2001:DB8:3F::/48。&lt;/p&gt;
&lt;p&gt;对除由国际地址分配机构(ICANN、APNIC等)分配的前缀外，剩余地址比特位(前缀至第65比特前)可以由规划机构、互联网运营商自行划定，并制定相关含义。同时，64位接口标识符目前也没有形成全球明确的分配规则，可以在规划时统一考虑利用接口标识符承载多种信息。&lt;/p&gt;
&lt;h3 id="5g回传承载网ipv6地址分配方案学习"&gt;5G回传承载网IPv6地址分配方案学习
&lt;/h3&gt;&lt;h3 id="ipv6地址规划方案"&gt;IPv6地址规划方案
&lt;/h3&gt;&lt;p&gt;某运营商分配给5G回传承载网的IPv6地址段为2345:6720::/27（&lt;strong&gt;虚拟，非真实地址&lt;/strong&gt;）。&lt;/p&gt;
&lt;p&gt;5G回传承载网IP地址规划体现了层次划分原则，按网络类型、区域、层级、用途进行了划分。如下所示。&lt;/p&gt;
&lt;p&gt;1-27位：2345:6720::/27 5G回传承载网地址段&lt;/p&gt;
&lt;p&gt;28-35位：区域区分（骨干网、省分）&lt;/p&gt;
&lt;p&gt;36-40位：省内地市划分&lt;/p&gt;
&lt;p&gt;41-52位：地市内网络区分&lt;/p&gt;
&lt;p&gt;53-64位：子网用途划分&lt;/p&gt;
&lt;p&gt;由于5G回传承载网的IPv6地址为人工指定，所以仍可按子网划分方式设置特定的地址段。&lt;/p&gt;
&lt;p&gt;65-68位：网络层次（核心汇聚、接入）&lt;/p&gt;
&lt;h3 id="ipv6地址规划实例"&gt;IPv6地址规划实例
&lt;/h3&gt;&lt;p&gt;承载网IPv6地址段为2345:6720::/27，把第二段换成二进制为：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2345:0110 0111 001&lt;/strong&gt;0 0000::/27，第二段第三个字节最后一位取值可为0和1，因此IPv6地址范围为：&lt;/p&gt;
&lt;p&gt;2345:6720::~2345:673F:FFFF:FFFF:FFFF:FFFF:FFFF:FFFF&lt;/p&gt;
&lt;h4 id="区域规划"&gt;区域规划
&lt;/h4&gt;&lt;p&gt;第28-35位共8位，作为区域划分，区分骨干和省分网络，一共可划分2^8=256个子网。&lt;/p&gt;
&lt;p&gt;把2345:6720:0000::/35转换成二进制为：&lt;/p&gt;
&lt;p&gt;2345:0110 0111 001&lt;strong&gt;0 0000:000&lt;/strong&gt;0 0000 0000 0000::/35，黑色粗体部分位区域子网，这样，第二段的第三个字节可取2，3，第四个字节可取0-F，第三段第一个字节可取0，2，4，6，8，A，C，E&lt;/p&gt;
&lt;p&gt;因此，这一层级的网络子网地址范围可分为：&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;20: 0&lt;/strong&gt;000::/35（骨干网络）&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;20: 2&lt;/strong&gt;000::/35 北京&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;20: 4&lt;/strong&gt;000::/35 上海&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;20: 6&lt;/strong&gt;000::/35 天津&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;20: 8&lt;/strong&gt;000::/35 山东&lt;/p&gt;
&lt;p&gt;….&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;23:A&lt;/strong&gt;000::/35 青海&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;23:C&lt;/strong&gt;000::/35 宁夏&lt;/p&gt;
&lt;p&gt;….&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;2F:E&lt;/strong&gt;000::/35 预留&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;30:0&lt;/strong&gt;000::/35 预留&lt;/p&gt;
&lt;p&gt;….&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;3F:C&lt;/strong&gt;000::/35 预留&lt;/p&gt;
&lt;p&gt;2345:67&lt;strong&gt;3F:E&lt;/strong&gt;000::/35 预留&lt;/p&gt;
&lt;p&gt;其中，对于骨干网络子网地址范围2345:67&lt;strong&gt;20: 0&lt;/strong&gt;000::/35，取第36位作为区分两个骨干承载网络，有&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2345:6720: 0000::/36 2408:1000 0001 0010 0000:000&lt;strong&gt;0&lt;/strong&gt; 0000 0000 0000::/36 承载网一平面&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2345:6720: 1000::/36 2408:1000 0001 0010 0000:000&lt;strong&gt;1&lt;/strong&gt; 0000 0000 0000::/36 承载网二平面&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="省内地市规划"&gt;省内地市规划
&lt;/h4&gt;&lt;p&gt;在各省的子网中，36-40为地市标识，最多有2^5=32个子网，以山东分配的地址段（2345:67&lt;strong&gt;20: 8&lt;/strong&gt;000::/35）为例进行划分。&lt;/p&gt;
&lt;p&gt;转换为二进制为：&lt;/p&gt;
&lt;p&gt;2345:6720: 100&lt;strong&gt;0 0000&lt;/strong&gt; 0000 0000 0000::/40，黑色字体为36-40位。&lt;/p&gt;
&lt;p&gt;第三段第一字节可取8和9，第二字节可取 0-F，因此有，按身份证号第三、四位对应城市顺序依次从1开始顺序编号，对应转换为5位2进制。如下：&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;80&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;81&lt;/strong&gt;00::/40 济南（济南01，5位二进制为0 0001）&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;82&lt;/strong&gt;00::/40 青岛（青岛02，5位二进制为0 0002）&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;8D&lt;/strong&gt;00::/40 临沂&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;8E&lt;/strong&gt;00::/40 德州&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;8F&lt;/strong&gt;00::/40 聊城&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;90&lt;/strong&gt;00::/40 菏泽（菏泽17，5位二进制为1 1111）&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;91&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;92&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;9D&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;9E&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;p&gt;2345:6720:&lt;strong&gt;9F&lt;/strong&gt;00::/40 预留&lt;/p&gt;
&lt;h4 id="地市内网络规划"&gt;地市内网络规划
&lt;/h4&gt;&lt;p&gt;41-52位为地市内网络划分，可划分2^12=4096子网。以青岛（2345:6720:8200::/40）为例子，第三、四段转换为二进制为：&lt;/p&gt;
&lt;p&gt;2345:6720:1000 0010 &lt;strong&gt;0000 0000: 0000&lt;/strong&gt; 0000 0000 0000::/52&lt;/p&gt;
&lt;p&gt;加黑的字节可取0-F，因此有：&lt;/p&gt;
&lt;p&gt;2345:6720:82&lt;strong&gt;00:0&lt;/strong&gt;000::/52、&lt;/p&gt;
&lt;p&gt;2345:6720:82&lt;strong&gt;00:1&lt;/strong&gt;000::/52、&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;2345:6720:82&lt;strong&gt;00:F&lt;/strong&gt;000::/52&lt;/p&gt;
&lt;p&gt;2345:6720:82&lt;strong&gt;01:0&lt;/strong&gt;000::/52&lt;/p&gt;
&lt;p&gt;&amp;hellip;&lt;/p&gt;
&lt;p&gt;2345:6720:82&lt;strong&gt;FF:F&lt;/strong&gt;000::/52&lt;/p&gt;
&lt;p&gt;一共2^12=4096个，取第一子网地址段（2345:6720:82&lt;strong&gt;00:0&lt;/strong&gt;000::/52）作为山东省青岛市5G回传承载网的地址段，&lt;/p&gt;
&lt;h4 id="地市5g回传承载网子网用途划分"&gt;地市5G回传承载网子网用途划分
&lt;/h4&gt;&lt;p&gt;53-64位按用途（网管、业务、端口互联）划分子网，&lt;/p&gt;
&lt;p&gt;2345:6720: 1000 0010 0000 0000: 0000 &lt;strong&gt;0000 0000 0000&lt;/strong&gt;::/64&lt;/p&gt;
&lt;p&gt;黑体的这三个字节分别可取0-F，因此有：&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0&lt;strong&gt;000&lt;/strong&gt;::/64 青岛市5G回传承载网设备网管loopback地址段&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0&lt;strong&gt;001&lt;/strong&gt;::/64 青岛市5G回传承载网设备网络业务loopback地址段&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0&lt;strong&gt;002&lt;/strong&gt;::/64 青岛市5G回传承载网设备接口互联地址段&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0&lt;strong&gt;FFE&lt;/strong&gt;::/64 预留&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0&lt;strong&gt;FFF&lt;/strong&gt;::/64 预留&lt;/p&gt;
&lt;h4 id="网络层次规划"&gt;网络层次规划
&lt;/h4&gt;&lt;p&gt;将65-68位作为网络层次区分，共有2^4=16个，定义0000为核心汇聚层，0001为接入层，以青岛市5G回传承载网设备网络业务loopback地址段2345:6720:8200:0&lt;strong&gt;001&lt;/strong&gt;::/64 地址段为例：&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0002:&lt;strong&gt;0000&lt;/strong&gt; 0000 0000 0000::/68 核心汇聚层业务loopback地址段，&lt;/p&gt;
&lt;p&gt;2345:6720:8200:0002:&lt;strong&gt;1111&lt;/strong&gt; 0000 0000 0000::/68 接入层业务loopback地址段，&lt;/p&gt;
&lt;h4 id="网管loopback地址网络业务地址及端口互联地址规划"&gt;网管loopback地址，网络业务地址及端口互联地址规划
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;网管loopback地址，以/128前缀长度分配地址，&lt;/li&gt;
&lt;li&gt;业务loopback地址，以/128前缀长度分配地址，&lt;/li&gt;
&lt;li&gt;网络侧设备端口互联地址，以/127前缀长度分配地址，互联接口两端网络业务loopback地址小的取值/127中的0，网络业务loopback地址大的取值/127中的1，&lt;/li&gt;
&lt;li&gt;业务接入设备端口互联地址，按业务接入设备的IPv6地址规划，以/127前缀长度分配地址，互联接口两端网络业务loopback地址小的取值/127中的0，网络业务loopback地址大的取值/127中的1。&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>ZEROTIER内网穿透实践</title><link>https://blog.fallleaf.net/p/tech-zerotier-nat-traversal-practice/</link><pubDate>Wed, 30 Dec 2020 20:59:15 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-zerotier-nat-traversal-practice/</guid><description>&lt;p&gt;内网和外网计算机组成一个局域网，相互能访问，并能访问内网资源。&lt;/p&gt;
&lt;h3 id="应用环境"&gt;应用环境
&lt;/h3&gt;&lt;p&gt;公司内网：一台运行linux的NAS,一台win10笔记本电脑&lt;/p&gt;
&lt;p&gt;外网：linux的VPS&lt;/p&gt;
&lt;p&gt;家：Win10一台电脑&lt;/p&gt;
&lt;p&gt;个人：Android手机&lt;/p&gt;
&lt;h3 id="需求"&gt;需求
&lt;/h3&gt;&lt;p&gt;在外网，笔记本电脑、家中的电脑和手机均能访问内网NAS上的云存储，在外网能通过NAS访问内网资源。&lt;/p&gt;
&lt;h3 id="方案"&gt;方案
&lt;/h3&gt;&lt;p&gt;在各个终端上安装zerotier，设置VPS为moon，在NAS开启转发。&lt;/p&gt;
&lt;p&gt;zerotier的设置可上网查询，记录一下NAS设置转发的命令（网卡名称据实更改）:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;设置/etc/sysctl.conf中的net.ipv4.ip_forward=1
iptables -t nat -A POSTROUTING -o enp123s0f0(物理网卡) -j MASQUERADE
iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -i zt7u3fcxwr(zerotier虚拟网卡) -o enp123s0f0(物理网卡) -j ACCEPT
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;如果访问内网资源需要用内部域名，需对访问设备的虚拟卡配置dns地址&lt;/p&gt;</description></item><item><title>DDM,DOM是什么</title><link>https://blog.fallleaf.net/p/tech-what-is-ddm-dom/</link><pubDate>Sat, 14 Dec 2019 21:35:45 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-what-is-ddm-dom/</guid><description>&lt;h2 id="ddm的定义"&gt;DDM的定义
&lt;/h2&gt;&lt;p&gt;DDM(Digital Diagnostic Monitoring)即数字诊断监控，由SFF-8472定义。&lt;/p&gt;
&lt;p&gt;SFF-8472(Specification for Management Interface for SFP+)是一个关于SFP管理接口的规范，由行业组织存储网络工业协会 (SNIA)下的SFF(Small Form Factor)技术工作组制定。这种协议最初是为了给便携式电脑定义新型磁盘驱动器的外形而成立的，第一个版本是在2001年发布，最新的版本是2018年7月发布的Rev.12.3。&lt;/p&gt;
&lt;p&gt;制定SFF-8472规范的一个主要目的是定义光模块的数字诊断监控功能（DDM），它是应用在GBIC/SFP/SFP+光模块中一项功能，用来监控光模块工作中的实时参数，如工作电压、工作电流、激光器偏置电流、激光器发光功率和收光功率，这些信息被存储在标准的内存结构中，并提供了标准访问接口地址，该内存结构除了提供参数监测信息外，还定义了报警标志或告警条件。&lt;/p&gt;
&lt;p&gt;DDM通常也叫做DOM(Digital Optical Monitoring )，即数字光学检测。&lt;/p&gt;
&lt;p&gt;DDM相关信息存储在I2C从设备的1010001X开始的存储段内，如下图。&lt;/p&gt;
&lt;h2 id="ddm的参数"&gt;DDM的参数
&lt;/h2&gt;&lt;p&gt;DDM实时监测工作温度、工作电压、偏置电流、发射功率、接收功率这5个参数，经过A/D转换，将模拟量变为数字量，并通过校准，将数字量写入EEPROM特定地址段A2H，&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;工作温度：指收发器温度，SFF-8472并没有规定温度的测量点，由厂家决定，一般温度传感器是在电路板上。如果离芯片太近可能监测的温度会高一些，并不是实际收发器的温度，所以要进行校准。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;工作电压：指收发器的工作电压，同样，SFF-8472并没有指明电压监测点，一般可以是发送器电压或者接收器电压。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;激光器偏置电流：激光器的偏置电流指的是驱动电源中放大器的输入电路的静态电流，用以保证激光器正常工作。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;发送功率：激光器发送功率并不是真正的光功率，一般是监测发射器电流转换的。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;接收功率：可采用平均功率或OMA类型的接收功率。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="哪些光模块支持ddm"&gt;哪些光模块支持DDM
&lt;/h2&gt;&lt;p&gt;目前大部分的SFP、SFP+模块都支撑DDM功能，在模块的规格信息里，常常注明DDM或DOM。&lt;/p&gt;
&lt;h2 id="ddm能做什么"&gt;DDM能做什么
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;预测光模块的使用寿命：一般来讲，光模块的输出功率都是稳定的，这是通过不断调整激光发射器的偏置电流来实现的，但是随着运行时间的增加，发射激光器的量子效率会降低，因此用户可以通过监控激光发射器的的偏置电流来预测光模块的使用寿命。&lt;/li&gt;
&lt;li&gt;故障定位：在光通信系统中，精准地找到故障点具有重要意义。通过分析收发功率以及i电压电流可以进行故障定位。&lt;/li&gt;
&lt;li&gt;兼容性测试：兼容性测试即检测光模块是否可以在某一网络设备上正常使用，而光模块不兼容的常见情况有电压超过光模块的规格、温度超过光模块的规格、接收到的光功率过载或低于光接收器的的接收范围等。而使用具有数字诊断监控功能（DDM）的光模块能直观的反映这些不兼容情况。&lt;/li&gt;
&lt;li&gt;监测光纤性能：通过对接收功率以及发送功率的分析，辅助光纤长度等信息，可大致判断光路的衰减是否在正常范围内。&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>SFP模块的兼容性</title><link>https://blog.fallleaf.net/p/tech-compatibility-sfp-module/</link><pubDate>Sat, 14 Dec 2019 21:31:51 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-compatibility-sfp-module/</guid><description>&lt;h2 id="sfp光模块的生产"&gt;SFP光模块的生产
&lt;/h2&gt;&lt;p&gt;SFP光模块的组成如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-compatibility-sfp-module/sfp.webp"
width="1080"
height="724"
srcset="https://blog.fallleaf.net/p/tech-compatibility-sfp-module/sfp_hu_2c8d41280072178b.webp 480w, https://blog.fallleaf.net/p/tech-compatibility-sfp-module/sfp_hu_8cd4b58aecbc64e5.webp 1024w"
loading="lazy"
alt="SFP光模块"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="358px"
&gt;&lt;/p&gt;
&lt;p&gt;实际上，所有光模块，不管是原厂还是第三方，都是由类似的元器件组装而成。&lt;/p&gt;
&lt;p&gt;光模块供应商生产基本是三种模式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;外购组件，模块封装&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;外购芯片，组建封装，模块封装&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;芯片制造，组建封装，模块封装&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;具备从芯片制造到模块封装能力的供应商，全球屈指可数的，大部分的供应商都是外购元器件进行封装生产，国内更甚。光模块产品的区别主要体现在不同的元器件来源、生产质量及成本的管控方面。&lt;/p&gt;
&lt;p&gt;大部分兼容光模块其实也是由生产原厂光模块的厂家生产，甚至采用相同技术指标、生产工艺，也仅仅是商标的不同。&lt;/p&gt;
&lt;h2 id="sfp光模块兼容性"&gt;SFP光模块兼容性
&lt;/h2&gt;&lt;p&gt;根据MSA标准设计制造生产的SFP光模块，兼容性是不言而喻的。&lt;/p&gt;
&lt;p&gt;MSA（Multi-Source Agreement）是一个多供应商规范，相比IEEE算是一个民间的非官方组织形式，针对不同的光模块（SFP、SFP+、QSFP等）标准会形成不同的MSA协议，可以理解是产业内企业联盟行为。MSA除了定义光模块的结构封装（包括外形尺寸，电连接器，引脚分配等），也定义了电接口、光接口，从而形成完整的光模块标准。理论上，遵循MSA协议生产的光模块均可兼容。
供应商陷阱&lt;/p&gt;
&lt;p&gt;一些主导地位的通信设备、数据设备供应商，常常采用“Vendor Lock-in“（供应商陷阱，供应商套牢，厂商泥潭）的策略，宣称在设备上用原厂的SFP模块才能正常工作，让用户产生不必要的担忧，使用了远远高过市场价的原厂光模块。当然，不考虑成本的话，原厂光模块自然是首选。当成本占据主要因素时，利用兼容光模块就成了首要考虑的问题。&lt;/p&gt;
&lt;p&gt;这些供应商通常在光模块的固件、硬件以及EEPROM里设置一些数据，比如供应商名称、序列号，认证码等等。当设备发觉光模块插入插槽中，就会读取光模块某些特定地址的（A0h）数据，如果和预先设定的数据不一致，便认为不是原厂模块，不工作或发出告警。即便模块能正常工作，模块的DDM功能也可能不正常使用。SFF-8472规范里，规定了数字诊断检测接口（A2h），其中存储了光模块的发光功率、收光功率以及告警、警报的门限值等，如果兼容模块的DDM信息中的一些门限参数和原厂不一致，也会造成网管的频繁告警或警报。&lt;/p&gt;
&lt;h2 id="怎么用兼容sfp模块"&gt;怎么用兼容SFP模块
&lt;/h2&gt;&lt;p&gt;光模块中的EEPROM信息可以通过专用设备进行修改，大量兼容模块厂家也根据原厂模块的一些参数进行了适配，兼容性更强了。在某些主导厂家的设备商，也可进行命令设置，取消原厂模块认证功能，让设备或网管能够识别及监测兼容光模块。&lt;/p&gt;
&lt;p&gt;使用兼容光模块，在法律上，也可看作一种反垄断的举措。通过选择合适的兼容模块供应商，可以即保证性能，又降低成本。这必将会对设备供应商的报价策略产生影响，报价策略通常是把接口板或设备与光模块捆绑在一起，价格此消彼长。不过，让模块归于模块，让板卡归于板卡，价格体系理顺，不是更好吗？
如何选择兼容光模块&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;选择合适的兼容光模块，可以从以下几点考虑：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否符合MSA的规范要求&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否和原厂设备兼容，DDM功能是否正常&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否有可靠的质量和服务保证&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模块的零部件来源是否是可信任&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>5G承载中回传新接口:50GE</title><link>https://blog.fallleaf.net/p/tech-50ge-interface-5g-backhaul/</link><pubDate>Fri, 13 Dec 2019 08:49:28 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-50ge-interface-5g-backhaul/</guid><description>&lt;p&gt;在IMT-2020(5G)推进组的《5G承载网络架构和技术方案白皮书》以及《5G承载光模块白皮书》中，提出了采用50GE作为5G承载中回传的线路接口。&lt;/p&gt;
&lt;h2 id="50g相关以太网光接口标准"&gt;50G相关以太网光接口标准
&lt;/h2&gt;&lt;p&gt;IEEE的两个标准：IEEE 802.3 bs(400G，200G) 和802.3 cd（200G，100G，50G） 定义了50G，100G，200G，400G以太网的媒体访问控制层（MAC）以及物理层（PHY）的相关参数。主要的光接口类型以及采用的调制格式如下表：&lt;/p&gt;
&lt;p&gt;可以看到，在实现50G以上的高速以太网接口时，主要采用了50G比特速率（波特26.6GBaud），PAM4调制方式。&lt;/p&gt;
&lt;h2 id="为什么是pam4"&gt;为什么是PAM4
&lt;/h2&gt;&lt;p&gt;光传输一直在追求更高的传输速率，但速率越高，所面临的问题也就越多，诸如色散、发光功率、信噪比、光收发器的线性度及灵敏度、技术成熟度、成本等。提高速率的方式有多种，包括通过频率、振幅、相位等变化的调制方式。&lt;/p&gt;
&lt;p&gt;NRZ（不归零码，Non-Return-to-Zero）调制方式一直是光通信采用的主要技术，随着速率的提升，如 200G/400G，NRZ调制在色散影响、光电转换带宽和成本上遇到了较大的困难。对于25G以上的波特率，在中长距传输时，色散的影响显著；光电转换带宽在60Gbit/s以上出现了技术瓶颈。对于高速接口，每通道数据速率要提高到50Gbps以上，如果仍然采用NRZ技术，由于每个符号周期只有不到20ps，对于收发芯片的时间裕量以及传输链路的损耗要求更加苛刻， 若能既保持较低的波特率，又提高每一波特的信息量，就能大大降低光器件的带宽要求，从而可以降低光器件成本。而PAM4调制方式极大的满足了上述要求，是继NRZ后热门的信号调制技术，也是多阶调制技术的代表。&lt;/p&gt;
&lt;h2 id="pam4是什么"&gt;PAM4是什么
&lt;/h2&gt;&lt;p&gt;PAM即脉冲幅度调制（Pulse Amplitude Modulation）。NRZ调制方式采用高、低两种信号电平来表示要传输的数字逻辑信号的1、0信息，每个信号符号周期可以传输1bit的逻辑信息，实际上NRZ方式可也叫做PAM2，2表示的是有2种电平信号。那么PAM4调制方式就是采用4个不同的信号电平来进行数据传输，每个符号周期可以表示2bit的逻辑信息（00、01、10、11）。由于 PAM4 信号每个符号周期可以传输2bit的信息，因此要实现同样的信号传输能力，PAM4信号的符号速率（波特率）只有NRZ信号的一半，换而言之，采用同样的波特速率，PAM4的信号比特率是NRZ信号的2倍，比如利用25G波特率，PAM4调制方式，可以传输50G比特率的信息。NRZ和PAM4信号典型波形如下图所示，右侧为NRZ和PAM4的光眼图对比，NRZ为单眼波形，PAM4为三眼波形（Y轴方向存在3个眼状图形）。&lt;/p&gt;
&lt;p&gt;其实多阶PAM调制的概念并不新鲜，比如最普遍使用的100MBase-T以太网，就使用3种电平进行信号传输；而在无线通信领域中普遍使用的16QAM调制、32QAM调制、64QAM调制等，也都是采用多电平的基带信号对载波信号进行调制。此外还有PAM5（802.3ab），PAM8（802.3bm）等。&lt;/p&gt;
&lt;p&gt;在2014年发布的100G背板标准802.3 bj中，同时定义了两种信号传输方式：4组25.78G波特率的NRZ信号，或者4组13.6G波特率的PAM4信号。由于芯片技术以及PCB板材和连接器技术的快速发展，25G波特率的NRZ技术很快实现商用应用，但PAM4由于当时技术成熟度和成本的原因，并没有在100G以太网的技术中被真正应用。随着IEEE 802.3 bs 和802.3 cd的发布，PAM4将越来越多的大规模应用起来。
50G相关标准进展&lt;/p&gt;
&lt;p&gt;IEEE 802.3 bs标准批准时间为2017年12月，该标准覆盖了400GE/200GE两种以太网接口速率。其中400GE定义了LR8 (10km)/FR8 (2km)/DR4 (500m)/SR16 (100m)等PMD子层规格以及多种AUI电接口。LR8/FR8采用了50G PAM4技术，成为以太网标准中首个采用该技术接口标准，为PAM4技术开启广泛商用打开了大门。&lt;/p&gt;
&lt;p&gt;IEEE 802.3 cd标准批准时间为2018年12月，标准覆盖了50GBASE-LR/KR/SR PMD子层，所有PMD子层都采用了50G PAM4技术，50GE是PAM4技术应用最广泛的以太网接口速率。&lt;/p&gt;
&lt;p&gt;以上标准定义的50GE传输距离都在10km以下，2018年4月IEEE成立了Beyond 10km工作组，对50G在40km传输距离范围内，100G、200G、400G在40km及80km传输范围的技术进行研究，2018年9月更改为P802.3 cn工作组，计划规范批准时间节点为2020年6月。&lt;/p&gt;
&lt;h2 id="50g光收发模块原理及功率预算"&gt;50G光收发模块原理及功率预算
&lt;/h2&gt;&lt;p&gt;基于50G PAM4光模块运用PAM4编码技术，每个采样周期的传输信息量提升了一倍，可以利用一对25G发射和接收器件实现50G传输速率，降低了模块的成本。50G PAM4可有多种应用场景，除了单通道的50GE PAM4光模块，还有4通道的200GE（4×50G）光模块和8通道的400GE（8×50G）光模块。&lt;/p&gt;
&lt;p&gt;下面以单通道50G PAM4即50GE光模块为例，介绍各模块功能。&lt;/p&gt;
&lt;p&gt;发送方向：数据经过50GE MAC、PCS、PMA后，通过2×26.5625Gbps接口(Golden finger，50GAUI-2)送到50GE光模块，经过PAM4 DSP编解码芯片进行速率和码型转换，从2通道转换为1通道，调制码型转换成为PAM4，速率为26.5625G波特率，激光器驱动芯片将PAM4信号放大，驱动25G激光器将电信号转换为单波长25GBaud（50Gbps）光信号。&lt;/p&gt;
&lt;p&gt;接收方向，接受器将单波长25GBaud光信号转换为电信号，整形放大后输出至PAM4 DSP编解码芯片，PAM4编解码芯片再将该信号转换为2*25G NRZ信号，通过2×26.5625Gbps接口(Golden finger，50GAUI-2)送到以太网处理芯片。&lt;/p&gt;
&lt;p&gt;目前50GE PAM4模块的封装形式为QSFP28，计划的封装为SFP56，光口类型为LC，使用单模光纤，中心波长为1311nm，传输距离为10km/40km，模块的最大功耗为4.5W。有关功率预算关键技术参数如下表：&lt;/p&gt;
&lt;p&gt;和传输距离相关的主要是通道插损，即光纤以及光纤连接器引入的插损之和。IEEE目前定义50G LR场景，极限情况下是1304.5nm，按0.43dB/km计算，即0.43dB/km×10km=4.3dB，还有6.3-4.3=2dB余量是给光纤连接、以及熔纤导致的插损。&lt;/p&gt;
&lt;h2 id="50g光收发模块相关技术"&gt;50G光收发模块相关技术
&lt;/h2&gt;&lt;p&gt;PAM4相比传统的NRZ信号，从2阶变为4阶，眼图从单眼变成3眼。在承载bit效率方面虽然提升了1倍，但也引入了对噪声、线性度敏感的问题，因此不能简单的利用已经成熟的25G光电模块，还需根据PAM4的特性进行相应的改变。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;发送机线性要求&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由于多电平调制，PAM4 对器件的线性度有要求。当线性度差时，PAM4 输出眼图的3 个眼高度不一样，容易造成误判，增加了误码率。电器件比较容易满足上述要求，10 km 规格能采用直接调制激光器（DML）实现，同时也保证了低成本。40km规格则需要使用电吸收调制激光器(EML)和雪崩光电探测器。另一方面，10km和40km的规格均对高线性度的激光器驱动器和跨阻放大器有需求。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光功率预算&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;功率预算主要考虑出光功率、光调制幅度（OMA）、光链路损耗、发射机和色散眼图闭合度（TDECQ）、多径干扰（MPI）和接收灵敏度等，PAM4在功率预算计算上与NRZ 类似。对于同样的接收信号幅度，由于PAM4发送4 个电平，最小信号眼图眼高比NRZ 的小5 dB 左右。因此，相比于NRZ 方式，PAM4 存在着5dB左右的调制代价。激光器的发射功率相对采用NRZ的25G激光器需要提高。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PAM4 DSP芯片&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由于PAM4编码有4种电平逻辑，所以要求模块内部的Driver和TIA芯片都具备线性输出功能，而NRZ模块使用限幅输出的方案即可。PAM4模块需要使用DSP来完成50G PAM4和2×25G NRZ信号的转换，而NRZ模块只需要使用传统的CDR芯片即可完成数据传输。&lt;/p&gt;
&lt;h2 id="50ge的应用及展望"&gt;50GE的应用及展望
&lt;/h2&gt;&lt;p&gt;50GE除了在数据中心的交换机以及服务器互联中大量采用，随着5G承载网建设的日益临近，其在承载网接入层中的应用也越来越多的得到运营商的关注。&lt;/p&gt;
&lt;p&gt;在运营商方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中国移动：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;李晗表示，在技术推动上，中国移动选择“两条腿走路”——既完善SPN的相关标准，推动其成熟，又发挥中国移动产业影响力，积极与光芯片、光器件、光模块等厂家合作，降低光层整体成本。SPN接入层采用50G PAM4 BiDi光模块，更好地满足带宽、同步等指标，需进一步推进产业成熟和降低成本。据悉，50GE光模块支持10km、100km DiBi方案，已有可商用产品，而50G较25G成本增加主要是PAM4电芯片，预计量产后50G PAM4较25G光模块贵10%-20%以内，预计单比特成本下降35%-45%。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中国电信：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;张成良指出，4G和5G相比，不仅是承载网络架构发生变化，对核心网、中传/回传、前传等都提出了更高的要求。核心网需要更高速的光模块（200G/400G）、更大的容量的光传输、更灵活的组网、更高效的光层调度。中传/回传需要更高速的光模块（50G/100G）、更大的网络带宽和更灵活的网络以及更好的性能。中国电信在STN招标里，要求STN-A2，STN-B设备“承诺支持50GE/25GE 接口”。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中国联通&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;中国联通网络技术研究院沈世奎表示：“中国联通在5G承载网的建设已有较为清晰的方向，务实为本，采用产业链中更加成熟的技术；成本为主，以综合成本和TCO最低为目标。25G光层产业链已经完善，基于PAM4技术和25G光收发器实现的50GE更具性价比优势。”&lt;/p&gt;
&lt;p&gt;50GE光模块的应用需要整个产业链的共同促进，其中运营商的需求是决定因素，据目前的信息，中国移动在推进50GE的应用最积极，其次是中国电信，以中国移动的需求量，或许能够加速整个产业链的发展。&lt;/p&gt;
&lt;p&gt;国内传统通信设备厂商华为、中兴、烽火也都宣称5G承载网设备支持50G接口。华为一直在牵头做技术推动，2018年联合上下游企业发布了《50G PAM4技术白皮书》。在2019年4月，华为宣称通过了中国移动研究院组织开展的50GE单纤双向新技术测试，其在技术交流资料中，更是介绍了采用FlexE技术将50GE平滑升级成100G的方案。&lt;/p&gt;
&lt;p&gt;50GE在5G回传接入层的应用，主要取决于接入层流量预测以及50GE光收发器的价格。&lt;/p&gt;
&lt;p&gt;据测算，目前4G基站单站平均流速大概0.08Gb/s，结合目前运营商的建设指导意见，一个接入环大概带4个BBU集中点，一个BBU集中点大约带10个左右的基站，若按5G基站平均流速是4G的10倍计算，则一个环的总流速大概为0.08×10×4×10=32Gb/s，这种情况下采用50GE是比较合适的，但考虑初期50GE成本问题，建设初期可采用10GE建设，随着流量增加进行10GE捆绑方式扩容（实际上，也可考虑采用前传采用的25GE速率）。假若50GE的价格能够达到10GE价格的2-3倍时（这一点在数通的报价体系内估计很难达到），或100GE的1/3以下时，采用50GE是一个优选的方案，可以达到TCO的最优。n×10GE捆绑方式，除了考虑光模块的价格，还要把维护量的增加、数据配置的复杂、对光纤的占用都纳入TCO的评估中。据相关资料，现有4G回传接入层有30%-44%采用的40km10G光模块，因此50GE 40km光模块的价格对其应用也是至关重要的。&lt;/p&gt;
&lt;p&gt;126.6GBaud实为26.5625GBaud，在使用PAM4调制时，采用前向纠错编码RS-FEC（544，514）以及线路编码256b257b将25G变为26.5625G，25G×（544÷514）×（257÷256）＝26.5625G。&lt;/p&gt;
&lt;p&gt;225.8GBaud实为25.78125GBaud，在使用NRZ调制时，1）采用线路编码64b66b，将25G变为26.5625G。25G×（66÷64）＝25.78125G；2）采用前向纠错编码RS-FEC（528，514）以及线路编码256b257b将25G变为25.78125G，25G×（528÷514）×（257÷256）＝25.78125G。&lt;/p&gt;</description></item><item><title>无源波分前传分场景解决方案</title><link>https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/</link><pubDate>Sat, 12 Oct 2019 13:15:13 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/</guid><description>&lt;p&gt;ITU-T G.694.2规范在1270~1610nm范围内，建议了波长间隔为20nm的18个可用波长，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/DWDM_bands.webp"
width="644"
height="381"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/DWDM_bands_hu_28170b3aaa1787e.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/DWDM_bands_hu_4a25cc7c4348340e.webp 1024w"
loading="lazy"
alt="波长间隔"
class="gallery-image"
data-flex-grow="169"
data-flex-basis="405px"
&gt;&lt;/p&gt;
&lt;p&gt;由于G.652 A/B光纤有水峰，一般都用1471~1611nm这8个波，对于G.652 C/D光纤，18个波均可使用。&lt;/p&gt;
&lt;p&gt;4G建设时期，前传主要采用光纤直驱方式，建设了大量接入主干和配线光缆。由于5G基站大量与4G共站，均有配线光缆接入，采用无源波分方式能最大化提高现有光缆的利用效能，为光缆网络增值，降低接入成本，是5G前传建设时需要重点考虑建设方式。&lt;/p&gt;
&lt;p&gt;目前用于5G前传的无源波分方案，主要有两种方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;6波25G方案
&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/6channel_cwdm.webp"
width="635"
height="216"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/6channel_cwdm_hu_1eac7a1d8ecdc4fc.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/6channel_cwdm_hu_d3a58e77b4bbbe84.webp 1024w"
loading="lazy"
alt="6波25G方案"
class="gallery-image"
data-flex-grow="293"
data-flex-basis="705px"
&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;12波方案（6波10G+6波25G）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/12channel_cwdm.webp"
width="728"
height="380"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/12channel_cwdm_hu_c2be703ac0e630af.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/12channel_cwdm_hu_88d8b9ac41a280c3.webp 1024w"
loading="lazy"
alt="12波方案"
class="gallery-image"
data-flex-grow="191"
data-flex-basis="459px"
&gt;&lt;/p&gt;
&lt;p&gt;近期的上海移动5G无源波分招标，包含12波25G的无源波分方案，据推测，可能是采用移动的OPEN-WDM彩光方案，25G彩光模块前6波采用比较成熟的1271nm，1291nm，1311nm，1331nm，1351nm，1371nm，后6波选用目前较少采用的1471nm，1491nm，1511nm，1531nm，1551nm，1571nm这6个波长，后期需跟踪用于室外的12波25G彩光模块的整体成熟度和成本是否能降下来。&lt;/p&gt;
&lt;p&gt;在目前的5G前传建设中，也有采用25G单纤双向光模块，这种方式可以看作是一种光模块集成的CWDM方式，对于减轻主干、配线光缆的压力，起了很大的作用，在纤芯不紧张时，可以采用该方式。目前共享5G的前传接口需求尚不明确，若采用2×25G接口方案时，对光缆网纤芯的需求将是2倍的需求。&lt;/p&gt;
&lt;p&gt;针对不同的5G前传接入场景，6波和12波有不同的组合方案。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景1&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;新建5G站址，配线光缆新建，接入主干利旧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源6波合分波器×2+25G彩光模块×6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario1.webp"
width="730"
height="283"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario1_hu_4ec819fdbb2c1fd1.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario1_hu_733365c90d7359d3.webp 1024w"
loading="lazy"
alt="场景1"
class="gallery-image"
data-flex-grow="257"
data-flex-basis="619px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景2&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;5G与4G共站址，有少量纤芯，4G前传方式不变，5G采用无源波分&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源6波合分波器×2+25G彩光模块×6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario2.webp"
width="1163"
height="441"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario2_hu_755ae6e485dc7c02.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario2_hu_5817772904b08928.webp 1024w"
loading="lazy"
alt="场景2"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="632px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景3&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;5G与4G共站址，有少量纤芯，4G前传采用无源波分，5G采裸光纤&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源6波合分波器×2+10G彩光模块×6（比场景2成本低一些，但需割接4G基站）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/scenario3"
loading="lazy"
alt="场景3"
&gt;3.webp)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景4&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;5G与4G共站址，无纤芯，4G、5G前传采用无源波分，腾退纤芯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源6波合分波器×4+10G彩光模块×6+25G彩光模块×6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario4.webp"
width="1163"
height="441"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario4_hu_abc6da58c1bb05f1.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario4_hu_93f8ab8a1b57b6a4.webp 1024w"
loading="lazy"
alt="场景4"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="632px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景5&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;5G与4G共站址，无纤芯，4G、5G前传采用无源波分，腾退纤芯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源12波合分波器×2+10G彩光模块×6+25G彩光模块×6&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario5.webp"
width="1163"
height="441"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario5_hu_71e132c9f426b9c5.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario5_hu_f69c97395513119c.webp 1024w"
loading="lazy"
alt="场景5"
class="gallery-image"
data-flex-grow="263"
data-flex-basis="632px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;场景6&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;联通电信共享5G，与4G共址，少量纤芯，5G前传采用无源波分&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置：无源6波合分波器×4+25G彩光模块×12&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;b&gt;假设每个AAU需要2个25G接口&lt;/b&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario6.webp"
width="1163"
height="395"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario6_hu_df0bbef6f0b2bece.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/scenario6_hu_eef47a142fe6a3cf.webp 1024w"
loading="lazy"
alt="场景6"
class="gallery-image"
data-flex-grow="294"
data-flex-basis="706px"
&gt;&lt;/p&gt;
&lt;p&gt;还有其他组合方式，就不一一列举了。总之，采用无源波分，主要目的就是腾退已占用纤芯和减少纤芯占用，对于4G前传RRU采用级联的情况，采用无源波分主要是减少5G前传纤芯占用。&lt;/p&gt;
&lt;p&gt;根据上海移动5G无源波分的招标公告以及中标公示，6波25G无源波分限价4000元/套（不含税），平均中标折扣率为70.18%，12波25G无源波分限价10600元/套（不含税），平均中标折扣率为79%。&lt;/p&gt;
&lt;p&gt;上海移动招标的是10公里光模块，最大线路损耗为11dB，也就是在11dB这个范围内，采用无源波分的成本是固定的，而新建光缆或使用光纤的成本和距离成正比关系，有一个成本交叉的临界点，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/linjiedian.webp"
width="327"
height="214"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/linjiedian_hu_4d0d317349b61d58.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/linjiedian_hu_fb366ef6224960d6.webp 1024w"
loading="lazy"
alt="成本变化"
class="gallery-image"
data-flex-grow="152"
data-flex-basis="366px"
&gt;&lt;/p&gt;
&lt;p&gt;各本地网可以根据自己的情况进行测算，测算时应同时考虑主干与配线的综合成本，确定无源波分应用的最佳场景。&lt;/p&gt;
&lt;p&gt;有关材料显示近三年各运营商无源波分招标规模如下：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/tongji.webp"
width="555"
height="286"
srcset="https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/tongji_hu_66861a1ccc17955f.webp 480w, https://blog.fallleaf.net/p/tech-passive-wdm-front-haul-scene-solution/tongji_hu_b193d2880aa3d1.webp 1024w"
loading="lazy"
alt="招标规模"
class="gallery-image"
data-flex-grow="194"
data-flex-basis="465px"
&gt;&lt;/p&gt;
&lt;p&gt;在现有的采购模式下，5G基站设备的采购和无源波分的采购是两个独立的项目，但都含有前传光模块的采购内容。如果前传采用无源波分方案，那么5G基站设备采购的光模块就重复了，带来资金的浪费，建议统一由一个项目来采购前传的光模块及CWDM合分波模块，降低整体的5G建设成本。&lt;/p&gt;</description></item><item><title>V2ray的WebSocket+TLS+Web安装记录</title><link>https://blog.fallleaf.net/p/tech-v2ray-websocket-tls-web-installation/</link><pubDate>Sat, 28 Sep 2019 15:41:27 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-v2ray-websocket-tls-web-installation/</guid><description>&lt;p&gt;一些vpn或代理的特征比较明显容易被识别，虽然是加密的，看不到内容，但知道是vpn，容易被block，采用websoket+tls+web，虽然也是加密的，但和正常web访问类似，不易被block。&lt;/p&gt;
&lt;p&gt;整个过程比较简单，前提是要有一个墙外的VPS。&lt;/p&gt;
&lt;h2 id="1-vps安装v2ray服务端"&gt;1. vps安装v2ray（服务端）
&lt;/h2&gt;&lt;p&gt;root权限下执行：&lt;/p&gt;
&lt;p&gt;bash &amp;lt;(curl -L -s &lt;a class="link" href="https://install.direct/go.sh" target="_blank" rel="noopener"
&gt;https://install.direct/go.sh&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id="2-修改服务器端配置"&gt;2. 修改服务器端配置
&lt;/h2&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;inbounds&amp;#34;: [{
&amp;#34;port&amp;#34;: xxxxx, //端口
&amp;#34;Listen&amp;#34;: &amp;#34;127.0.0.1&amp;#34;, //本机环回地址，防止外部访问
&amp;#34;protocol&amp;#34;: &amp;#34;vmess&amp;#34;,
&amp;#34;settings&amp;#34;: {
&amp;#34;clients&amp;#34;: [
{
&amp;#34;id&amp;#34;: &amp;#34;xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&amp;#34;, //uuid，客户端一致
&amp;#34;level&amp;#34;: 1,
&amp;#34;alterId&amp;#34;: 64
}
]
},
&amp;#34;streamSettings&amp;#34;: {
&amp;#34;network&amp;#34;: &amp;#34;ws&amp;#34;,
&amp;#34;wsSettings&amp;#34;: {
&amp;#34;path&amp;#34;: &amp;#34;/ray&amp;#34;
}
}
}],
&amp;#34;outbounds&amp;#34;: [{
&amp;#34;protocol&amp;#34;: &amp;#34;freedom&amp;#34;,
&amp;#34;settings&amp;#34;: {}
},{
&amp;#34;protocol&amp;#34;: &amp;#34;blackhole&amp;#34;,
&amp;#34;settings&amp;#34;: {},
&amp;#34;tag&amp;#34;: &amp;#34;blocked&amp;#34;
}],
&amp;#34;routing&amp;#34;: {
&amp;#34;rules&amp;#34;: [
{
&amp;#34;type&amp;#34;: &amp;#34;field&amp;#34;,
&amp;#34;ip&amp;#34;: [&amp;#34;geoip:private&amp;#34;],
&amp;#34;outboundTag&amp;#34;: &amp;#34;blocked&amp;#34;
}
]
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="3-安装caddy"&gt;3. 安装caddy
&lt;/h2&gt;&lt;p&gt;wget -N &amp;ndash;no-check-certificate &lt;a class="link" href="https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh" target="_blank" rel="noopener"
&gt;https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/caddy_install.sh&lt;/a&gt; &amp;amp;&amp;amp; chmod +x caddy_install.sh &amp;amp;&amp;amp; bash caddy_install.sh install&lt;/p&gt;
&lt;h2 id="4-修改caddy配置"&gt;4. 修改caddy配置
&lt;/h2&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;xxx.xxx.xxx //域名
{
tls xxx@xxx.com //修改为邮箱
log /var/log/caddy.log
proxy /ray localhost:xxxx { //和v2ray的端口好对应
websocket
header_upstream -Origin
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="5-重启动服务端"&gt;5. 重启动服务端
&lt;/h2&gt;&lt;p&gt;service caddy restart
service v2ray restart&lt;/p&gt;
&lt;h2 id="6-客户端安装v2ray"&gt;6. 客户端安装v2ray
&lt;/h2&gt;&lt;p&gt;见网络教程&lt;/p&gt;
&lt;h2 id="7-修改v2ray客户端配置"&gt;7. 修改v2ray客户端配置
&lt;/h2&gt;&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;inbounds&amp;#34;: [
{
&amp;#34;port&amp;#34;: 1080,
&amp;#34;listen&amp;#34;: &amp;#34;127.0.0.1&amp;#34;,
&amp;#34;protocol&amp;#34;: &amp;#34;socks&amp;#34;,
&amp;#34;sniffing&amp;#34;: {
&amp;#34;enabled&amp;#34;: true,
&amp;#34;destOverride&amp;#34;: [&amp;#34;http&amp;#34;, &amp;#34;tls&amp;#34;]
},
&amp;#34;settings&amp;#34;: {
&amp;#34;auth&amp;#34;: &amp;#34;noauth&amp;#34;,
&amp;#34;udp&amp;#34;: false
}
}
],
&amp;#34;outbounds&amp;#34;: [
{
&amp;#34;protocol&amp;#34;: &amp;#34;vmess&amp;#34;,
&amp;#34;settings&amp;#34;: {
&amp;#34;vnext&amp;#34;: [
{
&amp;#34;address&amp;#34;: &amp;#34;xxx.xxx.xxx&amp;#34;, //v2ray服务器域名
&amp;#34;port&amp;#34;: 443,
&amp;#34;users&amp;#34;: [
{
&amp;#34;id&amp;#34;: &amp;#34;xxxxxxxxx-xxxx-xxxx-xxxxxxxx&amp;#34;,//和服务器uuid一致
&amp;#34;alterId&amp;#34;: 64
}
]
}
]
},
&amp;#34;streamSettings&amp;#34;: {
&amp;#34;network&amp;#34;: &amp;#34;ws&amp;#34;,
&amp;#34;security&amp;#34;: &amp;#34;tls&amp;#34;,
&amp;#34;wsSettings&amp;#34;: {
&amp;#34;path&amp;#34;: &amp;#34;/ray&amp;#34;
}
}
}
]
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="8-上网"&gt;8. 上网
&lt;/h2&gt;&lt;p&gt;启动客户端v2ray，上网设置为socks，地址127.0.0.1，端口1080&lt;/p&gt;</description></item><item><title>Wireguard的分流方法</title><link>https://blog.fallleaf.net/p/tech-wireguard-split-tunneling/</link><pubDate>Sat, 07 Sep 2019 15:45:22 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-wireguard-split-tunneling/</guid><description>&lt;p&gt;Wireguard开启后，由于默认采用的全局路由，所有流量都通过Wireguard隧道，造成不必要的流量浪费，有必要进行流量分流。&lt;/p&gt;
&lt;p&gt;分流的一种方法主要利用路由方式，让特定的IP包转发到Wireguard隧道中，可参见这篇：WireGuard —— Windows 客户端国内外IP分流教程。这种方式是将国内地址段以路由方式不走隧道，但需要不时维护国内地址段，同时一些常规状态下能访问的国外IP地址也走了隧道。&lt;/p&gt;
&lt;p&gt;用Wireguard，主要就是要科学上网，不能直接访问的毕竟是少数，因此就有了另外一种方式，见这一篇：wireguard+ss/v2ray/brook等实现域名分流。方法是先利用Wireguard建立隧道，再开启Brook等服务，然后利用Wireguard的AllowIPs功能，限定Brook通过隧道建立连接，利用SwitchOmega等代理插件的PAC列表，实现域名分流。&lt;/p&gt;
&lt;p&gt;在Win10和Linuxmint设置了一下，效果不错。手机上因为Wireguard可以设置某些App通过Wireguard，也就不用考虑了。&lt;/p&gt;</description></item><item><title>25G单纤双向收发合一光模块</title><link>https://blog.fallleaf.net/p/tech-25g-bidi-module/</link><pubDate>Sat, 03 Aug 2019 13:34:59 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-25g-bidi-module/</guid><description>&lt;p&gt;5G采用100M通道，64T64R天线时，若采用CPRI接口，带宽将达到393.216Gb/s，即便采用CPRI压缩算法，也会达到100Gb/s，而eCPRI只需25Gb/s的带宽，综合技术、成本等考虑，5G前传将采用25G速率。&lt;/p&gt;
&lt;p&gt;2016年5月IEEE通过了802.3by-2016规范，定义了25Gb/s应用媒质接入控制参数、物理层要求，2017年12月通过了802.3cc-2017标准以太网修正：物理层和管理参数，用于通过单模光纤实现串行25 Gbps以太网，2018年10月通过PAR，开展制定10Gb/s，25Gb/s，50Gb/s单纤双向物理层规范，项目号为P802.3cp。中国于2018年6月开始制定用于基站的25Gb/s单纤双向光收发合一模块技术规范，2018年11月发出征求意见稿，预计2019年完成标准制定工作。&lt;/p&gt;
&lt;p&gt;单纤双向方式可以节省50%的纤芯资源，大大节省了光缆线路的投资，同时由于上下行等距可有效保证高精度时间同步，因此，是5G前传的一种主要模式。&lt;/p&gt;
&lt;p&gt;下图是optech发布的一款25G单纤双向光模块，采用SFP28封装方式：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-25g-bidi-module/25g-bidi-txrx.webp"
width="747"
height="440"
srcset="https://blog.fallleaf.net/p/tech-25g-bidi-module/25g-bidi-txrx_hu_a6f1cbd30437b995.webp 480w, https://blog.fallleaf.net/p/tech-25g-bidi-module/25g-bidi-txrx_hu_eac0f67620db50ab.webp 1024w"
loading="lazy"
alt="光模块"
class="gallery-image"
data-flex-grow="169"
data-flex-basis="407px"
&gt;&lt;/p&gt;
&lt;p&gt;下图是25G单纤双向光模块的原理图：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-25g-bidi-module/Block_Diagram_of_Transceiver.webp"
width="943"
height="365"
srcset="https://blog.fallleaf.net/p/tech-25g-bidi-module/Block_Diagram_of_Transceiver_hu_4e153485a631ccbc.webp 480w, https://blog.fallleaf.net/p/tech-25g-bidi-module/Block_Diagram_of_Transceiver_hu_7d33a44214ee0c35.webp 1024w"
loading="lazy"
alt="原理框图"
class="gallery-image"
data-flex-grow="258"
data-flex-basis="620px"
&gt;&lt;/p&gt;
&lt;p&gt;25Gbit/s单纤双向光模块采用的波长业界有1270nm/1310nm和1270nm/1330nm两种方案，征求意见稿中初步确定采用1270nm/1330nm方案。&lt;/p&gt;
&lt;p&gt;25Gbit/s单纤双向光模块最高速率为25.78Gb/s，按传输距离分类可分为两种:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;中距:建议用于10km以内的场景&lt;/li&gt;
&lt;li&gt;长距:建议用于15km以内的场景&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;25Gbit/s单纤双向光模块光口参数分AAU侧和DU侧：&lt;/p&gt;
&lt;p&gt;AAU侧光口参数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光模块拉环为海蓝色&lt;/li&gt;
&lt;li&gt;发送端中心波长：1260nm~1280nm&lt;/li&gt;
&lt;li&gt;接收端接收波长：1320nm~1340nm&lt;/li&gt;
&lt;li&gt;平均发送光功率：10公里，-2.0 ~ +4.0dBm；15公里，0 ~ +6dBm&lt;/li&gt;
&lt;li&gt;发送和色散代价(TDP)：≤2.7dBm&lt;/li&gt;
&lt;li&gt;最大接受灵敏度：10公里，≤-13dBm；15公里，≤-14.5dBm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DU侧光口参数&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;光模块拉环为中黄色&lt;/li&gt;
&lt;li&gt;发送端中心波长：1320nm~1340nm&lt;/li&gt;
&lt;li&gt;接收端接收波长：1260nm~1280nm&lt;/li&gt;
&lt;li&gt;平均发送光功率：10公里，-2.0 ~ +4.0dBm；15公里，0 ~ +6dBm&lt;/li&gt;
&lt;li&gt;发送和色散代价(TDP)：≤2.7dBm&lt;/li&gt;
&lt;li&gt;最大接受灵敏度：10公里，≤-13dBm；15公里，≤-14dBm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;信道功率预算和代价&lt;/p&gt;
&lt;p&gt;为了保证25G单纤双向光模块在现网中的应用,各项指标值需要保证功率预算需求,保证足够的冗余量。链路光功率预算需要考虑传输(光纤含熔接)损耗,活动连接头损耗和维护冗余等因素,光功率预算的公式如下:&lt;/p&gt;
$$ P_o−S_i-E≥T+I+M $$&lt;p&gt;式中:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
$$P_o — 最小发送光功率;$$&lt;/li&gt;
&lt;li&gt;
$$S_i—— 最大接收灵敏度;$$&lt;/li&gt;
&lt;li&gt;
$$E—— 发送和色散的代价;$$&lt;/li&gt;
&lt;li&gt;
$$T—— 传输(光纤含熔接)损耗,1310nm 波段光纤每公里损耗按 0.4dB 计算;$$&lt;/li&gt;
&lt;li&gt;
$$I—— 活动连接头损耗,每个按 0.5dB 计算;$$&lt;/li&gt;
&lt;li&gt;
$$M—— 维护冗余,工程中维护冗余按 3dB 计算。$$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;按平均发光功率的统计数据计算，得出：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;10km模块最大线路衰减：&lt;/li&gt;
&lt;/ul&gt;
$$P_o−S_i−E=4.0−2.7−(−13)=14.4dB$$&lt;ul&gt;
&lt;li&gt;15km模块最大线路衰减：&lt;/li&gt;
&lt;/ul&gt;
$$P_o−S_i−E=6.0−2.7−(−13)=17.4dB$$&lt;p&gt;即当光缆线路端到端衰减大于14.4dB时，应选用15km单纤双向光模块。&lt;/p&gt;</description></item><item><title>斜线图（Slopegraph）：一种用于比较变化结构的可视化方法</title><link>https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/</link><pubDate>Sun, 21 Jul 2019 00:00:00 +0000</pubDate><guid>https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/</guid><description>&lt;h2 id="什么是斜线图"&gt;什么是斜线图
&lt;/h2&gt;&lt;p&gt;斜线图（Slopegraph）是一种用于展示同一组观测对象在两个固定状态之间变化关系的数据可视化形式。
这两个状态可以是不同时间（如今年与去年、事件前后），也可以是不同维度（如总体与子群体），其度量可以是排名、比例或数值。&lt;/p&gt;
&lt;p&gt;从表现形式上看，斜线图属于折线图的一个特例，但其设计目标并不是描绘连续变化过程，而是强调两个状态之间的相对变化结构。因此，无论是 Excel、Tableau 还是 R，只要支持折线图的工具都可以绘制斜线图。&lt;/p&gt;
&lt;p&gt;Edward Tufte 在 1983 年出版的《The Visual Display of Quantitative Information》中首次系统性讨论了这种表达方式，并在 2011 年 6 月 1 日的论坛中正式将其命名为 slopegraph。早期应用并不广泛，但随着数据新闻和分析型可视化的发展，斜线图近年来逐渐成为常用工具。&lt;/p&gt;
&lt;p&gt;下面是几个典型的斜线图示例。
&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_boycott.webp"
width="1080"
height="965"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_boycott_hu_a3e4ab5f789f691d.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_boycott_hu_59b7c3e89008846a.webp 1024w"
loading="lazy"
alt="FT图例"
class="gallery-image"
data-flex-grow="111"
data-flex-basis="268px"
&gt;&lt;/p&gt;
&lt;p&gt;这是《Financial Times》绘制的一个斜线图，用于展示中国消费者对美国品牌商品抵制态度的变化情况。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_time.webp"
width="404"
height="634"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_time_hu_20e05bf5a266a1df.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_time_hu_264cc8b81c03f11f.webp 1024w"
loading="lazy"
alt="网易图例"
class="gallery-image"
data-flex-grow="63"
data-flex-basis="152px"
&gt;&lt;/p&gt;
&lt;p&gt;这张图来自网易，X 轴为 1990 年和 2017 年两个时间点，Y 轴为慢性病伤残调整寿命年（DALY）的排名。通过斜线的交叉和排序变化，可以直观看出哪些慢性病在这 27 年间上升为主要死因，以及不同病种之间地位的变化。这种跨时间跨度较大的对比，正是斜线图&lt;strong&gt;最典型&lt;/strong&gt;的应用场景。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_group.webp"
width="376"
height="443"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_group_hu_dd48f3d75baea9b2.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph_group_hu_64d89214951880a0.webp 1024w"
loading="lazy"
alt="Employee Feedback"
class="gallery-image"
data-flex-grow="84"
data-flex-basis="203px"
&gt;&lt;/p&gt;
&lt;p&gt;该图引自 storytellingwithdata 网站的文章 More on slopegraphs。X 轴表示两个分组（Company 与 Team X），Y 轴表示调查指标得分。斜线图在这里用于展示同一指标在&lt;strong&gt;总体与子群体&lt;/strong&gt;中的相对位置与变化情况。&lt;/p&gt;
&lt;h2 id="什么时候用斜线图"&gt;什么时候用斜线图
&lt;/h2&gt;&lt;p&gt;Edward Tufte 在 6 月 1 日的帖子中对斜线图的用途做了高度概括：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“Slopegraphs compare changes over time for a list of nouns located on an ordinal or interval scale.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;即：斜线图用于比较&lt;strong&gt;一组可排序或可度量对象在不同状态之间的变化&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;因此，在原本会使用柱状图或折线图进行“两点对比”的场景中，斜线图往往是更高效的表达方式。例如，以下是用柱状图表示四家公司 2018 年和 2019 年收入的情况。
柱状图表示：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar1-1.webp"
width="960"
height="960"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar1-1_hu_4220d2c8b959ef73.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar1-1_hu_d7f2463eaa4adb43.webp 1024w"
loading="lazy"
alt="柱状图示例"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
&gt;&lt;/p&gt;
&lt;p&gt;或者：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar2-1.webp"
width="960"
height="960"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar2-1_hu_39414b2dd2fbf857.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/bar2-1_hu_8fb406bedf84b6d0.webp 1024w"
loading="lazy"
alt="另一种柱状图示例"
class="gallery-image"
data-flex-grow="100"
data-flex-basis="240px"
&gt;&lt;/p&gt;
&lt;p&gt;用斜线图表示，如下&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph-1.webp"
width="1344"
height="960"
srcset="https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph-1_hu_2412b24114d9707.webp 480w, https://blog.fallleaf.net/p/tech-slopegraph-comparing-change-structure/slopegraph-1_hu_fb2506ae2fd5ba04.webp 1024w"
loading="lazy"
alt="斜线图示例"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="336px"
&gt;&lt;/p&gt;
&lt;p&gt;对比这三种表达方式可以发现：
柱状图只能呈现绝对数值，而斜线图能够在同一视图中同时表达收入水平、排名以及变化幅度。读者不需要额外计算或比较，就可以理解企业之间的相对变化。&lt;/p&gt;
&lt;p&gt;柱状图与斜线图在设计上的一个关键差异在于：柱状图的 Y 轴必须从 0 开始，否则会夸大差异；而斜线图的 Y 轴并不要求从 0 开始，因此更适合用来比较排名变化或相对变化结构，而不是绝对规模。&lt;/p&gt;
&lt;h2 id="怎么用r语言作斜线图"&gt;怎么用R语言作斜线图
&lt;/h2&gt;&lt;p&gt;由于斜线图就是折线图的一种变形，所以，只要能够制作折线图的软件都能制作斜线图，这里介绍一下在R语言环境下制作斜线图的方法。&lt;/p&gt;
&lt;p&gt;GitHub有一个R语言库项目：CGPfunctions，提供了制作斜线图的函数newggslopegraph()。上面的斜线图就是用这个函数做出来的。&lt;/p&gt;
&lt;p&gt;库文件的安装详见网页说明，最新版本是0.5.8，包含了新增加的一些函数参数，这里只把这个函数的参数用中文解释一下。&lt;/p&gt;
&lt;p&gt;用法：&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;newggslopegraph(
dataframe, Times, Measurement, Grouping,
Title = &amp;#34;No title given&amp;#34;, SubTitle = &amp;#34;No subtitle given&amp;#34;,
Caption = &amp;#34;No caption given&amp;#34;, XTextSize = 12, YTextSize = 3,
TitleTextSize = 14, SubTitleTextSize = 10, CaptionTextSize = 8,
TitleJustify = &amp;#34;left&amp;#34;, SubTitleJustify = &amp;#34;left&amp;#34;,
CaptionJustify = &amp;#34;right&amp;#34;, LineThickness = 1, LineColor = &amp;#34;ByGroup&amp;#34;,
DataTextSize = 2.5, DataTextColor = &amp;#34;black&amp;#34;,
DataLabelPadding = 0.05, DataLabelLineSize = 0,
DataLabelFillColor = &amp;#34;white&amp;#34;, WiderLabels = FALSE,
ReverseYAxis = FALSE, ReverseXAxis = FALSE, RemoveMissing = TRUE,
ThemeChoice = &amp;#34;bw&amp;#34;
)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;dataframe：一个数据框类型的数据组，tidy data格式。会检查一些基本的错误，如检查是否存在列名称。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Times：数据框中的一列数据名，表示X轴上不同分组，比如时间或类别，可以是一个有序的class，因子或字符。注意，如果这列数据是日期类型，则需用as.character()转换成字符类型。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Measurement： 数据框中的一列数据名，表示Y轴上不同的数值。一般为百分比、名次等，也可为数值，可接受的类型为整数或数值。如果数值不那么离散或集中，斜线图的表达会更完美。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Grouping：分组名，数据框中的一列数据，表示不同的分组&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如上面例子中用的数据框为：&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;data
## company year income
## 1 CompanyA 2018年 232
## 2 CompanyA 2019年 261
## 3 CompanyB 2018年 111
## 4 CompanyB 2019年 425
## 5 CompanyC 2018年 266
## 6 CompanyC 2019年 217
## 7 CompanyD 2018年 431
## 8 CompanyD 2019年 329
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这是一个带列名称的数据框data，第一列就是Grouping，表明每个斜线的类别，第二列是Times，表明X轴上的两个时间点，第三列是“Measurement”，表明每列别对应X轴在Y轴上的位置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Title：标题，可选，当Title = NULL时，没有标题，当Title = “”时，一个空标题，但在图形中占据位置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SubTitle：副标题，可选，当SubTitle = NULL时，没有标题，当SubTitle = “”时，一个空标题，但在图形中占据位置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Caption：说明文字，可选，当Caption = NULL时，没有标题，当Caption = “”时，一个空标题，但在图形中占据位置。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;XTextSize：X轴分组的文字大小，可选，缺省大小为12，和Y轴的分组文字大小有不同比例。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;YTextSize：Y轴分组的文字大小，可选，缺省大小为3，和X轴的分组文字大小有不同比例。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TitleTextSize：标题文字大小，可选，缺省大小为14。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SubTitleTextSize：副标题文字大小，可选，缺省大小为10。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CaptionTextSize：说明文字大小， 可选，缺省大小为8。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;TitleJustify：标题位置，为“L”, “R” or “C” or use the hjust = notation from ggplot2 with a numeric value between ‘0’ (left) and ‘1’ (right)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SubTitleJustify：副标题位置，为“L”, “R” or “C” or use the hjust = notation from ggplot2 with a numeric value between ‘0’ (left) and ‘1’ (right)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CaptionJustify：说明文字位置，为“L”, “R” or “C” or use the hjust = notation from ggplot2 with a numeric value between ‘0’ (left) and ‘1’ (right)。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LineThickness：斜线线宽，可选，缺省值为1。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LineColor：斜线颜色。可以用一个向量给每个分组设置颜色，向量的长度应和分组的分类数相等，如果不足，则循环设置，如c(“gray”, “red”, “green”, “gray”)或者时带分组名称的向量 c(“CompanyA” = “gray”, “CompanyB” = “red”, “CompanyC” = “green”, “CompanyD” = “gray”)，利用这一特性，可以绘制出不同颜色的斜线。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataTextSize：Y轴数值字符大小，可选，缺省值为2.5。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataTextColor：Y轴数值颜色，可选，缺省为黑色“black”，可以是“colors()”中颜色或16进制数“#FF00FF”。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataLabelPadding：Y轴数值和外框的间距，缺省值为0.05。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataLabelLineSize：Y轴数值外框的线宽，缺省值为0，即没有框。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataLabelFillColor：Y轴数值框内的颜色，缺省值为“white”，可以是“colors()”中颜色或16进制数“#FF00FF”。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;WiderLabels：logical, set this value to TRUE if your “labels” or Grouping variable values tend to be long as they are in the newcancer dataset. This setting will give them more room in the same plot size.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ReverseYAxis：反转Y轴，逻辑值，如果想改变Y轴的排序方式，可设置为TRUE，可以把第一名调整在顶层。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ReverseXAxis：反转X轴，逻辑值，想改变factor levels时，可设置为TRUE。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RemoveMissing：逻辑值，如果设置为TRUE，如果缺少一些数值，则响应的分组也会移除不显示。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ThemeChoice：主题选择，缺省主题为“bw”,其他的是“ipsum”, “econ”, “wsj”, “gdocs”, and “tufte”。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面展示一个完整的函数参数以及创建的图形，注意，X轴和Y轴均倒置了。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;newggslopegraph(
data, year, income, company,
Title = &amp;#34;This is Title&amp;#34;, SubTitle = &amp;#34;This is subTitle&amp;#34;,
Caption = &amp;#34;This is Caption\nSecond line&amp;#34;, XTextSize = 14, YTextSize = 4,
TitleTextSize = 14, SubTitleTextSize = 12, CaptionTextSize = 10,
TitleJustify = &amp;#34;L&amp;#34;, SubTitleJustify = &amp;#34;R&amp;#34;,
CaptionJustify = &amp;#34;C&amp;#34;, LineThickness = 2,
LineColor = c(&amp;#34;CompanyD&amp;#34; = &amp;#34;seagreen&amp;#34;,&amp;#34;CompanyA&amp;#34; = &amp;#34;green&amp;#34;,
&amp;#34;CompanyB&amp;#34; = &amp;#34;tomato&amp;#34;,&amp;#34;CompanyC&amp;#34; = &amp;#34;orange&amp;#34;),
DataTextSize = 4, DataTextColor = &amp;#34;red&amp;#34;,
DataLabelPadding = 0.2, DataLabelLineSize = 0.5,
DataLabelFillColor = &amp;#34;gray&amp;#34;, WiderLabels = FALSE,
ReverseYAxis = TRUE, ReverseXAxis = TRUE, RemoveMissing = TRUE,
ThemeChoice = &amp;#34;tufte&amp;#34;
)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img src="https://blog.fallleaf.net/demo-1.png"
loading="lazy"
alt="斜线图"
&gt;&lt;/p&gt;
&lt;p&gt;一般而言，斜线图最适合用于比较两个时间点或两个分组的数据，也可以扩展到三至四个时间点，但不宜过多，否则应改用传统折线图。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/chinaunicom-1.png"
loading="lazy"
alt="中国联通"
&gt;&lt;/p&gt;
&lt;p&gt;中国联通2018年四季度，2019年一、二季度业务数据的斜线图。&lt;/p&gt;</description></item><item><title>色子肖像--Python程序</title><link>https://blog.fallleaf.net/p/tech-dice-portrait-python/</link><pubDate>Thu, 28 Dec 2017 15:49:14 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-dice-portrait-python/</guid><description>&lt;p&gt;上一篇色子肖像介绍了把图像变成色子点阵图的基本思路，用python语言采用PIL库写了一个程序，后来发现opencv更加简便合适，就采用numpy以及opencv库，进行了优化。
这是我第一次开始用python语言编写稍微复杂些的程序。对于有一定编程经验的人，采用实现一个功能的方式编程能够很快熟悉该语言，是一种很好的学习方式。&lt;/p&gt;
&lt;p&gt;以下是我编写的程序以及简单的注释。&lt;/p&gt;
&lt;p&gt;由于要对图像进行数值处理，所以采用opencv以及numpy库。首先是加载库，datetime是用于计算程序运行时间，os是用于获得文件路径，sys是用于获得命令行参数，cv2是opencv库，numpy是python的数组库。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;import datetime
import os
import sys
import cv2
import numpy as np
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;保证程序本身直接执行，而不是被调用，如果直接执行，则调用main()函数。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;if __name__ == &amp;#34;__main__&amp;#34;:
main()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;一个python文件就可以看作是一个python的模块，这个python模块（.py文件）有两种使用方式：直接运行使用和作为模块被其他模块调用。 每一个模块都有一个内置属性__name__。而__name__的值取决与python模块（.py文件）的使用方式。如果是直接运行使用，那么这个模块的__name__值就是“main”；如果是作为模块被其他模块调用，那么这个模块（.py文件）的__name__值就是该模块（.py文件）的文件名且不带路径和文件扩展名，如果dice_portrait_cv.py被其他python程序import dice_portrait_cv，则__name__为dice_portrait_cv。 main()函数，主要功能流程的执行，分别是：&lt;/p&gt;
&lt;p&gt;1.初始化文件路径&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;def main():
start_time = datetime.datetime.now() #设置程序运行开始时间
#初始化文件路径
EXEC_PATH = os.getcwd()
DICEPATH = EXEC_PATH + &amp;#39;\\dice_image\\&amp;#39;
OUTPUTPATH = EXEC_PATH + &amp;#39;\\output\\&amp;#39;
if not (os.path.exists(OUTPUTPATH)):
os.mkdir(OUTPUTPATH)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.获得命令行参数，调用自定义函数getvalue()，返回输入图片文件名，色子列数，是否旋转&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; imagefile, DICE_WIDTH, ROTATE = getvalue()
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3.读取要渲染的图片及色子图片&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; im = cv2.imread(imagefile, 0)
dice = getDice(DICEPATH)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;4.调用自定义函数，调整图片大小，返回图片数组&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; im = AjustImage(DICE_WIDTH, im)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;5.定义灰色度数值对应色子1-6点的分组，用了list，也可以用numpy的数组&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; p = [60, 80, 110, 150, 190, 220]
#使用numpy数组
p = np.array([60, 80, 110, 150, 190, 220])
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;6.对图像进行16x16图块分割，并计算灰度，对应色子1-6，并将图片转换成色子点阵图，调用自定义函数，获得处理后的图像以及色子点数文件。&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; im, dice_data = calculateDice(im, imagefile, p, dice, ROTATE)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;7.保存图片及色子点数文件&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; write_Dice(im, OUTPUTPATH, imagefile, dice_data)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;8.打印运行时间以及色子图片，按任意键退出&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; end_time = datetime.datetime.now()
print(&amp;#39;程序运行时间:&amp;#39;, end_time - start_time,&amp;#39;秒&amp;#39;)
cv2.imshow(imagefile, im)
cv2.waitKey(0)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;下面是自定义函数。 1.获得命令行变量，返回变量：imagefile（输入文件名）, DICE_WIDTH（色子列数）, ROTATE（色子2，3，6是否旋转） def getvalue():&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt; if (len(sys.argv) &amp;lt; 2 or len(sys.argv) &amp;gt; 4):
print(&amp;#34;Error, invalid arguments!&amp;#34;)
print(&amp;#34;Call with &amp;#34; + sys.argv[0] + &amp;#34; inputimage [tile-size] &amp;#34;)
sys.exit(1)
ROTATE = False
DICE_WIDTH = 50
if len(sys.argv) == 2:
imagefile = sys.argv[1]
elif len(sys.argv) == 3:
imagefile = sys.argv[1]
DICE_WIDTH = int(sys.argv[2])
if (DICE_WIDTH &amp;gt; 150 or DICE_WIDTH &amp;lt; 30):
print(&amp;#34;色子列数不正确，应在30-150之间&amp;#34;)
sys.exit(1)
else:
imagefile = sys.argv[1]
DICE_WIDTH = int(sys.argv[2])
if (DICE_WIDTH &amp;gt; 150 or DICE_WIDTH &amp;lt; 30):
print(&amp;#34;Dice quality not avialiabe. It betweet 30 and 150&amp;#34;)
sys.exit(1)
if (sys.argv[3] == &amp;#39;0&amp;#39; or sys.argv[3] == &amp;#39;1&amp;#39;):
ROTATE = bool(int(sys.argv[3]))
else:
print(&amp;#34;1:色子旋转, 0:色子不旋转&amp;#34;)
sys.exit(1)
return imagefile, DICE_WIDTH, ROTATE
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;2.调整图片，图片宽度为色子列数*16，返回调整后的图像数组，自定义函数输入变量为DICE_WIDTH（色子列数），image（输入的图像数组）&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;def AjustImage(DICE_WIDTH, image): # 调整图片
hight, width = image.shape[:2]
ratio = DICE_WIDTH * 16 / width
width = int(width * ratio)
hight = int(hight * ratio)
image = cv2.resize(image, (width, hight))
return image
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;3.读入色子图形&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;def getDice(DICEPATH): # 读入色子图形文件
dice = np.zeros((9, 16, 16),dtype=&amp;#39;u8&amp;#39;)
for i in range(9):
dice[i] = cv2.imread(&amp;#39;./dice_image/&amp;#39; + str(i + 1) + &amp;#39;w.png&amp;#39;, 0)
return dice
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;4.对图像进行处理，输入参数：im（图像数组）, imagefile（图片文件名）, p（灰色度分组数组）, dice（色子图片数组）, ROTATE（色子2，3，6是否旋转），返回处理后的图片数组im，以及色子点数数组image_data&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;def calculateDice(im, imagefile, p, dice, ROTATE): # 处理图片
x_max = int((im.shape[1]/16))
y_max = int((im.shape[0]/16))
dice_data = np.arange(y_max * x_max, dtype=&amp;#34;u8&amp;#34;).reshape(y_max, x_max)
dice2_rotate = False
dice3_rotate = False
dice6_rotate = False
cv2.namedWindow(imagefile, 0)
cv2.resizeWindow(imagefile, 640, int(640 * y_max / x_max))
for j in range(y_max):
for i in range(x_max):
# 获得16x16图片的色度平均值mean或中位数median
image_data = int(np.mean(im[j * 16:(j + 1) * 16, i * 16:(i + 1) * 16]))
# 根据色度值确定色子点数
if (image_data &amp;lt; p[0]):
n = 5
if (ROTATE):
dice6_rotate = not (dice6_rotate)
if (dice6_rotate):
n = 8
elif (image_data &amp;gt;= p[0]) and (image_data &amp;lt; p[1]):
n = 4
elif (image_data &amp;gt;= p[1]) and (image_data &amp;lt; p[2]):
n = 3
elif (image_data &amp;gt;= p[2]) and (image_data &amp;lt; p[3]):
n = 2
if (ROTATE):
dice3_rotate = not (dice3_rotate)
if (dice3_rotate):
n = 7
elif (image_data &amp;gt;= p[3]) and (image_data &amp;lt; p[4]):
n = 1
if (ROTATE):
dice2_rotate = not (dice2_rotate)
if (dice2_rotate):
n = 6
else:
n = 0
#将色子图片写入原图片
im[j * 16:(j + 1) * 16, i * 16:(i + 1) * 16] = dice[n]
dice_data[j, i] = n + 1
#显示色子覆盖原图片步骤
cv2.imshow(imagefile, im)
cv2.waitKey(1)
return im, dice_data
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;5.保存图片及色子点数文件&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;def write_Dice(im, OUTPUTPATH, imagefile, dice_data): # 将色子点数写入文件
y_max, x_max = np.shape(dice_data)
DICE_WIDTH = x_max
print(&amp;#34;色子数量&amp;#34;, y_max, &amp;#39;*&amp;#39;, x_max, &amp;#39;=&amp;#39;, x_max * y_max)
cv2.imwrite(OUTPUTPATH + str(DICE_WIDTH) + &amp;#39;_hist_&amp;#39; + imagefile, im)
f = open(OUTPUTPATH + str(DICE_WIDTH) + &amp;#39;_hist_&amp;#39; + imagefile + &amp;#39;.txt&amp;#39;, &amp;#39;wt&amp;#39;)
for y in range(y_max):
f.write((str(y + 1) + &amp;#39;:&amp;#39;))
for x in range(x_max):
f.write(str(dice_data[y, x]) + &amp;#39;,&amp;#39;)
f.write(&amp;#39;\n&amp;#39;)
f.close()
print(&amp;#39;文件保存完毕!&amp;#39;)
return
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;采用numpy，对数组进行运算非常方便。&lt;/p&gt;
&lt;p&gt;程序放到了GitHub上，也可以直接用&lt;/p&gt;
&lt;p&gt;git clone &lt;a class="link" href="https://github.com/fallleaf/dice_portrait.git" target="_blank" rel="noopener"
&gt;https://github.com/fallleaf/dice_portrait.git&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;图框和色子都准备好了，这将是18年的第一个项目。&lt;/p&gt;</description></item><item><title>色子肖像</title><link>https://blog.fallleaf.net/p/tech-dice-portrait/</link><pubDate>Tue, 12 Dec 2017 10:02:27 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-dice-portrait/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_small.png" alt="Featured image of post 色子肖像" /&gt;&lt;p&gt;2008年Scott MacDonald发表了一篇Blog，用骰子为她制作一副肖像画,他把一幅肖像画量化成不同点数的色子，用色子摆放成了一幅肖像画。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/caroline_portrait.png"
width="512"
height="273"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/caroline_portrait_hu_c2c495ea3cda6d25.png 480w, https://blog.fallleaf.net/p/tech-dice-portrait/caroline_portrait_hu_f70e9b7b7c26cbf2.png 1024w"
loading="lazy"
alt="caroline_portrait"
class="gallery-image"
data-flex-grow="187"
data-flex-basis="450px"
&gt;&lt;/p&gt;
&lt;p&gt;他用了2560（40x60）个16mm的色子，制作了一个64cmx96cm的色子肖像，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/caroline.jpg"
width="529"
height="542"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/caroline_hu_fbdcc507a223342c.jpg 480w, https://blog.fallleaf.net/p/tech-dice-portrait/caroline_hu_4ade5e8f384b2656.jpg 1024w"
loading="lazy"
alt="caroline"
class="gallery-image"
data-flex-grow="97"
data-flex-basis="234px"
&gt;&lt;/p&gt;
&lt;p&gt;他用的是Prossing语言编写的程序。近期正在学习Python，就尝试用Python来实现这一功能。&lt;/p&gt;
&lt;p&gt;思路是先对图像进行灰度处理，然后把图片分割成16x16像素的单元图块，再对图块中256个点的灰度取平均值，对平均值分组用1-6数值代替。色度值范围0-255，亮度从深到浅，颜色从黑到白。数值1-6对应色子的点数，对于黑底白点的色子，色度值和点数正比例关系，对于白底黑点的色子，色度值和点数反比例关系。最后按色子点数做出图。&lt;/p&gt;
&lt;p&gt;我用了三种16x16的图块，如下：&lt;/p&gt;
&lt;p&gt;灰度色块：
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/graydice.png"
width="96"
height="16"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/graydice_hu_2a8cd17567e55e06.png 480w, https://blog.fallleaf.net/p/tech-dice-portrait/graydice_hu_9af2030d95ba904e.png 1024w"
loading="lazy"
alt="graydice"
class="gallery-image"
data-flex-grow="600"
data-flex-basis="1440px"
&gt;&lt;/p&gt;
&lt;p&gt;黑底白点色子：
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/blackdice.png"
width="96"
height="16"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/blackdice_hu_1630946f4df10da0.png 480w, https://blog.fallleaf.net/p/tech-dice-portrait/blackdice_hu_126e36a88e9ee30.png 1024w"
loading="lazy"
alt="blackdice"
class="gallery-image"
data-flex-grow="600"
data-flex-basis="1440px"
&gt;&lt;/p&gt;
&lt;p&gt;白底黑点色子：
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/whitedice.png"
width="96"
height="16"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/whitedice_hu_6797ae34ca853fb0.png 480w, https://blog.fallleaf.net/p/tech-dice-portrait/whitedice_hu_a220206ef32465ae.png 1024w"
loading="lazy"
alt="whitedice"
class="gallery-image"
data-flex-grow="600"
data-flex-basis="1440px"
&gt;&lt;/p&gt;
&lt;p&gt;利用Python的PIL库（Python Image Library）以及numpy数组库，能够很容易的完成功能。&lt;/p&gt;
&lt;p&gt;首先是加载库文件，打开图片，对图片灰度处理，并计算要分割图块的数量&lt;/p&gt;
&lt;p&gt;#加载库文件&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;from PIL import Image, ImageDraw
import numpy as np
#载入色子图片，1.png-6.png，代表色子点数
dice =[]
for i in range(6):
dice.append(Image.open(str(i+1)+&amp;rsquo;.png&amp;rsquo;))
#载入肖像图片
im = Image.open(&amp;ldquo;cecilia.png&amp;rdquo;)
im=im.convert(&amp;ldquo;L&amp;rdquo;)
width,hight =im.size
x_max = int (width/16)
y_max = int(hight/16)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;分割图片为16x16图块，并计算点的色度平均值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;image_data = np.ones(y_max&lt;em&gt;x_max).reshape(y_max,x_max)
block_data = np.ones(16&lt;/em&gt;16).reshape(16,16)
dice_data = np.ones(y_max&lt;em&gt;x_max).reshape(y_max,x_max)
for j in range(y_max):
for i in range(x_max):
b=im.crop( (i&lt;/em&gt;16,j*16,(i+1)*16,(j+1)*16))#获得16x16图片
sum_x=0
for ii in range(16):
for jj in range(16):
block_data[jj,ii]=b.getpixel((ii,jj))
image_data[j,i]=int(np.mean(block_data))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;根据色块的平均值分配色子图块：&lt;/p&gt;
&lt;p&gt;#定义色度分组值&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;p = [45,65,80,95,130,155]
if (image_data[j,i]&amp;lt;p[0]):
n = 5
elif (image_data[j,i]&amp;gt;=p[0]) and (image_data[j,i]&amp;lt;p[1]):
n = 4
elif (image_data[j,i]&amp;gt;=p[1]) and (image_data[j,i]&amp;lt;p[2]):
n = 3
elif (image_data[j,i]&amp;gt;=p[2]) and (image_data[j,i]&amp;lt;p[3]):
n = 2
elif(image_data[j,i]&amp;gt;=p[3]) and (image_data[j,i]&amp;lt;p[4]):
n = 1
else:
n = 0
im.paste(dice[n],(i&lt;em&gt;16,j&lt;/em&gt;16))
dice_data[j,i] = n+1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这里p1p6是对0255的色度值划分到1-6的分组值。 生成处理后的图片，及显示图片&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;im.save(&amp;lsquo;small_ceciliaw.png&amp;rsquo;)
im.show()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;将色子点数写入文件&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;f = open(&amp;lsquo;cecilia_dice_data.txt&amp;rsquo;,&amp;lsquo;wt&amp;rsquo;)
for y in range(y_max):
f.write((str(y+1)+&amp;rsquo;:&amp;rsquo;))
for x in range(x_max):
f.write(str(dice_data[y,x])+&amp;rsquo;,&amp;rsquo;)
f.write(&amp;rsquo;\n&amp;rsquo;)
f.close()&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;按以上方法生成了三种处理后的图片，第一个是原图，第二个是灰度色块，第三个是黑底白点，第四个是白底黑点。如下图：
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_small.png"
width="1120"
height="1584"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_small_hu_542dd8651340c7dd.png 480w, https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_small_hu_e475395d559590d0.png 1024w"
loading="lazy"
alt="cecilia"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
&gt;&lt;/p&gt;
&lt;p&gt;所用原始图片的大小为1120x1584，一共生成色子数量为70x99=6930块,若用8mm的色子制作，大小为56cmx79.2cm。 亚洲人的面部没有欧洲人立体感强，选择照片时需挑选立体感强，色差比较鲜明的图片，这样，分辨率可以低一些，色子的数量可以减少一些。另外，1-6的分组值也需要进一步优化。下图是分辨率变化的情况。
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliag_gif.gif"
width="280"
height="396"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliag_gif_hu_5e4c2dfb41ced0d2.gif 480w, https://blog.fallleaf.net/p/tech-dice-portrait/ceciliag_gif_hu_8bfeb71e387b1d48.gif 1024w"
loading="lazy"
alt="ceciliag"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
&gt;
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliaw_gif.gif"
width="280"
height="396"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliaw_gif_hu_b692e8d90f563c54.gif 480w, https://blog.fallleaf.net/p/tech-dice-portrait/ceciliaw_gif_hu_85051bd5a762ed50.gif 1024w"
loading="lazy"
alt="ceciliaw"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
&gt;
&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliab_gif.gif"
width="280"
height="396"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/ceciliab_gif_hu_2bf96734fa72f743.gif 480w, https://blog.fallleaf.net/p/tech-dice-portrait/ceciliab_gif_hu_d881b7438a7385eb.gif 1024w"
loading="lazy"
alt="ceciliab"
class="gallery-image"
data-flex-grow="70"
data-flex-basis="169px"
&gt;&lt;/p&gt;
&lt;p&gt;这个项目正在进行中，等色子及图框到后再把制作的全过程展示一下。&lt;/p&gt;
&lt;p&gt;续：&lt;/p&gt;
&lt;p&gt;购买了2000个色子，用纸盒盖子做框，摆成一个肖像，远看效果好些&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice1.jpg"
width="1080"
height="1440"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice1_hu_9afffa2e6bcab57.jpg 480w, https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice1_hu_79421af38ba3cd23.jpg 1024w"
loading="lazy"
alt="cecilia1"
class="gallery-image"
data-flex-grow="75"
data-flex-basis="180px"
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice2.jpg"
width="1080"
height="1440"
srcset="https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice2_hu_3f405b5235b9b71e.jpg 480w, https://blog.fallleaf.net/p/tech-dice-portrait/cecilia_dice2_hu_49d2120084624dfc.jpg 1024w"
loading="lazy"
alt="cecilia2"
class="gallery-image"
data-flex-grow="75"
data-flex-basis="180px"
&gt;&lt;/p&gt;
&lt;p&gt;源代码放到了GitHub上，做了些改动，采用opencv做图像处理。&lt;/p&gt;</description></item><item><title>浅谈接入网的薄覆盖</title><link>https://blog.fallleaf.net/p/tech-odn-sparse-coverage/</link><pubDate>Thu, 01 Jan 2015 00:00:00 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-odn-sparse-coverage/</guid><description>&lt;p&gt;在宽带接入网工程中，常常会出现关于覆盖的几种说法，如“全覆盖”，“深覆盖”，“薄覆盖”等，其概念各不相同，各自的理解也不同，依据目前我的经验，谈谈一点看法。&lt;/p&gt;
&lt;p&gt;在很多资料里，“全覆盖”和“薄覆盖”是相对出现，是从工程建设界面的角度来定义的。&lt;/p&gt;
&lt;p&gt;“全覆盖”是指在宽带接入工程中，建设的网络末端为用户家中的光纤插座或多媒体箱，是工程做到了入户，而“薄覆盖”，是指网络末端只做到单元、楼宇或小区，工程没有做到入户，不能给用户提供一个全程端到端的连接。现在宽带接入建设，大多要求按照薄覆盖来建设，究其原因，主要是由于宽带运营商竞争的加剧，小区的宽带用户渗透率以及各运营商的宽带市场份额也不可能百分百，这两方面因素共同导致了在用户不明确的情况下，若采用全覆盖方式来进行宽带接入建设，会导致网络利用率不高、建设的端口浪费、投资大，在投资受限的情况下，进而会导致覆盖小区数量减少，覆盖率下降。&lt;/p&gt;
&lt;p&gt;但以这种接入覆盖的深度（到用户的距离）来定义薄覆盖，与它所倡导的一种建设思路上来比，还是有些缺陷。若全覆盖和薄覆盖只是入不入户的差别，那么不可避免建设的网络存在容量利用率不高，端口浪费的情况，因为若薄覆盖是按照1户1线这种思路去做，也就是小区的用户渗透率及市场份额都是百分百考虑，并没有达到薄覆盖的真实目的。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在联通2014-2016年的宽带规划编制原则中，提出：&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;薄覆盖是指在建设中降低建设端口和覆盖住户的比例，无论南北方均应按照目标用户数来确定分光器端口和配线光缆规模实现薄覆盖。对于自建方式，新建区域要求目标实占率大于70%，北方改造区域要考虑现有用户转网和后期发展端口需求，由于用户明确，目标实占率应大于80%。在薄覆盖建设中，除分光器端口外，接入配线光缆也要按照薄覆盖的要求进行建设，从而降低建设规模，减少投资，提高资源利用率。”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这里，薄覆盖强调了另一个含义，就是接入网络的容量，应按照预测的目标用户数来确定，而这个目标用户数，又和市场策略，营销力度有关，这样，就把市场需求和建设通过“薄覆盖”联系到一起了，市场提需求，网络依据需求来建设，力求避免那种有需求没建设、没需求有建设局面。&lt;/p&gt;
&lt;p&gt;薄覆盖的建设方式，就是以业务预测的目标用户数为基础，按照一定的目标实占率要求，确定PON口数量以及ODN网各部分的规模（主干光缆规模、配线光缆规模、分光器端口数量）的一种建设方式。对于自建方式，新建区域要求目标实占率（目标用户数/建设的FTTH端口）不低于70%，对于改造区域，由于用户明确，目标实占率可不低于80%。&lt;/p&gt;
&lt;p&gt;在网络建设中，又出现了一种超薄覆盖概念，主要是指在建设中，只建设到配线区光交接箱；配线光缆、分线盒及用户皮线光缆待用户装机时再布放。这种“点到为止”的方式，只能适合目标用户极不确定以及某些特殊的情况。它是把一个完整的接入工程拆成两部分来做，看似接入工程造价极低，实际是把大量工作拖到后期完成，这对整个网络建设、维护、开户都会产生一些问题，应在工程中尽量避免。这种方式，从本质上说，就是目标用户不明确，市场目标不明确，是这种“这个小区，我知道可能有用户，用户能预计发展多少我不知道，什么时候发展我不知道，先占个地再说”的心态。是一种市场和建设脱节的无奈之举。&lt;/p&gt;
&lt;p&gt;从目前市场格局来看，除了独家进线的、目标用户渗透率70%以上（这时按薄覆盖的话，端口渗透率也就是100%了），改造网络等情况可按全覆盖来进行建设，其他情况均可按薄覆盖进行建设。而薄覆盖的定义，应从覆盖深度及建设规模上来进行阐述，这里，试图给薄覆盖一个定义：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;薄覆盖，是指在宽带接入网网络建设中，网络末端只建设到分光器、分纤箱，入户线在装机时进行敷设，并以业务预测的稳定期用户数（目标用户数）为基础，按照一定的目标实占率要求，确定PON口数量以及ODN网各部分的规模（主干光缆规模、配线光缆规模、分光器端口数量）的一种建设方式。&lt;/p&gt;
&lt;/blockquote&gt;</description></item><item><title>走线架垮塌事件分析</title><link>https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/</link><pubDate>Tue, 01 Feb 2011 09:48:27 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/</guid><description>&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/cover.webp" alt="Featured image of post 走线架垮塌事件分析" /&gt;&lt;p&gt;某机房在敷设电力电缆的施工过程中，机房维护施工通道一侧的走线架（约9米）发生垮塌，经现场查勘、分析，初步判断为吊挂连接件的螺孔槽受压力作用变形并扩张，致使连接固定龙门架横梁以及走线架上梁的螺栓从螺孔槽中脱落，事件发生原因可以从以下几个方面考虑：&lt;/p&gt;
&lt;h2 id="材料方面"&gt;材料方面
&lt;/h2&gt;&lt;p&gt;从现场情况看，吊杆与天花板未脱落，吊杆亦未发生拉伸变形及断裂，可认为吊杆的强度是足够的，主要问题就在于吊杆与走线架的连接件上。&lt;/p&gt;
&lt;p&gt;连接件作为连接与支持走线架的零件，受力要比走线架大得多，所使用材料强度应高于走线架所用材料的强度，从现场来看，所使用材料均为同一规格，厚度为2mm。按YD5026-95和YD/T5026-2005《电信机房铁架安装设计标准》的要求，所采用铁件一般为50x50x5mm。&lt;/p&gt;
&lt;p&gt;从螺栓与连接件的紧固方式看，连接件的受力面积主要是螺栓垫片与连接件的接触面积，从照片上看，螺栓垫圈小，致使连接件单位面积受力过大，超过连接件的受力特性，造成了螺孔槽受压力作用变形并扩张。目前走线架所用螺栓规格为M6，规范要求的螺栓规格为M8和M10和M12，
&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/1.webp"
width="640"
height="480"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/1_hu_9640c548afff0dfc.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/1_hu_14bee3a46e103979.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;
&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/2.webp"
width="640"
height="480"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/2_hu_dbba45ab0fa38515.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/2_hu_80c29e00c574e8ce.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;&lt;/p&gt;
&lt;h2 id="地震及受力的影响"&gt;地震及受力的影响
&lt;/h2&gt;&lt;p&gt;从512大地震以来，该地区陆续发生了大大小小的上百次的余震。大地震和余震产生地震波，使走线架上下及左右震动，长期处于一种不稳定状态。螺栓、螺母与连接件的紧固，是靠螺栓、螺母以及垫片与紧固件间的摩擦力固紧的，同时，由于部分螺母、螺栓安装时没有加弹簧垫圈（见下图），经过512大地震以及上百次余震的冲击波后，非常容易使螺母与螺栓松动。
&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/3.webp"
width="640"
height="480"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/3_hu_9d8d063b61e28ed9.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/3_hu_8d8b10ed7f565e7d.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;
&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/4.webp"
width="640"
height="480"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/4_hu_2d2bc90ae72cbd2d.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/4_hu_153779037fdc72be.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;&lt;/p&gt;
&lt;p&gt;走线架安装后，也经过了若干次的施工，在敷设电缆的过程中，走线架不是一个静态、缓慢受力的过程，而是受到线缆自重、拖拉线缆以及施工人员操作时产生的冲击力，这也会对螺栓螺母等紧固件产生影响，加速松动的过程。&lt;/p&gt;
&lt;p&gt;螺栓、螺母与连接件间的松动，使得连接件间有了空隙，同时由于走线架重量的缘故，使得连接件螺栓槽有了变形的空间，一旦受到外界一定的冲击力，超过其承受程度，就会使得变形加速，造成走线架的脱落。&lt;/p&gt;
&lt;p&gt;现场塌垮的走线架，是维护和施工通道一侧走线架发生侧翻，而不是走线架整体垮塌，在施工中，由于外力扰动，走线架受力不平衡，维护和施工通道一侧走线架连接件受力过大也是一个原因。&lt;/p&gt;
&lt;h2 id="连接加固方式"&gt;连接加固方式
&lt;/h2&gt;&lt;p&gt;现场走线架吊挂有两种方式，一种为龙门架，龙门架的横担支撑两层走线架的重量，另外一种为吊挂上层走线架梁上，如下图所示&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/5.webp"
width="640"
height="853"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/5_hu_b9c8d6e40e233bbb.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/5_hu_54fd8281f5a18881.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="75"
data-flex-basis="180px"
&gt;&lt;/p&gt;
&lt;p&gt;按一般要求，对于双层走线架，每层都应与吊挂连接（见下图），以免连接件集中受力，现场的走线架只有最下一层与吊挂连接，导致所有线缆的重量都压在横梁上，也导致连接件的受力过大。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/6.webp"
width="800"
height="600"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/6_hu_83fed71ff9b412e5.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/6_hu_21c3b6184c8e8122.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;&lt;/p&gt;
&lt;p&gt;现场走线架另外一种的吊挂方式，这种方式致使只有连接件的螺栓受力，而整个连接件不受力，也会导致螺孔槽所受压力过大，以致变形，若连接件承托上梁下放，则受力为整个连接件以及螺栓（见下图）。&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/7.webp"
width="235"
height="180"
srcset="https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/7_hu_fddd72f4d4720887.webp 480w, https://blog.fallleaf.net/p/tech-cable-tray-collapse-analysis/7_hu_b30bb3dd1c32c5b1.webp 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="130"
data-flex-basis="313px"
&gt;&lt;/p&gt;
&lt;p&gt;现场的走线架投入使用已多年，期间经历了512大地震以及前后若干次地震、施工布放线缆等，对走线架，尤其是连接件部位的可靠性、安全性产生了较大的影响，加上最后一次施工过程中产生外力的影响，以及吊挂件的材料与安装方式的不合理因素，导致此次事件的发生。同时，由于现场走线架是近年来采用新型材料，以往相关的规范未提及该种材料，还需对该种走线架应有的各项指标要求进行不断的实践和探索。&lt;/p&gt;
&lt;h2 id="有关走线架的规范注意需核实规范的有效期"&gt;有关走线架的规范（注意：需核实规范的有效期）
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;YD 5026-1996《长途通信传输机房铁架槽道安装设计标准》（被YD/T 5026-2005替代）&lt;/li&gt;
&lt;li&gt;YD 5059-98《通信设备安装抗震设计规范》（被YD 5059-2005替代）&lt;/li&gt;
&lt;li&gt;YD 5060-1998《通信设备安装抗震设计图集》（被YD 5060-2010替代）&lt;/li&gt;
&lt;li&gt;YD/T 5026-2005《电信机房铁架安装设计标准》&lt;/li&gt;
&lt;li&gt;YD 5059-2005《电信设备安装抗震设计规范》&lt;/li&gt;
&lt;li&gt;YD 5060-2010《通信设备安装抗震设计图集》&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>LTE下的RAN</title><link>https://blog.fallleaf.net/p/tech-lte-ran/</link><pubDate>Mon, 12 Jul 2010 16:39:27 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-lte-ran/</guid><description>&lt;p&gt;R5版本的RAN，NODE B到RNC之间只有Iub接口，基站间没有互联，Iub可以看做是一个端到端的链接，目前采用PTN传送，已经没有异议了，但在LTE环境下，eNODE到MME/S-GW是S1接口，类似Iub接口，但相邻的eNODE之间有了X2互联接口，那么LTE环境下的RAN该采用何种技术？PTN是否仍然合适？是否需要新建一个基于三层技术的IP RAN呢？&lt;/p&gt;
&lt;p&gt;E2E时延： S1&amp;lt;10ms X2&amp;lt;20ms —–3GPP TR R3.018&lt;/p&gt;
&lt;p&gt;流量： S1站97%以上，X2小于3%；&lt;/p&gt;
&lt;p&gt;需要二层PTN吗？ 还是需要三层PTN? X2的时延，QOS？ EVPLAN EVPLINE&lt;/p&gt;
&lt;p&gt;LTE新的逻辑接口X2主要用于切换，由于这个接口的出现，基站出现了逻辑部分MESH互连的承载难题，对传统点到点的传输网络架构提出了挑战。但进一步分析可以发现，实际X2接口带宽需求不会很大（最大不会超过S1接口的3%），X2业务面传输时延要求端到端50－100ms，信令面传输时延要求约 10－20ms，这个要求比S1用户面时延5ms宽松了许多。&lt;/p&gt;
&lt;p&gt;LTE系统由核心网(EPC)、基站(eNodeB)和用户设备(UE)3部分组成。其中eNodeB负责无线接入网部分，称为E- UTRAN；EPC(EnvolvedPacketCore)是核心网部分，EPC信令处理部分称MME，数据处理部分称为SAE-Gateway。&lt;/p&gt;
&lt;p&gt;eNodeB与EPC通过S1接口连接，eNodeB间通过X2接口连接，UE与eNodeB通过Uu接口连接。和TD-SCDMA相比，X2接口类似于Iur接口，S1 接口类似于Iu接口，但有较大简化。由于英电和RNC融合为网元eNodeB，LTE比WCDMA和TD-SCDMA少了Iub接口。&lt;/p&gt;
&lt;p&gt;那么采用PTN接入的时候X2接口间的电路数量过多，在VLAN 上将会处理较为麻烦，而且PTN的LSP数量极剧增加，如果采用PTN传输是不是很麻烦，有一种说法是CE布置到汇聚层，完善数据城域网，接入层由传输负责，个人感觉还是比较好，X2的电路还是路由器调度比较方便，但是目前的机房条件好像再放路由器很难了，而且还有具有OTN。比较困难。不知道那位高手怎么看？&lt;/p&gt;
&lt;p&gt;“下面我们就来看还有一个困扰PTN的发展，就是LTE提出了X2接口，整个基站是扁平化的网络，这时候就趋向了包括S1Flex动态归属需求，基站和基站之间互联。现在我们在中国电信内部讨论PTN有很大的问题，第一就是对LTE的情况下，三层功能比较弱，另外解决大客户用的时候也是不能提供的。这是我们的 IP RAN承载方案，路由器方案、PTN接入路由器方案、PTN+路由器方案。我认为PTN+路由器方案是最糟糕的方案，但实际运用中也不尽然，可能运作中 PTN+路由器还是比较多的方案。如果你放在综合承载，PTN不仅仅是基站，而是综合的承载基站，你考虑LTE更复杂的网络拓扑，这时候提到这个方案还是有一定道理的，所以我们并没有排除这个方案，让用户来选择是最好的。“ –张成良&lt;/p&gt;
&lt;p&gt;若读者有什么想法，尽可留言。&lt;/p&gt;</description></item><item><title>我的PROJECT365</title><link>https://blog.fallleaf.net/p/life-my-project365/</link><pubDate>Thu, 04 Jan 2007 16:32:38 +0800</pubDate><guid>https://blog.fallleaf.net/p/life-my-project365/</guid><description>&lt;p&gt;这几天看了几个有关PROJECT 365的帖子，颇为心动。2007年已经到来了，该定下今年的一些目标了，那么其中的一个目标就是PROJECT 365。
PROJECT 365简单的说就是每天照几张照片，并且坚持一年。照相可以每天固定在一个特定的时间，也可以固定在一个特定的地方，也可以固定与一个特定的物体。比如每天的自拍像，每天路口的情况等等。我计划每天拍3张照片，一张是每天上午10点左右的自拍像，选择这个时间，我想是最能反应我当时的情况，另外两张拍的是一天内有意义的事情，比如外出吃饭，工作，游玩等。这样持续一年时间，到年底的时候，一定会发现巨大的意义。&lt;/p&gt;
&lt;p&gt;至于实施PROJECT 365的工具，很简单，就是一个数码相机，最好是那种口袋机，能够随身携带，走到哪里拍到哪里，也可以是一个WEBCAM，只不过拍照地点就要限制在计算机附近了。另外，实施这个也主要是为了和别人分享，因此，BLOG或照片共享是必要的，这方面的工具很多，比如Flickr ,Bababian 等网上资源，我现在用的是Photoblog （由于上网条件有限，停止照片更新，但PROJECT365仍然进行）。&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="http://gtmcknight.com/365/" target="_blank" rel="noopener"
&gt;The Project 365 2004 Recap&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="http://flickr.com/photos/gtmcknight/sets/1748359/show/" target="_blank" rel="noopener"
&gt;Project 365, 2006&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Noah Brier’s One a Day&lt;/p&gt;
&lt;p&gt;&lt;a class="link" href="http://www.youtube.com/watch?v=55YYaJIrmzo" target="_blank" rel="noopener"
&gt;http://www.youtube.com/watch?v=55YYaJIrmzo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Photojojo 上一篇&lt;a class="link" href="http://www.photojojo.com/content/tutorials/project-365-take-a-photo-a-day/" target="_blank" rel="noopener"
&gt;Project 365: How to Take a Photo a Day and See Your Life in a Whole New Way&lt;/a&gt;对PROJECT 365介绍的很详细了，我简单翻译了一下主要内容，如下。&lt;/p&gt;
&lt;p&gt;为什么做？&lt;/p&gt;
&lt;p&gt;每天拍一张照片，既是一个艰巨的任务，但又包含着巨大的回报（这个回报并不是金钱上的）。有这么一些理由使你值得试一试。&lt;/p&gt;
&lt;p&gt;照片可以让你很容易的记起在一年中的某一天你做了什么，你遇到了谁，你学到了什么。。。。（很多时候，要记起前天甚至是昨晚发生的事情都是十分困难的，更何况是在一年前！）&lt;/p&gt;
&lt;p&gt;你这一年的照片是在用一种非常巧妙的方式见证你的旅行、你的成就、你的变化以及你的亲人。时间变化的非常快。&lt;/p&gt;
&lt;p&gt;每天拍摄一张照片可能让你变成一个好的摄影师。每天使用照相机能让你了解他的局限。你将更好的组织你的构图，更好的掌握闪光灯。每天当你摄像时，你的技术将变得越来越具有创造性。&lt;/p&gt;
&lt;p&gt;怎么去做&lt;/p&gt;
&lt;p&gt;随身携带照相机&lt;/p&gt;
&lt;p&gt;是的，随时携带，要养成习惯。杂货店里，餐馆里，集会上，工作中，学习时，都要带上。&lt;/p&gt;
&lt;p&gt;使发布容易&lt;/p&gt;
&lt;p&gt;你可以在你的网站上安装BLOG软件，比如MOVABLE TYPE或者WORDPRESS，进行发布，也可以在一些相片共享网站上发布，比如FLICKR，FOTOLOG，PHOTOLBOG等。发布越容易，你就越喜欢他。&lt;/p&gt;
&lt;p&gt;变化你的主题&lt;/p&gt;
&lt;p&gt;试着变变每天的主题。比如你新认识的人，你第一次吃的东西或者你学会了什么。让你感到高兴的事情。不要忘记至少一个月自拍一张一遍记录你的变化。&lt;/p&gt;
&lt;p&gt;讲一个故事&lt;/p&gt;
&lt;p&gt;用你的BLOG或者照片描述，对你每天所拍的照片作一个说明。例如晚餐的味道如何，是什么原因让你拍摄一个陌生人，这能让你记起一个时间，让你的朋友对你的照片有好感。不用写的太多，只是装饰一下即可&lt;/p&gt;
&lt;p&gt;不要中止，无论何种情况&lt;/p&gt;
&lt;p&gt;这应该是最重要的一点了。每天照相，你可能会赶到厌倦，或许有一天，你决定要放弃。千万别这样。有耕耘就有收获，你一定要回顾一下你决定去做的原因。&lt;/p&gt;
&lt;p&gt;可能你经常觉的已经没有有趣的事情可以拍照的了，一定要坚持，往往伟大的照片将会诞生。&lt;/p&gt;
&lt;p&gt;到屋外走一圈，或者仔细观察屋内。照一些对你非常重要的东西，照一些屋内的情况，你可以看看这些年来摆设有何变化，或则随便什么的，只是不要放弃。&lt;/p&gt;
&lt;p&gt;注意：如果你把你的计划告诉了你的朋友，他们的鼓励也讲激励你坚持。&lt;/p&gt;
&lt;p&gt;早发布，经常发布&lt;/p&gt;
&lt;p&gt;一周至少要发布照片一次，以便不堆积照片。最好是一天或两天发布一次。&lt;/p&gt;
&lt;p&gt;参考：&lt;/p&gt;
&lt;p&gt;Get Out and Shoot! — 3 Great Ideas for Shooting Outside in Your Town or City&lt;/p&gt;
&lt;p&gt;Project 365: How to Take a Photo a Day and See Your Life in a Whole New Way&lt;/p&gt;
&lt;p&gt;The Secret to Keeping Your New Year’s Resolutions&lt;/p&gt;</description></item><item><title>电源头柜电力线径的计算方法</title><link>https://blog.fallleaf.net/p/tech-power-cabinet-wire-sizing-method/</link><pubDate>Mon, 27 Mar 2006 16:27:04 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-power-cabinet-wire-sizing-method/</guid><description>&lt;p&gt;查询了网站的统计信息，发现搜索电力线缆计算方法的还不少，我根据以往经验，参照其他人写的文章，归纳了一下，供大家参考。&lt;/p&gt;
&lt;p&gt;对于小工程来说，或者一个工程的配套部分，电源头柜至电源分支柜或直流屏这段导线的线径可按照固定压降发，根据以下公式计算，其计算公式如下：&lt;/p&gt;
&lt;p&gt;S=(ΣIL)/(rΔU)&lt;/p&gt;
&lt;p&gt;上式中： - S — 导线截面面积(mm2)，&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ΣI — 流过导线的电流(A)，实际上是头柜允许的最大电流，
L — 导线回路长度(m),注意，是回路，即一来一回的长度，
r — 导体导电系数(m/Ω·mm2)，一般铜取57，铝取34，
ΔU — 除掉配电设备等压降后在导线上允许的压降(V)。
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;现在要确认的是ΔU的数值，ΔU根据不同的电源系统设计，取值也不同，需向电源专业了解ΔU的取值，如果了解不到，可以按以下直流放电回路全程压降分配的情况取定。（要注意的是，这种分配方法只是其中的一种，还有其他的方法）&lt;/p&gt;
&lt;p&gt;&lt;img src="https://blog.fallleaf.net/p/tech-power-cabinet-wire-sizing-method/105_1.jpg"
width="500"
height="172"
srcset="https://blog.fallleaf.net/p/tech-power-cabinet-wire-sizing-method/105_1_hu_a455c9aedc6b0d91.jpg 480w, https://blog.fallleaf.net/p/tech-power-cabinet-wire-sizing-method/105_1_hu_74ba8459562556ff.jpg 1024w"
loading="lazy"
alt="压降分配"
class="gallery-image"
data-flex-grow="290"
data-flex-basis="697px"
&gt;&lt;/p&gt;
&lt;p&gt;按此算出电力线线径，并向上取相近的电缆规格，保护地可取小一号线径。&lt;/p&gt;
&lt;p&gt;在不同机房之间选用铜芯聚氯乙烯绝缘聚氯乙烯护套电力电缆（阻燃）（RVVZ系列），在同一机房内选用铜芯聚氯乙烯绝缘电力电缆（阻燃）（RVZ系列）。&lt;/p&gt;
&lt;p&gt;设计中常见的直流用电力线按截面分有如下几种：1×6、1×10、1×16、1×35、1×50、1×70、1×95、1×120、1×150、1×185、1×240（mm2）。&lt;/p&gt;</description></item><item><title>MSTP传输设备选型谈判需要注意的几个问题</title><link>https://blog.fallleaf.net/p/tech-mstp-device-selection-negotiation/</link><pubDate>Mon, 20 Mar 2006 11:36:47 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-mstp-device-selection-negotiation/</guid><description>&lt;p&gt;传输设备谈判中需要注意以下几个问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;设备的高、低阶交叉连接能力及其结构、限制条件；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2Mb/s支路板再定时能力及配置情况；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DCC处理能力，分配、限制条件；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;支路保护能力及保护比例；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设备配置（面板）的各种限制；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多光口板或主板上的光接口单独更换能力；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;以太网板的汇聚能力、背板容量；不同以太网板之间能否互通和混合组网；本次供货以太网板和现网上以太网板在功能实现上能否互通；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;现有设备和新版本设备的区别，升级能力；说明在网设备的升级方式、具体步骤，需要更换的板卡，对业务的具体影响，新、旧版本的主要差异及在网设备升级后达到的效果。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>为什么通信设备使用–48V这样的负电源系统</title><link>https://blog.fallleaf.net/p/tech-why-use-48v-telcom-equiment/</link><pubDate>Wed, 21 Dec 2005 11:25:17 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-why-use-48v-telcom-equiment/</guid><description>&lt;p&gt;在C114论坛上找到了这片文章，把原因大概解释了一下。没有去翻查资料考证是否正确之前，就以这个解释为准吧。&lt;/p&gt;
&lt;p&gt;整理：邓兴昌&lt;/p&gt;
&lt;p&gt;A：这里面包含2 个意思：&lt;/p&gt;
&lt;p&gt;（1） 极性为何是负电源（也就是正接地）？&lt;/p&gt;
&lt;p&gt;（2） 电压为何为-48V（-36~ -72V）？&lt;/p&gt;
&lt;p&gt;先说一下第2个问题。使用-48V电源是历史原因造成的。使用最早的通讯网是电话网，话机是由电讯局供电的，选48V是在当时的条件下尽可能提高用户到端局的距离（36V是安全电压，超过太多不安全）。后来为了兼容早期设备、降低成本考虑，局端通讯设备还是用-48V电源。&lt;/p&gt;
&lt;p&gt;同样，采用负电源系统，正极接地只是约定俗成。原来有个说法是空气中有大量的负电荷，根据电化学知识，正极接地可以吸附空气中的负离子，从而保护电信设备的外壳不被锈蚀。其实这种说法不是很对。原电池反应和电解反应是会导致设备生锈，但是因为它们在设备上是以微观形式存在的，几乎没有影响。例如非通讯系统的网络都是负极接地（例如您正在使用的计算机），但是并没有生锈。并且-48V内部都通过DC/DC隔离，DC/DC输出的就是负极接地，也没有看到单板腐蚀生锈。所以不论哪个极接地，都是一样的。&lt;/p&gt;
&lt;p&gt;至于设备的外壳接地（接PGND），这是出于保护性的目的，将设备上累积的电荷快速泻放到大地，从而不会损伤设备和工作人员。&lt;/p&gt;
&lt;p&gt;我们的产品基本上都是使用-48V 电源系统，一般测到的实际电压是–53.5V。这是因为出于可靠考虑， 通讯设备都带有备用电池（-48v），为了保证电池的可靠充电，供电电压需要略高于电池电压。&lt;/p&gt;
&lt;p&gt;通过媒介可能还会了解到有使用-24V电源系统的设备，这是现代一些内部设备为设计方便而使用的。一般测量到电源的输出电压26.8V。&lt;/p&gt;
&lt;p&gt;一般要求设备在电压波动范围±20%内工作正常。对-48V系统设备就是要求工作电压范围-38.4V ~ 57.6V，但是我们实际上一般要求工作范围–36V ~ -72V。主要是考虑-48V 系统设备要兼容–60V电源系统，它要求–48~ -72V。这样取合集就是就是要求工作电压范围约-36V ~ -72V。&lt;/p&gt;
&lt;p&gt;顺便提一下，-48V 电源系统只是我国和大部分国家采用的通信电源标准， 并非所有国家都使用这个标准，例如俄罗斯会使用-60V 的电源系统，还有某些国家使用-24V 的电源系统。如果产品要在这些地区销售，就要兼顾这些不同的标准。&lt;/p&gt;
&lt;p&gt;市电的标准在世界范围内也是不同的，例如我国和欧洲等采用220V 的市电系统，美国、日本等是110V 的市电。&lt;/p&gt;
&lt;p&gt;从华为的资料中找到为什么是正极接地的解释，作为补充解释：&lt;/p&gt;
&lt;p&gt;正极接地主要是为了防止电极的腐蚀。电话局蓄电池组-48V或-24V是正极接地，其原因是减少由于继电器或电缆金属外皮绝缘不良时产生的电蚀作用，使继电器和电缆金属外皮受到损坏。因为在电蚀时，金属离子在化学反应下是由正极向负极移动的。继电器线圈和铁芯之间的绝缘不良，就有小电流流过，电池组负极接地时，线圈的导线有可能蚀断。反之，如电池组正极接地，虽然铁芯也会受到电蚀，但线圈的导线不会腐蚀，铁芯的质量较大，不会招致可察觉的后果。正极接地也可以使外线电缆的芯线在绝缘不良时免受腐蚀。（注：隐含条件是继电器铁芯接地）&lt;/p&gt;</description></item><item><title>C-FOL论坛上一个关于MSTP的讨论</title><link>https://blog.fallleaf.net/p/tech-discuss-mstp-cfol/</link><pubDate>Mon, 07 Nov 2005 09:11:59 +0800</pubDate><guid>https://blog.fallleaf.net/p/tech-discuss-mstp-cfol/</guid><description>&lt;p&gt;晚上和同事用IM讨论一个软课题，顺便到[[C-FOL论坛]]上查找资料，ASON的一个“MSTP上提供三层路由的功能有用吗？ “的帖子引起了长达一年的讨 论，开始于2004年1月，目前截至于2005年月。这个帖子的讨论对我帮助很大，今天凑空把讨论的内容整理一下，留做纪念。&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;问题:MSTP上提供三层路由的功能有用吗？&lt;/p&gt;
&lt;p&gt;有的厂家在MSTP上提供三层的处理能力，有的厂家说没有需要，有的厂家在开发，大家讨论讨论，在MSTP上如果提供路由功能，可以带来什么好处呢？&lt;/p&gt;
&lt;p&gt;fol:&lt;/p&gt;
&lt;p&gt;目前我的理解，没有太多好处，反而使网络层次复杂了。这是厂家的一个热点&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;我提出这个问题来，其实自己的心中早就有了答案：那就是，随着MSTP技术的不断完善，MSTP不光会提供三层路由功能，其实更多的数据处理功能会不断的引入到MSTP上的。毕竟SDH的在那摆着，数据业务发展迅猛，MSTP一定会不断适应市场的需要，满足市场的需要的。 适者生存啊。&lt;/p&gt;
&lt;p&gt;yxy791106：&lt;/p&gt;
&lt;p&gt;好久没来灌水了，实在忙的慌～&lt;/p&gt;
&lt;p&gt;首先要对MSTP做一个定义，中国的MSTP是基于SDH的，如果把SDH作为主流技术使用，任何在MSTP上叠加的其他技术都是不可能完善的。L3是肯 定的，因为ONS15454就已经在试验了，但是如果把一个多层交换机完完全全摆上去，路由条目该做多少？用NPU还是ASIC？AAA作不作？牵涉的问 题一大堆了。&lt;/p&gt;
&lt;p&gt;从目前来看，MSTP应该继续进化，变成所谓的ISN。即Intergrate Service Node，综合服务节点，对基于SDH主流的MSTP做完全的改进，形成一个新的系统模型，完成G.709上完全的PACKET OVER FIBER。在未来的网络种，叠加传输和数据是不现实的，只有在容量上分层，技术上不可能分割。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;MSTP应用之一：以太网点到点的透明传送 SDH设备原来纯粹是用来传送TDM业务的。直到几年前，1999年左右开始有厂家把以太网的业务放到SDH的设备上去传送。这时候的SDH设备只是在物 理层上面对以太网业务做处理，起到以太网桥的作用。在以太网数据的源点，SDH设备把以太网的数据帧映射到VC里，然后在整个SDH网络上传送，在以太网 数据的目的点，SDH设备把VC里的以太网数据解出来，通过以太网的支路接口把以太网送出去。 因为这种方法比较简单，以太网的传送和普通话音业务没有什么区别，还是电路模式，所以传输部门的运维人员不需要太多的培训就可以理解，并能很快的开业务了。 这个阶段的SDH设备基本是把10M业务放到一个VC或多个的VC里进行传送的。封装的方式是八仙过海，各显神通。厂家和厂家之间以太网板卡完全无法互连 互通。直到出现了GFP，在实际测试时才有了互连互通的实例。（我个人认为，也就是在这种应用上，GFP还算是有用的。） 在点到点的传送工程中，有两种特例，值得一提。 一种是点到多点的应用， 由于话务矩阵在许多小的接入环上往往是一个中心点A，多个接入点B,C,D…，BCD等只有和A通信的交叉连接，而BCD等点之间的通信基本没有。针 对这种集中式的业务模式，有的公司开发出了一种特别的以太网板卡，用于中心节点。这个中心节点的以太网板卡可以实现点到多点的以太网终结，号称点到多点的 方向可以有16个节点之多，刚好和MSSPRING的SDH节点数量保持一致。这个中心板卡把多个BCD等点送来以太网的业务汇聚到一个以太网接口送出。 这种应用特别普遍，SDH的运维人员也好理解。我无法确认的是，这种板卡是否支持真正的L2交换的功能，很可能只是简单的电路复用/解复用。如果是真正的 L2交换的话，我觉得似乎是不用强调自己的多方向性。 一种是IP层的映射和封装 由于以太网业务里主要是IP的应用比较多，所以有的厂家干脆就提供一种额外的封装方式。这种方式的应用是这样的：在SDH网络的两端A/B，A节点上接以 太网端口，B节点上接路由器的POS接口。在B节点上，SDH设备不用做任何特别的处理，直接把POS接口来的数据业务（这些业务是封装在VC里的）放到 相应的STM-N的VC上，然后传送到A节点。A节点上，SDH设备需要做两个工作。一个工作是将从接入口来的以太网数据帧拆开，取出IP包，将IP包放 （封装，映射）到VC上传送到B点。一个工作是将从B节点来的IP包从VC中取出，然后打上以太网二层的封装，从以太网支路接口送出去。 这种方法针对IP的应用，传输时不用传送L2的开销，传输的效率比较高。针对数据应用非常方便，也绕开了SDH设备在数据上互连互通的问题。不过我好像没有听说哪里有这样的应用。&lt;/p&gt;
&lt;p&gt;tianzd：&lt;/p&gt;
&lt;p&gt;反向思维：MSTP是近两年厂家、专家炒作的热点，对新兴运营商新建数据类网络是十分有利，但对传统运营商存在很多问题，传送层面从道理上应是开放的， MSTP设备结构中ＳＤH核心部分（光、交叉）都没有实质性变化，只是各种不同的业务叠加在SDH上，变化仅在低端接口，各厂家相关协议、接口又不统一， 所以MSTP只是让人感觉不错，能支持各种业务需求，但真正在网络组网应用时觉得存在这样那样的不便。再加上目前厂家主要以透传版本为主，设备价格居高不 下，原有网络投资如何才能得到保护？目前光纤比麻绳便宜，传统SDH设备价格继续走低，只要有管线资源，带宽浪费点又有多大关系？MSTP要大量应用，个 人认为一是价格，二是标准化问题。目前MSTP上提供路由功能只是厂家的试验田，没多大意义。&lt;/p&gt;
&lt;p&gt;yxy791106：&lt;/p&gt;
&lt;p&gt;第二种特例中对L2的处理欠妥，MAC直接映射完全能做到，不必非要拆到L3。 所谓“传输时不用传送L2的开销”，纯属扯淡。没有任何一种技术能够脱离开OSI七层协议～ 综合看来，tianzd的话很有道理，基本赞同。但对于最后一句觉得值得商榷，“没有多大意义”很难讲，至少我认为，这代表了ISN的发展方向。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;首先澄清yxy791106的指出的一个错误， 我指的“传输时不用传送L2的开销”，有问题，应该是更正为：传输时，省略了MAC的源地址/目的地址，以及相应的一些以太网的L2开销。&lt;/p&gt;
&lt;p&gt;因为原来的点到点封装是IP－－》以太网帧－－》ppp－－》VC，现在的变成了IP–&amp;gt;ppp–&amp;gt;VC&lt;/p&gt;
&lt;p&gt;to tianzd：你这样想法，在搞传输的人中间十分有代表性，我原来也是这样想的。呵呵，不过希望你看完我的长篇小论后，会有一些改变。如果你能自己看看数 据 网络方面的书，估计会给我上上课呢。MSTP的物理层处理，即对SDH信号的处理肯定是100年不动摇的，但数据处理能力，如果不能做到与时俱进的话， MSTP就不叫MSTP了，那该叫SDH。&lt;/p&gt;
&lt;p&gt;yxy791106：&lt;/p&gt;
&lt;p&gt;IP–&amp;gt;ppp–&amp;gt;VC中间少了HDLC啊，HDLC是L2的，它带开销的。呵呵，估计想完全避开做不到。&lt;/p&gt;
&lt;p&gt;ASON的想法挺有意思的，当年我在CISCO培训的时候，老师的一句话给我留下至深的印象：未来的世界是IP的。这句话现在听起来或许很普通，但是当时在我这么一个刚出茅庐的学生而言，给我留下了不可磨灭的印象。&lt;/p&gt;
&lt;p&gt;现在虽然从事传输的工作，但始终没有忘记老师的话，什么东西都想往数据上靠，呵呵，结果在众传输人的口水中，我撑伞奋勇向前。&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;是啊，要在传输人的思想中灌进一点data的水，可不容易啊。&lt;/p&gt;
&lt;p&gt;bigtaildog：&lt;/p&gt;
&lt;p&gt;SON谈到的是 MSTP和数据层面的融合，MSTP和 WDM的融合，你是怎样看的呢? 如果以后，城域网都是DWDM,是不是G.709的OTN信号格式处理更加好些呢。 燕子所谈到的ISN概念，说的应是设备对多层协议融合的概念? 印象中看过Bellcore公司的一个ppt, 谈到现在的网络设备，大部分比较分离的处在各层之内，如MSPP涵盖了L1/L2层，大部分DWDM算是L1层.一些ATM/FR交换设备算是L2层，还 有路由器涵盖的是L3以上层.它们对未来设备的发展的预测是，未来的设备将体现多个层面的融合，如对应着optical packet node的设备将会出现，涵盖L3到L1层(ISN算不算)，mspp与上层和DWDM更多的融合，IP路由器与WDM的融合等等。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;MSTP的以太网交换功能 当SDH设备的提供以太网接口不再是什么新鲜的事情以后，开始有厂家玩起了新噱头，开吹MSTP，号称多业务传送平台。结果所有的传输设备厂家一起起哄， 都说自己的设备是MSTP。还有所谓新一代的MSTP之说，搞得大家一头的烟。原来信奉ITU-T标准的传输人，视韦大师的SDH著作为圣经的我等，目瞪 口呆了好一阵之后，终于只好跟上潮流，好好琢磨这个数据产品的东东了。 其实所谓的MSTP，或多或少的有以下的特点： 1) 支持以太网接口，包括E,FE,GE 2) 支持ATM接口，主要是155M速率接口，也有34M的，在电信ADSL飞速发展的背景下，这个东东或得了广泛的应用。将来在3G的网络中，数据的应用也会用到ATM接口的。 3) 支持L2的以太网交换 4) 支持一定的流控和QoS处理能力 5) 支持RPR 6) 支持L3路由和交换功能 7) 支持MPLS，或者其他更“数据”的处理功能 个人认为，如果一个SDH设备只是支持以太网业务的透明传送，叫MSTP好像是夸张了一点，怎么都在这上面的功能里选多几项啊。&lt;/p&gt;
&lt;p&gt;fallleaf：&lt;/p&gt;
&lt;p&gt;好热闹呀。我也凑个热闹。 我到觉得之所以强调MSTP，主要看中了他的保护功能。如果在IP层面的保护功能做的好，抛开SDH这层，直接IP–&amp;gt;FIBER上不就行了？&lt;/p&gt;
&lt;p&gt;ASON： 关 于MSTP和DWDM的融合，其实早在多年前，刚刚出现DWDM的时候，许多的SDH厂家提供的集成式DWDM系统，其实就是在SDH设备上改进而成 的。把光接口盘（好不容易用了传输的术语呵呵，现在我都叫光接口卡，光接口板了）换成了彩色光口的，配上无源的合波器、分波器，加上OA，一个融合的 SDH，DWDM平台就诞生了，呵呵。 这些设备在公务的处理方面可能有一些问题（无单独的OSC，或者OSC直接利用STM-N的光盘处理)，加上不够开放的缘故，所以最后电信上的基本都是开放式的DWDM了。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;如 果在城域网中，DWDM和MSTP融合的话，我觉得初步的融合技术上不是太难的事情，例如采用WDM器件和彩色光口的配合，许多厂家现在就可以提供。这 种方式也就是在点到点或链形网络上使用比较合适。如果真的要实现环形组网，让光信号在环上自由（reconfigurable或not reconfigurable）的上下，做成这样的设备，各光信号的功率需要自动，半自动的均衡，可就不那么容易了，关键是设备的价钱贵啊。&lt;/p&gt;
&lt;p&gt;tianzd：&lt;/p&gt;
&lt;p&gt;ASON 就知道你挺新潮，你发的帖子有关内容早就读过，我是最近才有时间来光世纪论坛与各位讨教。一是觉得论坛较闷，二来觉得大家技术上跟潮，于是到处点 点火。MSTP融合了数据和传输，从技术上无可厚非，只是提醒大家技术不能决定一切，运营商更关注投资效益与发展，另一方面目前的MSTP设备技术层面有 太多软肋，不成熟。ASON，不知道你有没有去了解运营商对已建SDH进行MSTP功能升级的情况。我个人认为所有的新技术运营商都跟踪关注，并不放弃应 用，但规模应用它们都很谨慎，尤其是几大运营商都已上市，要对股东负责。事实上，目前传统运营商MSTP的网络应用处于数量少、技术层次低的状态，相当一 部分应用都属于实验性的，所以，说句“目前MSTP上提供路由功能只是厂家的试验田，没多大意义”，只是反映一下目前MSTP在国内传统网络内的尴尬状 态。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;当SDH设备能够透传以太网业务以后，紧接着大家就会发现，哎呀，L2交换的功能好方便 啊，我们需要在透传的基础上把以太网二层交换的功能做到设备里去。 二层交换的原理想必大家都已经清楚了，如果不清楚的话，随便上街买本CCNA的教材读读就明白了，只要搞清楚access port，trunk port， vlan，802.1Q，spanning－tree就够用了（这些个名词的中文翻译，我也搞不好，只好用E文了，唯一知道spanning-tree的 中文名字在数学里叫最小支撑树，现在IT人都叫生成树了，呵呵）。L2交换在MSTP上的实现可以带来以下的一些好处：（未能一一尽录，恳请原谅，排名不 分先后） 1) 统计复用，可以更好地享受高带宽 以太网业务不再需要象电路模式的开通方式，不需要独占传输的带宽。现在，我们只需要利用VC构成的一个以太网的传输管道。这个传输的管道就象总线一样，所 有挂在以太网传输管道上的MSTP节点都可以互相自由的交换以太网数据帧，不需要人工的干预。在这个管道内，带宽是共享的，MSTP节点在需要传送数据的 时候才会去占用带宽，所以带宽的利用率是比较高的。（在此和tianzd讨论一下：只要有管线资源，带宽浪费一点问题有多大？ 有管线资源并不能表明就可以开业务，还需要传输设备吧，传输设备对带宽的利用率越高，相对的设备的费用不就降低了？现在运营商有丰富的传输资源，如果能够把相对富裕的传输资源提供给增长的数据业务，不是很好吗？这时候就需要MSTP啦） 2) 组网更方便 象上面提到的，点到多点的应用，如果中心点有两个点A和A’，BCD等各点需要将以太网业务传到A和A’时，透传的方式实现起来就很难看了。用二层交换的 功能，只要在A，A’，BCD等节点之间开一条VC的通道就轻易实现了。呵呵，而且A和A’点也不需要支持多个方向了，两个方向的WAN就可以把环上其他 的节点都接起来了。 3) 利用spanning－tree带来的保护功能。 有了SDH的50ms保护倒换，还需要L2的保护吗？这个东东又慢，又需要占用带宽和cpu资源。嗯，问题分成两个方面来看，如果SDH设备的带宽充足， 可以对以太网业务实现保护，那L2的以太网根本还没有发觉网络有个中断，SDH的保护都已经完成了。这种情况下，spanning－tree只是起到防止 环路发生的作用。但如果，以太网业务需要自己实现保护的时候，spanning－tree还是有用的。记得曾经某知名公司的技术人员要提出ITU-T的新 建议时，有一个草案就是和spanning－tree有关的。记得好像是说有两个交换机通过两条DWDM链路连接起来，如果中间的一条DWDM链路中断 了，这两个数据设备都无法知道中间链路出了问题（因为和交换机连的端口还是up的），那交换机就无法实现保护了，所以要提出改进建议。其实如果交换机支持 spanning－tree，并且能够正常工作的情况下，即使中间的DWDM链路断了一条，交换机是可以自己实现倒换的。时间长短决定于spanning －tree的协议和定时器。可能几秒到几十秒。&lt;/p&gt;
&lt;p&gt;提出了L2交换的好处，当然L2的坏处也要说说&lt;/p&gt;
&lt;p&gt;事实上，目前传统运营商MSTP的网络应用处于数量少、技术层次低的状态，相当一部分应用都属于实验性的，所以，说句“目前MSTP上提供路由功能只是厂家的试验田，没多大意义” 呵呵，我同意你的前半句话，后面的半句话则有保留意见。 我觉得目前MSTP网络应用少的关键原因不是技术上的，在与数据部门和传输部门的相对独立。现在很明显的是，数据业务的市场在发展，数据部门的人还倾向于 用数据设备组网，和传输部门的接口就是STM-1，如果这种情况持续下去，MSTP始终不会有大的发展。传输部门的人，因为始终没有接触数据设备或者推广 数据业务，对使用和推广数据业务的兴趣自然是不高了。 MSTP上的路由功能确实是试验田，但也可以看出是黄浦军校，是培养传输人学习和应用数据业务的好机会，从这方面说，我觉得意义很大。 如果以后成立了基础网络部，统一放号和开通业务的时候，MSTP就会大有作为了。&lt;/p&gt;
&lt;p&gt;tianzd：&lt;/p&gt;
&lt;p&gt;事实上，目前数据部门与传输部门在业务发展、网络组织上并不是相互独立，在面对客户为中心的今天，运营商各部门对综合业务的解决方案始终是有共同的兴趣。&lt;/p&gt;
&lt;p&gt;fallleaf：&lt;/p&gt;
&lt;p&gt;关键是怎么用MSTP，现在厂家总是炒概念。不如踏踏实实帮助运营商提出一个实实在在的网络方案。 现在的应用不能不让人怀疑MSTP的作用。&lt;/p&gt;
&lt;p&gt;bigtaildog：&lt;/p&gt;
&lt;p&gt;AOLS: MSTP再发展向什么方向？再测测什么东西&lt;/p&gt;
&lt;p&gt;aols 修 行: 版主&lt;/p&gt;
&lt;p&gt;MSTP再发展向什么方向？再测测什么东西 实际上是想接着ASON的东西灌水，结果总是进不了页面，只能另开了，不好意思&lt;/p&gt;
&lt;p&gt;2002年，传输所受中国移动委托测试了城域网设备：MSTP和OADM，共有17家厂商参加了测试，初步验证了SDH上支持以太网的数据能力（透传、二 层交换、环网等）；2003年中国电信北京研究院组织了16家厂商进行了长达3个多月的MSTP测试，根据SDH性能、以太网、ATM、网管、互联互通 （VCAT/GFP和LCAS）等几方面的结果，做了综合的排名，实现了多个厂家基于GFP映射的虚级联互通、LCAS互通；最近又听说传输所又在测试 MSTP，不知会测出什么新的结果？内嵌RPR，还是Martini MPLS功能？进行了这么多的测试，也有很多专家预言了其发展方向，可现在省内城域网的建设MSTP真的发挥了多少其多业务节点的特性，建设中MSTP在 网络的运营维护中是如何管理的？（数据网管还是传输网管）应用的问题还没有呈现的特别明显&lt;/p&gt;
&lt;p&gt;fallleaf：&lt;/p&gt;
&lt;p&gt;年初是中国移动搞测试，现在还没完。到月底会有一个测试结果。传输网的建设思路也会出来。&lt;/p&gt;
&lt;p&gt;ASON：&lt;/p&gt;
&lt;p&gt;有了L2的交换功能，我认为MSTP还不具备开展大规模以太网业务的能力，其原因当然是受到了L2交换的一些限制，其具体表现在： 1) VLAN的数目限制 根据802.1Q的标准，VLAN最大的数量是4096个。这个数量完全无法满足运营商运营的要求。所以许多的厂家提出了改进的方法，主要的思想就是在 802.1q的以太网帧上面加多一个标签。增加了一个标签，VLAN的数量可以大大的增加，运营商使用起来也更加的方便。而且原来的VLAN标签可以让给 最终用户使用。但标签的加法，各厂家又不一样了。有的厂家直接在802.1Q的帧上再打一个802.1Q的标签，简称QinQ，或标签堆栈。有的厂家自己 开发一个标签。有的厂家号称采用MPLS的方法来解决，因为MPLS的标签也是放在二层的帧里的。（呵呵，大家看到了吧，到了这一步，GFP的用处还有多 大呢？因为各厂家的二层处理完全不同，GFP也只能是在透传的时候保证互连互通。另外我对某些厂家号称的MPLS持保留态度。我怀疑他们所谓MPLS只不 过是QinQ的一个变种。真正的MPLS是基于标签做转发的，并且转发的时候目的mac地址是会变的。QinQ是基于Mac地址做转发的，转发的时候目的 mac是不变的。呵呵） 2) MAC地址表的容量限制 这个不用多说了，张成良大师的ppt里已经讲得很清楚了。L2交换是通过交换机（或者说是MSTP里的L2交换模块）里的一个MAC寻址表工作的。维护这 个表需要经常发广播包，转发以太网帧，也需要这个表去对应目的mac地址和转发的端口。一个交换机的典型MAC寻址容量是几k到几十k，纯L2交换并不能 完全满足大规模部署以太网业务的需要。 3) 网络组网没有层次，不具备可扩展性 L2的交换是一个非常扁平的网络，在大规模使用时，如果不与路由设备相结合，会遇到较多的困难。 4) 共享带宽不均衡的限制 在L2的交换过程中，如果没有QoS的保障，会出现离目的地远的交换机所能占用的带宽会被较近的交换机挤占的现象。这时，网络的规划显得非常重要。一个是 利用不同的VLAN和spanning－tree，尽量将业务分流。在VC传输管道上也需要考虑是安排多一点的带宽，还是干脆就将以太网业务放到不同的管 道里去传。或者通过QoS策略，保证每个节点的应有带宽。 fallleaf：&lt;/p&gt;
&lt;p&gt;ASON所说的总感觉是就技术谈技术，没有结合实际情况。有些一厢情愿&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;当年搞载波机的人对搞PDH的人说：“一根光纤传这么多路电话，如果断了怎么办。” 当年搞PDH的人对搞SDH的人说：“你这155M还没有我140M传的话路多，我用不着交叉连接，有DDF，调电路更方便。” 当年搞SDH的人对搞MSTP的人说：“。。。。。。” 让不远的将来来说吧，呵呵&lt;/p&gt;
&lt;p&gt;fallleaf，呵呵，如果真有实际的情况，你不妨放一个上来，让大家都讨论讨论吧。这里高手如云，大家没准各出奇招呢。&lt;/p&gt;
&lt;p&gt;fallleaf:&lt;/p&gt;
&lt;p&gt;问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。其他功能还有什么用。&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;呵呵，其实好多中小城市的数据网其实是可以以MSTP为主，构成数据城域网的。关键是这些MSTP需要解决纯L2交换的一些局限，如我上文所说。在城域网的接入和汇聚层，MSTP有许多应用的机会。&lt;/p&gt;
&lt;p&gt;关键是，现在负责建设数据城域网的是数据部门，不是传输部门，所以MSTP没有用武之地啊。从这个方面讲，设计部门更应该及早了解MSTP的数据处理能力，在设计网络的时候能够统一考虑，提出综合的网络设计方案。&lt;/p&gt;
&lt;p&gt;问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。&lt;/p&gt;
&lt;p&gt;透传的以太网业务是干什么用的？MSTP可以凭借自己强大的数据处理功能，在需要处理以太网业务的地方发挥自己应有的作用的。&lt;/p&gt;
&lt;p&gt;另外，透传也要好好研究，有在物理层的映射，这叫透传。还有二层的QinQ，以太网业务也可以透传，甚至在三层的Ethernet over MPLS，也是透传。呵呵，如果MSTP能够做到Ethernet over MPLS，那用它来组数据城域网还有什么不可以的？&lt;/p&gt;
&lt;p&gt;tianzd:&lt;/p&gt;
&lt;p&gt;问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。&lt;/p&gt;
&lt;p&gt;这句话很对。目前大多数厂家MSTP设备没有解决以太网保护方式和保护倒换准则如二层交换保护（STP保护）、以太环网保护、ATM VP RING支持等等，二层交换实际处于研发或试用状态。为什么会主要使用路由器＋E1/POS接入、路由器＋光纤直连等方式（自然是MSTP、SDH、PDH、微波、光纤直连、光纤拉远等手段都使用）进行数据业务接入，不是传输或数据部门的技术观念问题，你说谁愿意用落后的技术？在用网络改造可比新建困难的多，除 了投资汇报等因素外，应该说现阶段MSTP设备在标准、产品上都与实际应用有差距，希望MSTP研发人员转换观念，深入实际应用，作为厂家、专家不要为MSTP而MSTP，光顾着炒作，要充分理解实际网络所需要的解决方案，理解MSTP STM－64、MSTP－16、STM－4/1实现的功能要求也是不一样的，需要它们的系统性（希望对此有高见：核心、汇聚、接入是不同的要求），以便充分利用MSTP强大的数据功能组网处理数据业务。&lt;/p&gt;
&lt;p&gt;关于传输所MSTP测试问题：应该是验证各厂家设备数据功能的实际所用技术、能力，并没有综合排名之说。 按MSTP设备目前状态，数据与传送网管只能各管各的。 所有运营商当然希望原有SDH进行MSTP功能升级后就能解决所有数据业务问题。只是目前设备性能不怎么样，价格却不低。&lt;/p&gt;
&lt;p&gt;谢fallleaf！！！个人认为新建的小网络使用MSTP无可厚非，希望能有大网络特别是综合网络实例验证MSTP的组网功能。咱们关注新技术，不迷信新技术。 回头看：朗讯94—96力推DXC，从中国电信捞了不少票子，可实际上DDF一个也不少，更可怜的是连千年虫问题时也需付美金请老外站在DXC旁来软件升级。&lt;/p&gt;
&lt;p&gt;ASON:&lt;/p&gt;
&lt;p&gt;只是目前设备性能不怎么样，价格却不低。&lt;/p&gt;
&lt;p&gt;呵呵，我觉得这句话也许道出了MSTP目前所面临的问题。另外，对于数据应用来说，我觉得MSTP也就是应用在接入层和汇聚层，核心层的数据设备还是需要 专门的交换机和路由器的。如果定位在接入和汇聚层，MSTP的接口速率应该是622M，2.5G这个水平。如果是局间的数据业务高速透传，可能需要用到 10G的SDH设备来传送高速的数据业务，但不需要MSTP来处理了。155M级别的SDH设备，传传低速的以太网业务就可以了，哈哈，没必要再搞什么特 别的东东在上面了。&lt;/p&gt;
&lt;p&gt;yxy791106:&lt;/p&gt;
&lt;p&gt;注意看，首先，VPN之间的互通的MPLS-VPN可以由MSTP完成，但在目前，注意！是目前！对于MPLS-VPN的实现不可能单独依赖MSTP，毕竟，MSTP的能力没有这么强。&lt;/p&gt;
&lt;p&gt;但是，假如个别的专网用户，要求大带宽，但是它们的路由策略又非常简单（比如仅仅若干条静态路由即可解决问题），比如这个例子里面的VPNA和B，这时在MSTP上叠加L3就是件好事情。我1个MSTP就OK了。而且直接纳入了电信的传输网，管理非常方便。&lt;/p&gt;
&lt;p&gt;另外更正一些基本错误，ASON说的：“EthernetoverMPLS”，通常认为是L2的MPLS-VPN，挂不上L3。CISCO官方的标准说法是：EOM为L2，ATOM是L3。&lt;/p&gt;
&lt;p&gt;非常欣赏ASON兄弟的言论，希望进一步深入讨论。我前面说过了，我是个数据爱好者，什么东西都往那里想，不妨交个朋友，可以短消息给我，呵呵。&lt;/p&gt;
&lt;p&gt;fallleaf:&lt;/p&gt;
&lt;p&gt;呵呵，外出一天，回来一看很热闹。 我站在tianzd一边，不过好像这边的人少了些。&lt;/p&gt;
&lt;p&gt;我提个另外的建议，既然这么看重数据功能，不如在数据设备上增加传输的功能，这样不比在传输设备上增加数据功能更简单些？呵呵，纯属玩笑。&lt;/p&gt;
&lt;p&gt;yxy791106:&lt;/p&gt;
&lt;p&gt;原因有2。&lt;/p&gt;
&lt;p&gt;1是在数据设备上做传输口比传输上做数据口贵多了，比较一下ROUTER上的E1和POS，和SDH上的ETHERNET口，你就会得出结论。&lt;/p&gt;
&lt;p&gt;2是处理能力。相对于数据设备，SDH内部结构简单，芯片的功能比较单一。而ROUTER里面数据的策略太对，常常要通过ASIC阵列和NPU来进行处理，这对于SDH来说太昂贵而且不合算。这个问题以前ZTE的总工陈伟专门做过澄清。&lt;/p&gt;
&lt;p&gt;tianzd:&lt;/p&gt;
&lt;p&gt;下午3点出差回来，发现这里很冷清。数据设备不做传输口主要是设备供应商传输、数据研发是两条线，单纯从技术面在数据侧提供传输口并不复杂，数据侧要不就 不愿做或提供则价格很高，主要是传输价格低。分析传输价格低的原因首先传输技术这些年进展快，设备是一波推一波，其次传输属于基础网，运营商随时可以更换 传输厂家，而数据、移动通信等属于一旦上了贼船就只能跟船走。&lt;/p&gt;
&lt;p&gt;bigtaildog:&lt;/p&gt;
&lt;p&gt;tianzd,ASON,fallleaf,燕子都是实际经验丰富的人，而且不吝笔墨，奉献了这么一场精彩的讨论，上次类似这么好的讨论好象是关于FTTH的。&lt;/p&gt;
&lt;p&gt;做为听众，我受益很多。讨论一方面涉及到MSTP的数据业务功能的走向，一方面涉及到MSTP如何引入，最后的话题似乎与传输设备和数据设备的定位有些关系。&lt;/p&gt;
&lt;p&gt;摘录网通的唐雄燕的一些观点，和讨论中一些观点很切合。&lt;/p&gt;
&lt;p&gt;关于MSTP的定位:&lt;/p&gt;
&lt;p&gt;1)MSTP技术主要定位在城域网的汇聚层与接入层，利用MSTP实现城域网接入层和汇聚层实现传送网与业务网的“合网建设”，这种方式特别适合应用在以TDM业务为主、同时需要提供以太网业务及ATM业务的网络环境中。&lt;/p&gt;
&lt;p&gt;2)要正确处理传送网与业务网的关系。MSTP主要是为业务网提供接入与延伸手段，而不是完全替代业务网. 3)MSTP技术虽然实现了多种接入方式的综合，能够完成TDM业务、以太网业务和ATM业务等多种业务的综合接入和传送，但是对于单一业务，例如以太网业务，其性价比显然不如专用的以太网交换机，MSTP并非某单个业务接入的最佳解决方案。&lt;/p&gt;
&lt;p&gt;MSTP的引入:&lt;/p&gt;
&lt;p&gt;1)对于MSTP技术的引入，关键问题是如何处理好传送网与业务网的关系。从本质上讲，MSTP定位于城域传送网范畴，主要目的是实现多业务的综合传送，其较完善的二层交换等数据链路层功能也仅仅是为了提高数据业务的传送效率&lt;/p&gt;
&lt;p&gt;2)引入MSTP与现行网络维护和业务管理体制存在矛盾。传统的网络运行维护和业务管理是按专业划分的，数据网络和传输网络通常由不同的部门管理，各个网络也有自己相对独立的网管系统，这种管理模式会对MSTP的引入产生一定的障碍。&lt;/p&gt;
&lt;p&gt;3)引入时应充分考虑与城域IP网、本地SDH网的统筹规划,&lt;/p&gt;
&lt;p&gt;tianzd:&lt;/p&gt;
&lt;p&gt;MSTP现象：&lt;/p&gt;
&lt;p&gt;1、专家、厂家推动多，运营商应用少。特别是试用多，规模商用少。 2、新兴运营商的网络应用多，主流运营商网络应用少。因为业务总量、种类需求不一样。 3、专家、厂家倡导技术走向，文章多（大同小异），运营商只是关注技术走向，注重网络综合效果、设备性价比、投资回报等等，文章自然少。 4、运营商传输的希望多应用（如我等），数据的说用MSTP投资高，网络的业务管理等功能、可维护性还不如数据设备。 各位大侠，能否提供各主流厂商MSTP规模应用的实例（网络的网元数量超100，设备具备主要的MSTP功能，最好有RPR、MPLS）&lt;/p&gt;</description></item></channel></rss>