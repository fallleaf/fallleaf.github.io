<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="晚上和同事用IM讨论一个软课题，顺便到[[C-FOL论坛]]上查找资料，ASON的一个“MSTP上提供三层路由的功能有用吗？ “的帖子引起了长达一年的讨 论，开始于2004年1月，目前截至于2005年月。这个帖子的讨论对我帮助很大，今天凑空把讨论的内容整理一下，留做纪念。\n">
<title>C-FOL论坛上一个关于MSTP的讨论</title>

<link rel='canonical' href='https://blog.fallleaf.net/p/tech-discuss-mstp-cfol/'>

<link rel="stylesheet" href="/scss/style.min.d853033c7a335efe8ff4e071a72b01404da960b5f183f6db8d0d5af37a44e3f0.css"><meta property='og:title' content="C-FOL论坛上一个关于MSTP的讨论">
<meta property='og:description' content="晚上和同事用IM讨论一个软课题，顺便到[[C-FOL论坛]]上查找资料，ASON的一个“MSTP上提供三层路由的功能有用吗？ “的帖子引起了长达一年的讨 论，开始于2004年1月，目前截至于2005年月。这个帖子的讨论对我帮助很大，今天凑空把讨论的内容整理一下，留做纪念。\n">
<meta property='og:url' content='https://blog.fallleaf.net/p/tech-discuss-mstp-cfol/'>
<meta property='og:site_name' content='Reading, Thinking and Writing'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='MSTP' /><meta property='article:tag' content='C-FOL' /><meta property='article:published_time' content='2005-11-07T09:11:59&#43;08:00'/><meta property='article:modified_time' content='2023-07-30T09:11:59&#43;08:00'/>
<meta name="twitter:title" content="C-FOL论坛上一个关于MSTP的讨论">
<meta name="twitter:description" content="晚上和同事用IM讨论一个软课题，顺便到[[C-FOL论坛]]上查找资料，ASON的一个“MSTP上提供三层路由的功能有用吗？ “的帖子引起了长达一年的讨 论，开始于2004年1月，目前截至于2005年月。这个帖子的讨论对我帮助很大，今天凑空把讨论的内容整理一下，留做纪念。\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_5644df797013a54f.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🍥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Reading, Thinking and Writing</a></h1>
            <h2 class="site-description">我是一颗蛋，一颗红旗下的蛋</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>主页</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>存档</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>标签</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        
        <li >
            <a href='/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>友情链接</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>深色模式</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/tech/" >
                技术与实践
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/tech-discuss-mstp-cfol/">C-FOL论坛上一个关于MSTP的讨论</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published" datetime='2005-11-07T09:11:59&#43;08:00'>2005年11月7日</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 23 分钟
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p>晚上和同事用IM讨论一个软课题，顺便到[[C-FOL论坛]]上查找资料，ASON的一个“MSTP上提供三层路由的功能有用吗？ “的帖子引起了长达一年的讨 论，开始于2004年1月，目前截至于2005年月。这个帖子的讨论对我帮助很大，今天凑空把讨论的内容整理一下，留做纪念。</p>
<p>ASON:</p>
<p>问题:MSTP上提供三层路由的功能有用吗？</p>
<p>有的厂家在MSTP上提供三层的处理能力，有的厂家说没有需要，有的厂家在开发，大家讨论讨论，在MSTP上如果提供路由功能，可以带来什么好处呢？</p>
<p>fol:</p>
<p>目前我的理解，没有太多好处，反而使网络层次复杂了。这是厂家的一个热点</p>
<p>ASON:</p>
<p>我提出这个问题来，其实自己的心中早就有了答案：那就是，随着MSTP技术的不断完善，MSTP不光会提供三层路由功能，其实更多的数据处理功能会不断的引入到MSTP上的。毕竟SDH的在那摆着，数据业务发展迅猛，MSTP一定会不断适应市场的需要，满足市场的需要的。 适者生存啊。</p>
<p>yxy791106：</p>
<p>好久没来灌水了，实在忙的慌～</p>
<p>首先要对MSTP做一个定义，中国的MSTP是基于SDH的，如果把SDH作为主流技术使用，任何在MSTP上叠加的其他技术都是不可能完善的。L3是肯 定的，因为ONS15454就已经在试验了，但是如果把一个多层交换机完完全全摆上去，路由条目该做多少？用NPU还是ASIC？AAA作不作？牵涉的问 题一大堆了。</p>
<p>从目前来看，MSTP应该继续进化，变成所谓的ISN。即Intergrate Service Node，综合服务节点，对基于SDH主流的MSTP做完全的改进，形成一个新的系统模型，完成G.709上完全的PACKET OVER FIBER。在未来的网络种，叠加传输和数据是不现实的，只有在容量上分层，技术上不可能分割。</p>
<p>ASON：</p>
<p>MSTP应用之一：以太网点到点的透明传送 SDH设备原来纯粹是用来传送TDM业务的。直到几年前，1999年左右开始有厂家把以太网的业务放到SDH的设备上去传送。这时候的SDH设备只是在物 理层上面对以太网业务做处理，起到以太网桥的作用。在以太网数据的源点，SDH设备把以太网的数据帧映射到VC里，然后在整个SDH网络上传送，在以太网 数据的目的点，SDH设备把VC里的以太网数据解出来，通过以太网的支路接口把以太网送出去。 因为这种方法比较简单，以太网的传送和普通话音业务没有什么区别，还是电路模式，所以传输部门的运维人员不需要太多的培训就可以理解，并能很快的开业务了。 这个阶段的SDH设备基本是把10M业务放到一个VC或多个的VC里进行传送的。封装的方式是八仙过海，各显神通。厂家和厂家之间以太网板卡完全无法互连 互通。直到出现了GFP，在实际测试时才有了互连互通的实例。（我个人认为，也就是在这种应用上，GFP还算是有用的。） 在点到点的传送工程中，有两种特例，值得一提。 一种是点到多点的应用， 由于话务矩阵在许多小的接入环上往往是一个中心点A，多个接入点B,C,D…，BCD等只有和A通信的交叉连接，而BCD等点之间的通信基本没有。针 对这种集中式的业务模式，有的公司开发出了一种特别的以太网板卡，用于中心节点。这个中心节点的以太网板卡可以实现点到多点的以太网终结，号称点到多点的 方向可以有16个节点之多，刚好和MSSPRING的SDH节点数量保持一致。这个中心板卡把多个BCD等点送来以太网的业务汇聚到一个以太网接口送出。 这种应用特别普遍，SDH的运维人员也好理解。我无法确认的是，这种板卡是否支持真正的L2交换的功能，很可能只是简单的电路复用/解复用。如果是真正的 L2交换的话，我觉得似乎是不用强调自己的多方向性。 一种是IP层的映射和封装 由于以太网业务里主要是IP的应用比较多，所以有的厂家干脆就提供一种额外的封装方式。这种方式的应用是这样的：在SDH网络的两端A/B，A节点上接以 太网端口，B节点上接路由器的POS接口。在B节点上，SDH设备不用做任何特别的处理，直接把POS接口来的数据业务（这些业务是封装在VC里的）放到 相应的STM-N的VC上，然后传送到A节点。A节点上，SDH设备需要做两个工作。一个工作是将从接入口来的以太网数据帧拆开，取出IP包，将IP包放 （封装，映射）到VC上传送到B点。一个工作是将从B节点来的IP包从VC中取出，然后打上以太网二层的封装，从以太网支路接口送出去。 这种方法针对IP的应用，传输时不用传送L2的开销，传输的效率比较高。针对数据应用非常方便，也绕开了SDH设备在数据上互连互通的问题。不过我好像没有听说哪里有这样的应用。</p>
<p>tianzd：</p>
<p>反向思维：MSTP是近两年厂家、专家炒作的热点，对新兴运营商新建数据类网络是十分有利，但对传统运营商存在很多问题，传送层面从道理上应是开放的， MSTP设备结构中ＳＤH核心部分（光、交叉）都没有实质性变化，只是各种不同的业务叠加在SDH上，变化仅在低端接口，各厂家相关协议、接口又不统一， 所以MSTP只是让人感觉不错，能支持各种业务需求，但真正在网络组网应用时觉得存在这样那样的不便。再加上目前厂家主要以透传版本为主，设备价格居高不 下，原有网络投资如何才能得到保护？目前光纤比麻绳便宜，传统SDH设备价格继续走低，只要有管线资源，带宽浪费点又有多大关系？MSTP要大量应用，个 人认为一是价格，二是标准化问题。目前MSTP上提供路由功能只是厂家的试验田，没多大意义。</p>
<p>yxy791106：</p>
<p>第二种特例中对L2的处理欠妥，MAC直接映射完全能做到，不必非要拆到L3。 所谓“传输时不用传送L2的开销”，纯属扯淡。没有任何一种技术能够脱离开OSI七层协议～ 综合看来，tianzd的话很有道理，基本赞同。但对于最后一句觉得值得商榷，“没有多大意义”很难讲，至少我认为，这代表了ISN的发展方向。</p>
<p>ASON：</p>
<p>首先澄清yxy791106的指出的一个错误， 我指的“传输时不用传送L2的开销”，有问题，应该是更正为：传输时，省略了MAC的源地址/目的地址，以及相应的一些以太网的L2开销。</p>
<p>因为原来的点到点封装是IP－－》以太网帧－－》ppp－－》VC，现在的变成了IP–&gt;ppp–&gt;VC</p>
<p>to tianzd：你这样想法，在搞传输的人中间十分有代表性，我原来也是这样想的。呵呵，不过希望你看完我的长篇小论后，会有一些改变。如果你能自己看看数 据 网络方面的书，估计会给我上上课呢。MSTP的物理层处理，即对SDH信号的处理肯定是100年不动摇的，但数据处理能力，如果不能做到与时俱进的话， MSTP就不叫MSTP了，那该叫SDH。</p>
<p>yxy791106：</p>
<p>IP–&gt;ppp–&gt;VC中间少了HDLC啊，HDLC是L2的，它带开销的。呵呵，估计想完全避开做不到。</p>
<p>ASON的想法挺有意思的，当年我在CISCO培训的时候，老师的一句话给我留下至深的印象：未来的世界是IP的。这句话现在听起来或许很普通，但是当时在我这么一个刚出茅庐的学生而言，给我留下了不可磨灭的印象。</p>
<p>现在虽然从事传输的工作，但始终没有忘记老师的话，什么东西都想往数据上靠，呵呵，结果在众传输人的口水中，我撑伞奋勇向前。</p>
<p>ASON:</p>
<p>是啊，要在传输人的思想中灌进一点data的水，可不容易啊。</p>
<p>bigtaildog：</p>
<p>SON谈到的是 MSTP和数据层面的融合，MSTP和 WDM的融合，你是怎样看的呢? 如果以后，城域网都是DWDM,是不是G.709的OTN信号格式处理更加好些呢。 燕子所谈到的ISN概念，说的应是设备对多层协议融合的概念? 印象中看过Bellcore公司的一个ppt, 谈到现在的网络设备，大部分比较分离的处在各层之内，如MSPP涵盖了L1/L2层，大部分DWDM算是L1层.一些ATM/FR交换设备算是L2层，还 有路由器涵盖的是L3以上层.它们对未来设备的发展的预测是，未来的设备将体现多个层面的融合，如对应着optical packet node的设备将会出现，涵盖L3到L1层(ISN算不算)，mspp与上层和DWDM更多的融合，IP路由器与WDM的融合等等。</p>
<p>ASON：</p>
<p>MSTP的以太网交换功能 当SDH设备的提供以太网接口不再是什么新鲜的事情以后，开始有厂家玩起了新噱头，开吹MSTP，号称多业务传送平台。结果所有的传输设备厂家一起起哄， 都说自己的设备是MSTP。还有所谓新一代的MSTP之说，搞得大家一头的烟。原来信奉ITU-T标准的传输人，视韦大师的SDH著作为圣经的我等，目瞪 口呆了好一阵之后，终于只好跟上潮流，好好琢磨这个数据产品的东东了。 其实所谓的MSTP，或多或少的有以下的特点： 1) 支持以太网接口，包括E,FE,GE 2) 支持ATM接口，主要是155M速率接口，也有34M的，在电信ADSL飞速发展的背景下，这个东东或得了广泛的应用。将来在3G的网络中，数据的应用也会用到ATM接口的。 3) 支持L2的以太网交换 4) 支持一定的流控和QoS处理能力 5) 支持RPR 6) 支持L3路由和交换功能 7) 支持MPLS，或者其他更“数据”的处理功能 个人认为，如果一个SDH设备只是支持以太网业务的透明传送，叫MSTP好像是夸张了一点，怎么都在这上面的功能里选多几项啊。</p>
<p>fallleaf：</p>
<p>好热闹呀。我也凑个热闹。 我到觉得之所以强调MSTP，主要看中了他的保护功能。如果在IP层面的保护功能做的好，抛开SDH这层，直接IP–&gt;FIBER上不就行了？</p>
<p>ASON： 关 于MSTP和DWDM的融合，其实早在多年前，刚刚出现DWDM的时候，许多的SDH厂家提供的集成式DWDM系统，其实就是在SDH设备上改进而成 的。把光接口盘（好不容易用了传输的术语呵呵，现在我都叫光接口卡，光接口板了）换成了彩色光口的，配上无源的合波器、分波器，加上OA，一个融合的 SDH，DWDM平台就诞生了，呵呵。 这些设备在公务的处理方面可能有一些问题（无单独的OSC，或者OSC直接利用STM-N的光盘处理)，加上不够开放的缘故，所以最后电信上的基本都是开放式的DWDM了。</p>
<p>ASON：</p>
<p>如 果在城域网中，DWDM和MSTP融合的话，我觉得初步的融合技术上不是太难的事情，例如采用WDM器件和彩色光口的配合，许多厂家现在就可以提供。这 种方式也就是在点到点或链形网络上使用比较合适。如果真的要实现环形组网，让光信号在环上自由（reconfigurable或not reconfigurable）的上下，做成这样的设备，各光信号的功率需要自动，半自动的均衡，可就不那么容易了，关键是设备的价钱贵啊。</p>
<p>tianzd：</p>
<p>ASON 就知道你挺新潮，你发的帖子有关内容早就读过，我是最近才有时间来光世纪论坛与各位讨教。一是觉得论坛较闷，二来觉得大家技术上跟潮，于是到处点 点火。MSTP融合了数据和传输，从技术上无可厚非，只是提醒大家技术不能决定一切，运营商更关注投资效益与发展，另一方面目前的MSTP设备技术层面有 太多软肋，不成熟。ASON，不知道你有没有去了解运营商对已建SDH进行MSTP功能升级的情况。我个人认为所有的新技术运营商都跟踪关注，并不放弃应 用，但规模应用它们都很谨慎，尤其是几大运营商都已上市，要对股东负责。事实上，目前传统运营商MSTP的网络应用处于数量少、技术层次低的状态，相当一 部分应用都属于实验性的，所以，说句“目前MSTP上提供路由功能只是厂家的试验田，没多大意义”，只是反映一下目前MSTP在国内传统网络内的尴尬状 态。</p>
<p>ASON：</p>
<p>当SDH设备能够透传以太网业务以后，紧接着大家就会发现，哎呀，L2交换的功能好方便 啊，我们需要在透传的基础上把以太网二层交换的功能做到设备里去。 二层交换的原理想必大家都已经清楚了，如果不清楚的话，随便上街买本CCNA的教材读读就明白了，只要搞清楚access port，trunk port， vlan，802.1Q，spanning－tree就够用了（这些个名词的中文翻译，我也搞不好，只好用E文了，唯一知道spanning-tree的 中文名字在数学里叫最小支撑树，现在IT人都叫生成树了，呵呵）。L2交换在MSTP上的实现可以带来以下的一些好处：（未能一一尽录，恳请原谅，排名不 分先后） 1) 统计复用，可以更好地享受高带宽 以太网业务不再需要象电路模式的开通方式，不需要独占传输的带宽。现在，我们只需要利用VC构成的一个以太网的传输管道。这个传输的管道就象总线一样，所 有挂在以太网传输管道上的MSTP节点都可以互相自由的交换以太网数据帧，不需要人工的干预。在这个管道内，带宽是共享的，MSTP节点在需要传送数据的 时候才会去占用带宽，所以带宽的利用率是比较高的。（在此和tianzd讨论一下：只要有管线资源，带宽浪费一点问题有多大？ 有管线资源并不能表明就可以开业务，还需要传输设备吧，传输设备对带宽的利用率越高，相对的设备的费用不就降低了？现在运营商有丰富的传输资源，如果能够把相对富裕的传输资源提供给增长的数据业务，不是很好吗？这时候就需要MSTP啦） 2) 组网更方便 象上面提到的，点到多点的应用，如果中心点有两个点A和A’，BCD等各点需要将以太网业务传到A和A’时，透传的方式实现起来就很难看了。用二层交换的 功能，只要在A，A’，BCD等节点之间开一条VC的通道就轻易实现了。呵呵，而且A和A’点也不需要支持多个方向了，两个方向的WAN就可以把环上其他 的节点都接起来了。 3) 利用spanning－tree带来的保护功能。 有了SDH的50ms保护倒换，还需要L2的保护吗？这个东东又慢，又需要占用带宽和cpu资源。嗯，问题分成两个方面来看，如果SDH设备的带宽充足， 可以对以太网业务实现保护，那L2的以太网根本还没有发觉网络有个中断，SDH的保护都已经完成了。这种情况下，spanning－tree只是起到防止 环路发生的作用。但如果，以太网业务需要自己实现保护的时候，spanning－tree还是有用的。记得曾经某知名公司的技术人员要提出ITU-T的新 建议时，有一个草案就是和spanning－tree有关的。记得好像是说有两个交换机通过两条DWDM链路连接起来，如果中间的一条DWDM链路中断 了，这两个数据设备都无法知道中间链路出了问题（因为和交换机连的端口还是up的），那交换机就无法实现保护了，所以要提出改进建议。其实如果交换机支持 spanning－tree，并且能够正常工作的情况下，即使中间的DWDM链路断了一条，交换机是可以自己实现倒换的。时间长短决定于spanning －tree的协议和定时器。可能几秒到几十秒。</p>
<p>提出了L2交换的好处，当然L2的坏处也要说说</p>
<p>事实上，目前传统运营商MSTP的网络应用处于数量少、技术层次低的状态，相当一部分应用都属于实验性的，所以，说句“目前MSTP上提供路由功能只是厂家的试验田，没多大意义” 呵呵，我同意你的前半句话，后面的半句话则有保留意见。 我觉得目前MSTP网络应用少的关键原因不是技术上的，在与数据部门和传输部门的相对独立。现在很明显的是，数据业务的市场在发展，数据部门的人还倾向于 用数据设备组网，和传输部门的接口就是STM-1，如果这种情况持续下去，MSTP始终不会有大的发展。传输部门的人，因为始终没有接触数据设备或者推广 数据业务，对使用和推广数据业务的兴趣自然是不高了。 MSTP上的路由功能确实是试验田，但也可以看出是黄浦军校，是培养传输人学习和应用数据业务的好机会，从这方面说，我觉得意义很大。 如果以后成立了基础网络部，统一放号和开通业务的时候，MSTP就会大有作为了。</p>
<p>tianzd：</p>
<p>事实上，目前数据部门与传输部门在业务发展、网络组织上并不是相互独立，在面对客户为中心的今天，运营商各部门对综合业务的解决方案始终是有共同的兴趣。</p>
<p>fallleaf：</p>
<p>关键是怎么用MSTP，现在厂家总是炒概念。不如踏踏实实帮助运营商提出一个实实在在的网络方案。 现在的应用不能不让人怀疑MSTP的作用。</p>
<p>bigtaildog：</p>
<p>AOLS: MSTP再发展向什么方向？再测测什么东西</p>
<p>aols 修 行: 版主</p>
<p>MSTP再发展向什么方向？再测测什么东西 实际上是想接着ASON的东西灌水，结果总是进不了页面，只能另开了，不好意思</p>
<p>2002年，传输所受中国移动委托测试了城域网设备：MSTP和OADM，共有17家厂商参加了测试，初步验证了SDH上支持以太网的数据能力（透传、二 层交换、环网等）；2003年中国电信北京研究院组织了16家厂商进行了长达3个多月的MSTP测试，根据SDH性能、以太网、ATM、网管、互联互通 （VCAT/GFP和LCAS）等几方面的结果，做了综合的排名，实现了多个厂家基于GFP映射的虚级联互通、LCAS互通；最近又听说传输所又在测试 MSTP，不知会测出什么新的结果？内嵌RPR，还是Martini MPLS功能？进行了这么多的测试，也有很多专家预言了其发展方向，可现在省内城域网的建设MSTP真的发挥了多少其多业务节点的特性，建设中MSTP在 网络的运营维护中是如何管理的？（数据网管还是传输网管）应用的问题还没有呈现的特别明显</p>
<p>fallleaf：</p>
<p>年初是中国移动搞测试，现在还没完。到月底会有一个测试结果。传输网的建设思路也会出来。</p>
<p>ASON：</p>
<p>有了L2的交换功能，我认为MSTP还不具备开展大规模以太网业务的能力，其原因当然是受到了L2交换的一些限制，其具体表现在： 1) VLAN的数目限制 根据802.1Q的标准，VLAN最大的数量是4096个。这个数量完全无法满足运营商运营的要求。所以许多的厂家提出了改进的方法，主要的思想就是在 802.1q的以太网帧上面加多一个标签。增加了一个标签，VLAN的数量可以大大的增加，运营商使用起来也更加的方便。而且原来的VLAN标签可以让给 最终用户使用。但标签的加法，各厂家又不一样了。有的厂家直接在802.1Q的帧上再打一个802.1Q的标签，简称QinQ，或标签堆栈。有的厂家自己 开发一个标签。有的厂家号称采用MPLS的方法来解决，因为MPLS的标签也是放在二层的帧里的。（呵呵，大家看到了吧，到了这一步，GFP的用处还有多 大呢？因为各厂家的二层处理完全不同，GFP也只能是在透传的时候保证互连互通。另外我对某些厂家号称的MPLS持保留态度。我怀疑他们所谓MPLS只不 过是QinQ的一个变种。真正的MPLS是基于标签做转发的，并且转发的时候目的mac地址是会变的。QinQ是基于Mac地址做转发的，转发的时候目的 mac是不变的。呵呵） 2) MAC地址表的容量限制 这个不用多说了，张成良大师的ppt里已经讲得很清楚了。L2交换是通过交换机（或者说是MSTP里的L2交换模块）里的一个MAC寻址表工作的。维护这 个表需要经常发广播包，转发以太网帧，也需要这个表去对应目的mac地址和转发的端口。一个交换机的典型MAC寻址容量是几k到几十k，纯L2交换并不能 完全满足大规模部署以太网业务的需要。 3) 网络组网没有层次，不具备可扩展性 L2的交换是一个非常扁平的网络，在大规模使用时，如果不与路由设备相结合，会遇到较多的困难。 4) 共享带宽不均衡的限制 在L2的交换过程中，如果没有QoS的保障，会出现离目的地远的交换机所能占用的带宽会被较近的交换机挤占的现象。这时，网络的规划显得非常重要。一个是 利用不同的VLAN和spanning－tree，尽量将业务分流。在VC传输管道上也需要考虑是安排多一点的带宽，还是干脆就将以太网业务放到不同的管 道里去传。或者通过QoS策略，保证每个节点的应有带宽。 fallleaf：</p>
<p>ASON所说的总感觉是就技术谈技术，没有结合实际情况。有些一厢情愿</p>
<p>ASON:</p>
<p>当年搞载波机的人对搞PDH的人说：“一根光纤传这么多路电话，如果断了怎么办。” 当年搞PDH的人对搞SDH的人说：“你这155M还没有我140M传的话路多，我用不着交叉连接，有DDF，调电路更方便。” 当年搞SDH的人对搞MSTP的人说：“。。。。。。” 让不远的将来来说吧，呵呵</p>
<p>fallleaf，呵呵，如果真有实际的情况，你不妨放一个上来，让大家都讨论讨论吧。这里高手如云，大家没准各出奇招呢。</p>
<p>fallleaf:</p>
<p>问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。其他功能还有什么用。</p>
<p>ASON:</p>
<p>呵呵，其实好多中小城市的数据网其实是可以以MSTP为主，构成数据城域网的。关键是这些MSTP需要解决纯L2交换的一些局限，如我上文所说。在城域网的接入和汇聚层，MSTP有许多应用的机会。</p>
<p>关键是，现在负责建设数据城域网的是数据部门，不是传输部门，所以MSTP没有用武之地啊。从这个方面讲，设计部门更应该及早了解MSTP的数据处理能力，在设计网络的时候能够统一考虑，提出综合的网络设计方案。</p>
<p>问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。</p>
<p>透传的以太网业务是干什么用的？MSTP可以凭借自己强大的数据处理功能，在需要处理以太网业务的地方发挥自己应有的作用的。</p>
<p>另外，透传也要好好研究，有在物理层的映射，这叫透传。还有二层的QinQ，以太网业务也可以透传，甚至在三层的Ethernet over MPLS，也是透传。呵呵，如果MSTP能够做到Ethernet over MPLS，那用它来组数据城域网还有什么不可以的？</p>
<p>tianzd:</p>
<p>问题就在于没有多少实例验证MSTP的组网功能。用的上的最多是透传。</p>
<p>这句话很对。目前大多数厂家MSTP设备没有解决以太网保护方式和保护倒换准则如二层交换保护（STP保护）、以太环网保护、ATM VP RING支持等等，二层交换实际处于研发或试用状态。为什么会主要使用路由器＋E1/POS接入、路由器＋光纤直连等方式（自然是MSTP、SDH、PDH、微波、光纤直连、光纤拉远等手段都使用）进行数据业务接入，不是传输或数据部门的技术观念问题，你说谁愿意用落后的技术？在用网络改造可比新建困难的多，除 了投资汇报等因素外，应该说现阶段MSTP设备在标准、产品上都与实际应用有差距，希望MSTP研发人员转换观念，深入实际应用，作为厂家、专家不要为MSTP而MSTP，光顾着炒作，要充分理解实际网络所需要的解决方案，理解MSTP STM－64、MSTP－16、STM－4/1实现的功能要求也是不一样的，需要它们的系统性（希望对此有高见：核心、汇聚、接入是不同的要求），以便充分利用MSTP强大的数据功能组网处理数据业务。</p>
<p>关于传输所MSTP测试问题：应该是验证各厂家设备数据功能的实际所用技术、能力，并没有综合排名之说。 按MSTP设备目前状态，数据与传送网管只能各管各的。 所有运营商当然希望原有SDH进行MSTP功能升级后就能解决所有数据业务问题。只是目前设备性能不怎么样，价格却不低。</p>
<p>谢fallleaf！！！个人认为新建的小网络使用MSTP无可厚非，希望能有大网络特别是综合网络实例验证MSTP的组网功能。咱们关注新技术，不迷信新技术。 回头看：朗讯94—96力推DXC，从中国电信捞了不少票子，可实际上DDF一个也不少，更可怜的是连千年虫问题时也需付美金请老外站在DXC旁来软件升级。</p>
<p>ASON:</p>
<p>只是目前设备性能不怎么样，价格却不低。</p>
<p>呵呵，我觉得这句话也许道出了MSTP目前所面临的问题。另外，对于数据应用来说，我觉得MSTP也就是应用在接入层和汇聚层，核心层的数据设备还是需要 专门的交换机和路由器的。如果定位在接入和汇聚层，MSTP的接口速率应该是622M，2.5G这个水平。如果是局间的数据业务高速透传，可能需要用到 10G的SDH设备来传送高速的数据业务，但不需要MSTP来处理了。155M级别的SDH设备，传传低速的以太网业务就可以了，哈哈，没必要再搞什么特 别的东东在上面了。</p>
<p>yxy791106:</p>
<p>注意看，首先，VPN之间的互通的MPLS-VPN可以由MSTP完成，但在目前，注意！是目前！对于MPLS-VPN的实现不可能单独依赖MSTP，毕竟，MSTP的能力没有这么强。</p>
<p>但是，假如个别的专网用户，要求大带宽，但是它们的路由策略又非常简单（比如仅仅若干条静态路由即可解决问题），比如这个例子里面的VPNA和B，这时在MSTP上叠加L3就是件好事情。我1个MSTP就OK了。而且直接纳入了电信的传输网，管理非常方便。</p>
<p>另外更正一些基本错误，ASON说的：“EthernetoverMPLS”，通常认为是L2的MPLS-VPN，挂不上L3。CISCO官方的标准说法是：EOM为L2，ATOM是L3。</p>
<p>非常欣赏ASON兄弟的言论，希望进一步深入讨论。我前面说过了，我是个数据爱好者，什么东西都往那里想，不妨交个朋友，可以短消息给我，呵呵。</p>
<p>fallleaf:</p>
<p>呵呵，外出一天，回来一看很热闹。 我站在tianzd一边，不过好像这边的人少了些。</p>
<p>我提个另外的建议，既然这么看重数据功能，不如在数据设备上增加传输的功能，这样不比在传输设备上增加数据功能更简单些？呵呵，纯属玩笑。</p>
<p>yxy791106:</p>
<p>原因有2。</p>
<p>1是在数据设备上做传输口比传输上做数据口贵多了，比较一下ROUTER上的E1和POS，和SDH上的ETHERNET口，你就会得出结论。</p>
<p>2是处理能力。相对于数据设备，SDH内部结构简单，芯片的功能比较单一。而ROUTER里面数据的策略太对，常常要通过ASIC阵列和NPU来进行处理，这对于SDH来说太昂贵而且不合算。这个问题以前ZTE的总工陈伟专门做过澄清。</p>
<p>tianzd:</p>
<p>下午3点出差回来，发现这里很冷清。数据设备不做传输口主要是设备供应商传输、数据研发是两条线，单纯从技术面在数据侧提供传输口并不复杂，数据侧要不就 不愿做或提供则价格很高，主要是传输价格低。分析传输价格低的原因首先传输技术这些年进展快，设备是一波推一波，其次传输属于基础网，运营商随时可以更换 传输厂家，而数据、移动通信等属于一旦上了贼船就只能跟船走。</p>
<p>bigtaildog:</p>
<p>tianzd,ASON,fallleaf,燕子都是实际经验丰富的人，而且不吝笔墨，奉献了这么一场精彩的讨论，上次类似这么好的讨论好象是关于FTTH的。</p>
<p>做为听众，我受益很多。讨论一方面涉及到MSTP的数据业务功能的走向，一方面涉及到MSTP如何引入，最后的话题似乎与传输设备和数据设备的定位有些关系。</p>
<p>摘录网通的唐雄燕的一些观点，和讨论中一些观点很切合。</p>
<p>关于MSTP的定位:</p>
<p>1)MSTP技术主要定位在城域网的汇聚层与接入层，利用MSTP实现城域网接入层和汇聚层实现传送网与业务网的“合网建设”，这种方式特别适合应用在以TDM业务为主、同时需要提供以太网业务及ATM业务的网络环境中。</p>
<p>2)要正确处理传送网与业务网的关系。MSTP主要是为业务网提供接入与延伸手段，而不是完全替代业务网. 3)MSTP技术虽然实现了多种接入方式的综合，能够完成TDM业务、以太网业务和ATM业务等多种业务的综合接入和传送，但是对于单一业务，例如以太网业务，其性价比显然不如专用的以太网交换机，MSTP并非某单个业务接入的最佳解决方案。</p>
<p>MSTP的引入:</p>
<p>1)对于MSTP技术的引入，关键问题是如何处理好传送网与业务网的关系。从本质上讲，MSTP定位于城域传送网范畴，主要目的是实现多业务的综合传送，其较完善的二层交换等数据链路层功能也仅仅是为了提高数据业务的传送效率</p>
<p>2)引入MSTP与现行网络维护和业务管理体制存在矛盾。传统的网络运行维护和业务管理是按专业划分的，数据网络和传输网络通常由不同的部门管理，各个网络也有自己相对独立的网管系统，这种管理模式会对MSTP的引入产生一定的障碍。</p>
<p>3)引入时应充分考虑与城域IP网、本地SDH网的统筹规划,</p>
<p>tianzd:</p>
<p>MSTP现象：</p>
<p>1、专家、厂家推动多，运营商应用少。特别是试用多，规模商用少。 2、新兴运营商的网络应用多，主流运营商网络应用少。因为业务总量、种类需求不一样。 3、专家、厂家倡导技术走向，文章多（大同小异），运营商只是关注技术走向，注重网络综合效果、设备性价比、投资回报等等，文章自然少。 4、运营商传输的希望多应用（如我等），数据的说用MSTP投资高，网络的业务管理等功能、可维护性还不如数据设备。 各位大侠，能否提供各主流厂商MSTP规模应用的实例（网络的网元数量超100，设备具备主要的MSTP功能，最好有RPR、MPLS）</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/mstp/">MSTP</a>
        
            <a href="/tags/c-fol/">C-FOL</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>CC BY-NC-SA 4.0</span>
    </section>
    <section class="article-lastmod">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



        <span>
            最后更新于 2023年7月30日 09:11
        </span>
    </section></footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        const elementsToRender = [".main-article", ".widget--toc"];

        elementsToRender.forEach(selector => {
            const element = document.querySelector(selector);
            if (element) {
                renderMathInElement(element, {
                    delimiters: [
                        { left: "$$", right: "$$", display: true },
                        { left: "$", right: "$", display: false },
                        { left: "\\(", right: "\\)", display: false },
                        { left: "\\[", right: "\\]", display: true }
                    ],
                    ignoredClasses: ["gist"]
                });
            }
        });
    });
</script>
    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/p/tech-mstp-device-selection-negotiation/">
        
        

        <div class="article-details">
            <h2 class="article-title">MSTP传输设备选型谈判需要注意的几个问题</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/tech-pcdn-overview/">
        
        
            <div class="article-image">
                <img src="/p/tech-pcdn-overview/cover.1156c9f3f569e8d3ac9cbf929a79ef9b_hu_980ce765dbf164b2.webp" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post PCDN现象初探及浅见"
                        data-key="tech-pcdn-overview" 
                        data-hash="md5-EVbJ8/Vp6NOsnL&#43;Smnnvmw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">PCDN现象初探及浅见</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/tech-fiber-direct-vs-transport-reliability/">
        
        
            <div class="article-image">
                <img src="/p/tech-fiber-direct-vs-transport-reliability/cover.0dac2d5e8ad2a8103e36b1ba120f5d7b_hu_c393f9e28a4fe86c.webp" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 业务电路承载：光纤直驱 vs. 传输系统？一个可靠性排序的分析"
                        data-key="tech-fiber-direct-vs-transport-reliability" 
                        data-hash="md5-DawtXorSqBA&#43;NrG6Eg9dew==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">业务电路承载：光纤直驱 vs. 传输系统？一个可靠性排序的分析</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/tech-fiber-more-longer-more-fail/">
        
        
            <div class="article-image">
                <img src="/p/tech-fiber-more-longer-more-fail/cover.fa35bf5f58d78ea2923c16d7bd431725_hu_830589a5addcde42.webp" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 距离越长，光缆就越容易出故障吗？"
                        data-key="tech-fiber-more-longer-more-fail" 
                        data-hash="md5-&#43;jW/X1jXjqKSPBbXvUMXJQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">距离越长，光缆就越容易出故障吗？</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/tech-cpo-data-center-energy-efficiency-revolution/">
        
        
            <div class="article-image">
                <img src="/p/tech-cpo-data-center-energy-efficiency-revolution/cover.7866bdb957712bfc1a436dd0d13780ac_hu_6c1a798e1b4fb226.webp" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post 光电共封装（CPO）：数据中心的下一场“能效革命"
                        data-key="tech-cpo-data-center-energy-efficiency-revolution" 
                        data-hash="md5-eGa9uVdxK/waQ23Q0TeArA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">光电共封装（CPO）：数据中心的下一场“能效革命</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    document.addEventListener('DOMContentLoaded', function() {
        if (typeof Waline !== 'undefined') {
            Waline.init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":null},"pageview":true,"requiredMeta":["name","email"],"serverURL":"https://comments.fallleaf.net"});
        } else {
            
            const script = document.querySelector('script[src*="waline.js"]');
            script.addEventListener('load', function() {
                Waline.init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":null},"pageview":true,"requiredMeta":["name","email"],"serverURL":"https://comments.fallleaf.net"});
            });
        }
    });
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2004 - 
        
        2026 红旗下的蛋
    </section>
    
    <section class="powerby">
        使用 <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> 构建 <br />
        主题 <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.33.0">Stack</a></b> 由 <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> 设计
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >
    

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<style>
.markmap > svg {
  width: 100%;
  height: 300px;
}
</style>
<script>
window.markmap = {
  autoLoader: {
      manual: true,
      onReady() {
        const { autoLoader, builtInPlugins } = window.markmap;
        autoLoader.transformPlugins = builtInPlugins.filter(plugin => plugin.name !== 'prism');
      },
  },
};
</script>
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"
      crossorigin="anonymous">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"
        crossorigin="anonymous">
</script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/mhchem.min.js"
        crossorigin="anonymous">
</script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/auto-render.min.js"
       crossorigin="anonymous"
       onload='renderMathInElement(document.body, null);'>
</script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"
        crossorigin="anonymous"></script>
<script src="/js/main.min.beed1be94ebe04a73a3d983583046daf3fd8ac54857fa72d94a1e83c470d9eaf.js" integrity="sha256-vu0b6U6&#43;BKc6PZg1gwRtrz/YrFSFf6ctlKHoPEcNnq8=" crossorigin="anonymous"></script>



<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "c7b328806c114989a0ff30c655b3ce85"}'></script>

    </body>
</html>
